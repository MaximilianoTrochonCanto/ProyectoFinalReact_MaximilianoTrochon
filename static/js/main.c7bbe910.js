/*! For license information please see main.c7bbe910.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,o,s],c=0;(u=new Error(t.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}))};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var s=i||"<<anonymous>>",u=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+u+"` was not specified in `"+s+"`."):null;for(var l=arguments.length,c=Array(l>6?l-6:0),f=6;f<l;f++)c[f-6]=arguments[f];return e.apply(void 0,[n,r,s,a,u].concat(c))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case w:return"Portal";case x:return"Profiler";case C:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ee=null,Ce=null;function xe(e){if(e=ki(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=bi(t),we(e.stateNode,e.type,t))}}function Se(e){Ee?Ce?Ce.push(e):Ce=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=Ce;if(Ce=Ee=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Re=!1;function Pe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ie(e,t,n)}finally{Re=!1,(null!==Ee||null!==Ce)&&(Ne(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ae=!1;if(c)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ce){Ae=!1}function Le(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,s,u){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Qe=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,Et,Ct,xt,St=!1,Tt=[],It=null,Nt=null,Rt=null,Pt=new Map,Dt=new Map,At=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void xt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){St=!1,null!==It&&jt(It)&&(It=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==Rt&&jt(Rt)&&(Rt=null),Pt.forEach(Ut),Dt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Nt&&zt(Nt,e),null!==Rt&&zt(Rt,e),Pt.forEach(t),Dt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Ft(n),null===n.blockedOn&&At.shift()}var qt=_.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Qt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Qt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Qt(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Gt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&bt(a),null===(a=$t(e,t,n,r))&&Wr(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Gt=null;function $t(e,t,n,r){if(Gt=null,null!==(e=gi(e=be(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),fn=F({},ln,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),yn=an(F({},fn,{relatedTarget:0})),mn=an(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),_n=an(F({},ln,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function xn(){return Cn}var Sn=F({},fn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),In=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Rn=an(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Pn),An=[9,13,27,32],On=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Mn=c&&"TextEvent"in window&&!Ln,Fn=c&&(!On||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Se(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Qn=null;function Gn(e){jr(e,0)}function $n(e){if(Q(_i(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Qn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Qn)){var t=[];Hn(t,Qn,e,be(e)),Pe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Qn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,kr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==G(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(mr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Er={},Cr={};function xr(e){if(Er[e])return Er[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Er[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Sr=xr("animationend"),Tr=xr("animationiteration"),Ir=xr("animationstart"),Nr=xr("transitionend"),Rr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Rr.set(e,t),u(t,[e])}for(var Ar=0;Ar<Pr.length;Ar++){var Or=Pr[Ar];Dr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Dr(Sr,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Ir,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=Fe;Me=!1,Fe=null,je||(je=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,l),a=u}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=be(n),o=[];e:{var s=Rr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":l="focus",u=yn;break;case"focusout":l="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Sr:case Tr:case Ir:u=mn;break;case Nr:u=Rn;break;case"scroll":u=hn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&c.push(Hr(p,v,d)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(f=Be(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:_i(u),d=null==l?s:_i(l),(s=new c(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(h=l,p=0,d=c=u;d;d=Qr(d))p++;for(d=0,v=h;v;v=Qr(v))d++;for(;0<p-d;)c=Qr(c),p--;for(;0<d-p;)h=Qr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Qr(c),h=Qr(h)}c=null}else c=null;null!==u&&Gr(o,s,u,c,!1),null!==l&&null!==f&&Gr(o,f,l,c,!0)}if("select"===(u=(s=r?_i(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=Yn;else if(Wn(s))if(Xn)y=or;else{y=ir;var m=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ar);switch(y&&(y=y(e,r))?Hn(o,y,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?_i(r):window,e){case"focusin":(Wn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,_r(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(m=Kr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=De(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=De(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=De(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function bi(e){return e[di]||null}var wi=[],Ei=-1;function Ci(e){return{current:e}}function xi(e){0>Ei||(e.current=wi[Ei],wi[Ei]=null,Ei--)}function Si(e,t){Ei++,wi[Ei]=e.current,e.current=t}var Ti={},Ii=Ci(Ti),Ni=Ci(!1),Ri=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){xi(Ni),xi(Ii)}function Oi(e,t,n){if(Ii.current!==Ti)throw Error(a(168));Si(Ii,t),Si(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ri=Ii.current,Si(Ii,e),Si(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,xi(Ni),xi(Ii),Si(Ii,e)):xi(Ni),Si(Ni,n)}var ji=null,Ui=!1,Vi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Qe(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Qi=[],Gi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Qi[Gi++]=Yi,Qi[Gi++]=Xi,Qi[Gi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===$i;)$i=Qi[--Gi],Qi[Gi]=null,Xi=Qi[--Gi],Qi[Gi]=null,Yi=Qi[--Gi],Qi[Gi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=li(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=_.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Ci(null),ga=null,ka=null,_a=null;function ba(){_a=ka=ga=null}function wa(e){var t=ma.current;xi(ma),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t){ga=e,_a=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function xa(e){var t=e._currentValue;if(_a!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Aa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,c=l=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Ra=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=f):c=c.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fu|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Aa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rl(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Aa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rl(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Aa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(rl(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=xa(a):(i=Di(t)?Ri:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=xa(a):(a=Di(t)?Ri:Ii.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ga(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ol(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Ga(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Ll(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Ll(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case w:return(t=Ul(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ml(t,e.mode,n,null)).return=e,t;Qa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?l(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Qa(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,f=a,v=a=0,y=null;null!==f&&v<s.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,s[v],u);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m,f=y}if(v===s.length)return n(i,f),ia&&Ji(i,v),l;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return ia&&Ji(i,v),l}for(f=r(i,f);v<s.length;v++)null!==(y=p(f,i,v,s[v],u))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),l}function y(i,s,u,l){var c=L(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,v=s,y=s=0,m=null,g=u.next();null!==v&&!g.done;y++,g=u.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,l);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,y),null===f?c=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),ia&&Ji(i,y),c;if(null===v){for(;!g.done;y++,g=u.next())null!==(g=h(i,g.value,l))&&(s=o(g,s,y),null===f?c=g:f.sibling=g,f=g);return ia&&Ji(i,y),c}for(v=r(i,v);!g.done;y++,g=u.next())null!==(g=p(v,i,y,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),s=o(g,s,y),null===f?c=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,y),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===E){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===D&&Ga(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ka(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===E?((a=Ml(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Ll(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case w:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ul(o,r.mode,u)).return=r,r=a}return s(r);case D:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return y(r,a,o,u);Qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jl(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=Ci(Ja),eo=Ci(Ja),to=Ci(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Za),Si(Za,t)}function io(){xi(Za),xi(eo),xi(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Si(eo,e),Si(Za,n))}function oo(e){eo.current===e&&(xi(Za),xi(eo))}var so=Ci(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=_.ReactCurrentDispatcher,ho=_.ReactCurrentBatchConfig,po=0,vo=null,yo=null,mo=null,go=!1,ko=!1,_o=0,bo=0;function wo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Co(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,_o=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,fo.current=ls,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==yo&&null!==yo.next,po=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function xo(){var e=0!==_o;return _o=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function To(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Io(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var f=c.lane;if((po&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=h,s=r):l=l.next=h,vo.lanes|=f,Fu|=f}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(_s=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Do(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,_s=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,Uo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Ru)throw Error(a(349));0!==(30&po)||Ao(n,t,i)}return i}function Ao(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&rl(t,e,1,-1)}function jo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ho(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Qo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Go(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Qo.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Fu|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ia(e,t,n,r))){rl(n,e,r,tl()),as(n,t,r)}}function ns(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ia(e,t,i,r))&&(rl(n,e,r,i=tl()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:xa,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},ss={readContext:xa,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:xa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:jo,useDebugValue:$o,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ru)throw Error(a(349));0!==(30&po)||Ao(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Ru.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=_o++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:xa,useCallback:Yo,useContext:xa,useEffect:Wo,useImperativeHandle:Go,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Io)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),yo.memoizedState,e)},useTransition:function(){return[No(Io)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1},ls={readContext:xa,useCallback:Yo,useContext:xa,useEffect:Wo,useImperativeHandle:Go,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:Ro,useRef:Vo,useState:function(){return Ro(Io)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===yo?t.memoizedState=e:Jo(t,yo.memoizedState,e)},useTransition:function(){return[Ro(Io)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Aa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Ku=r),hs(0,t)},n}function vs(e,t,n){(n=Aa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Qu?Qu=new Set([this]):Qu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ys(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sl.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Aa(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=_.ReactCurrentOwner,_s=!1;function bs(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return Ca(t,i),r=Co(e,t,n,r,a,i),n=xo(),null===e||_s?(ia&&n&&ea(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Es(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Al(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ll(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Cs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Ol(a,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(_s=!0)}}return Ts(e,t,n,r,i)}function xs(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ou,Au),Au|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ou,Au),Au|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Ou,Au),Au|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Ou,Au),Au|=r;return bs(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Di(n)?Ri:Ii.current;return a=Pi(t,a),Ca(t,i),n=Co(e,t,n,r,a,i),r=xo(),null===e||_s?(ia&&r&&ea(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Is(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(Ca(t,i),null===t.stateNode)Ws(e,t),qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=xa(l):l=Pi(t,l=Di(n)?Ri:Ii.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Wa(t,o,r,l),Ra=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ni.current||Ra?("function"===typeof c&&(Va(t,n,c,r),u=t.memoizedState),(s=Ra||Ba(t,n,s,r,h,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ya(t.type,s),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=xa(u):u=Pi(t,u=Di(n)?Ri:Ii.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Wa(t,o,r,u),Ra=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ni.current||Ra?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(l=Ra||Ba(t,n,l,r,h,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Ss(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Hs(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):bs(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Rs(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Ps(e,t,n,r,i){return da(),pa(i),t.flags|=256,bs(e,t,n,r),t.child}var Ds,As,Os,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Fl(u,i,0,null),e=Ml(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ms,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fl({mode:"visible",children:r.children},i,0,null),(o=Ml(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),_s||u){if(null!==(r=Ru)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rl(r,e,i,-1))}return yl(),Vs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Il.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Qi[Gi++]=Yi,Qi[Gi++]=Xi,Qi[Gi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ol(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Ol(r,s):(s=Ml(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Fs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Ol(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Fl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ol(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ol(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qs(t),null;case 1:case 17:return Di(t.type)&&Ai(),Qs(t),null;case 3:return r=t.stateNode,io(),xi(Ni),xi(Ii),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sl(aa),aa=null))),As(e,t),Qs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Qs(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ds(e,t,!1,!1),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?ye(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Ur("scroll",e):null!=c&&k(e,o,c,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Qs(t),null;case 13:if(xi(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qs(t),o=!1}else null!==aa&&(sl(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):yl())),null!==t.updateQueue&&(t.flags|=4),Qs(t),null);case 4:return io(),As(e,t),null===e&&Br(t.stateNode.containerInfo),Qs(t),null;case 10:return wa(t.type._context),Qs(t),null;case 19:if(xi(so),null===(o=t.memoizedState))return Qs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ks(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ks(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qu&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Qs(t),null}else 2*Xe()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Si(so,r?1&n|2:1&n),t):(Qs(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Au)&&(Qs(t),6&t.subtreeFlags&&(t.flags|=8192)):Qs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $s(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),xi(Ni),xi(Ii),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(xi(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(so),null;case 4:return io(),null;case 10:return wa(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},As=function(){},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Ur("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xl(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){xl(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Xs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){xl(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,du(e,t,n),Xs=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Nl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function yu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){xl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yu(t,e),gu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(y){xl(e,e.return,y)}try{ru(5,e,e.return)}catch(y){xl(e,e.return,y)}}break;case 1:yu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(yu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){xl(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),ke(u,s);var c=ke(u,o);for(s=0;s<l.length;s+=2){var f=l[s],h=l[s+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,c)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){xl(e,e.return,y)}}break;case 6:if(yu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){xl(e,e.return,y)}}break;case 3:if(yu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(y){xl(e,e.return,y)}break;case 4:default:yu(t,e),gu(e);break;case 13:yu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Xe())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(c=Xs)||f,yu(t,e),Xs=c):yu(t,e),gu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){xl(r,n,y)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Zs=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(y){xl(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){xl(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yu(t,e),gu(e),4&r&&vu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;lu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){xl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ku(e,t,n){Zs=e,_u(e,t,n)}function _u(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Ys;var l=Xs;if(Ys=o,(Xs=u)&&!l)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?Eu(i):null!==u?(u.return=o,Zs=u):Eu(i);for(;null!==a;)Zs=a,_u(a,t,n),a=a.sibling;Zs=i,Ys=s,Xs=l}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):bu(e)}}function bu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&au(t)}catch(d){xl(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function wu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function Eu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){xl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){xl(t,i,u)}}var a=t.return;try{au(t)}catch(u){xl(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){xl(t,o,u)}}}catch(u){xl(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Cu,xu=Math.ceil,Su=_.ReactCurrentDispatcher,Tu=_.ReactCurrentOwner,Iu=_.ReactCurrentBatchConfig,Nu=0,Ru=null,Pu=null,Du=0,Au=0,Ou=Ci(0),Lu=0,Mu=null,Fu=0,ju=0,Uu=0,Vu=null,zu=null,Bu=0,qu=1/0,Wu=null,Hu=!1,Ku=null,Qu=null,Gu=!1,$u=null,Yu=0,Xu=0,Ju=null,Zu=-1,el=0;function tl(){return 0!==(6&Nu)?Xe():-1!==Zu?Zu:Zu=Xe()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Nu)&&0!==Du?Du&-Du:null!==va.transition?(0===el&&(el=vt()),el):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rl(e,t,n,r){if(50<Xu)throw Xu=0,Ju=null,Error(a(185));mt(e,n,r),0!==(2&Nu)&&e===Ru||(e===Ru&&(0===(2&Nu)&&(ju|=n),4===Lu&&ul(e,Du)),il(e,r),1===n&&0===Nu&&0===(1&t.mode)&&(qu=Xe()+500,Ui&&Bi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Ru?Du:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(ll.bind(null,e)):zi(ll.bind(null,e)),oi((function(){0===(6&Nu)&&Bi()})),n=null;else{switch(_t(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rl(n,al.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function al(e,t){if(Zu=-1,el=0,0!==(6&Nu))throw Error(a(327));var n=e.callbackNode;if(El()&&e.callbackNode!==n)return null;var r=ht(e,e===Ru?Du:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var i=Nu;Nu|=2;var o=vl();for(Ru===e&&Du===t||(Wu=null,qu=Xe()+500,dl(e,t));;)try{kl();break}catch(u){pl(e,u)}ba(),Su.current=o,Nu=i,null!==Pu?t=0:(Ru=null,Du=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Mu,dl(e,0),ul(e,r),il(e,Xe()),n;if(6===t)ul(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,r))&&(0!==(o=pt(e))&&(r=o,t=ol(e,o))),1===t))throw n=Mu,dl(e,0),ul(e,r),il(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wl(e,zu,Wu);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=Bu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wl.bind(null,e,zu,Wu),t);break}wl(e,zu,Wu);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xu(r/1960))-r)){e.timeoutHandle=ri(wl.bind(null,e,zu,Wu),r);break}wl(e,zu,Wu);break;default:throw Error(a(329))}}}return il(e,Xe()),e.callbackNode===n?al.bind(null,e):null}function ol(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=zu,zu=n,null!==t&&sl(t)),e}function sl(e){null===zu?zu=e:zu.push.apply(zu,e)}function ul(e,t){for(t&=~Uu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Nu))throw Error(a(327));El();var t=ht(e,0);if(0===(1&t))return il(e,Xe()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Mu,dl(e,0),ul(e,t),il(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,zu,Wu),il(e,Xe()),null}function cl(e,t){var n=Nu;Nu|=1;try{return e(t)}finally{0===(Nu=n)&&(qu=Xe()+500,Ui&&Bi())}}function fl(e){null!==$u&&0===$u.tag&&0===(6&Nu)&&El();var t=Nu;Nu|=1;var n=Iu.transition,r=kt;try{if(Iu.transition=null,kt=1,e)return e()}finally{kt=r,Iu.transition=n,0===(6&(Nu=t))&&Bi()}}function hl(){Au=Ou.current,xi(Ou)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:io(),xi(Ni),xi(Ii),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:xi(so);break;case 10:wa(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Ru=e,Pu=e=Ol(e.current,null),Du=Au=t,Lu=0,Mu=null,Uu=ju=Fu=0,zu=Vu=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function pl(e,t){for(;;){var n=Pu;try{if(ba(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,mo=yo=vo=null,ko=!1,_o=0,Tu.current=null,null===n||null===n.return){Lu=1,Mu=t,Pu=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Du,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ys(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(l),t.updateQueue=y}else v.add(l);break e}if(0===(1&t)){ys(o,c,t),yl();break e}l=Error(a(426))}else if(ia&&1&u.mode){var m=ms(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gs(m,s,u,0,t),pa(cs(l,u));break e}}o=l=cs(l,u),4!==Lu&&(Lu=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,l,t));break e;case 1:u=l;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Qu||!Qu.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}bl(n)}catch(_){t=_,Pu===n&&null!==n&&(Pu=n=n.return);continue}break}}function vl(){var e=Su.current;return Su.current=os,null===e?os:e}function yl(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Ru||0===(268435455&Fu)&&0===(268435455&ju)||ul(Ru,Du)}function ml(e,t){var n=Nu;Nu|=2;var r=vl();for(Ru===e&&Du===t||(Wu=null,dl(e,t));;)try{gl();break}catch(i){pl(e,i)}if(ba(),Nu=n,Su.current=r,null!==Pu)throw Error(a(261));return Ru=null,Du=0,Lu}function gl(){for(;null!==Pu;)_l(Pu)}function kl(){for(;null!==Pu&&!$e();)_l(Pu)}function _l(e){var t=Cu(e.alternate,e,Au);e.memoizedProps=e.pendingProps,null===t?bl(e):Pu=t,Tu.current=null}function bl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Au)))return void(Pu=n)}else{if(null!==(n=$s(n,t)))return n.flags&=32767,void(Pu=n);if(null===e)return Lu=6,void(Pu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Lu&&(Lu=5)}function wl(e,t,n){var r=kt,i=Iu.transition;try{Iu.transition=null,kt=1,function(e,t,n,r){do{El()}while(null!==$u);if(0!==(6&Nu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ru&&(Pu=Ru=null,Du=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Rl(tt,(function(){return El(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Iu.transition,Iu.transition=null;var s=kt;kt=1;var u=Nu;Nu|=4,Tu.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(u=s),d===o&&++f===r&&(l=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(a(163))}}catch(b){xl(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),mu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,ku(n,e,i),Ye(),Nu=u,kt=s,Iu.transition=o}else e.current=n;if(Gu&&(Gu=!1,$u=e,Yu=i),o=e.pendingLanes,0===o&&(Qu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Ku,Ku=null,e;0!==(1&Yu)&&0!==e.tag&&El(),o=e.pendingLanes,0!==(1&o)?e===Ju?Xu++:(Xu=0,Ju=e):Xu=0,Bi()}(e,t,n,r)}finally{Iu.transition=i,kt=r}return null}function El(){if(null!==$u){var e=_t(Yu),t=Iu.transition,n=kt;try{if(Iu.transition=null,kt=16>e?16:e,null===$u)var r=!1;else{if(e=$u,$u=null,Yu=0,0!==(6&Nu))throw Error(a(331));var i=Nu;for(Nu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Zs=c;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(ou(f),f===c){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zs=g;break e}Zs=o.return}}var k=e.current;for(Zs=k;null!==Zs;){var _=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,Zs=_;else e:for(s=k;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(w){xl(u,u.return,w)}if(u===s){Zs=null;break e}var b=u.sibling;if(null!==b){b.return=u.return,Zs=b;break e}Zs=u.return}}if(Nu=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{kt=n,Iu.transition=t}}return!1}function Cl(e,t,n){e=Oa(e,t=ps(0,t=cs(n,t),1),1),t=tl(),null!==e&&(mt(e,1,t),il(e,t))}function xl(e,t,n){if(3===e.tag)Cl(e,e,n);else for(;null!==t;){if(3===t.tag){Cl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Qu||!Qu.has(r))){t=Oa(t,e=vs(t,e=cs(n,e),1),1),e=tl(),null!==t&&(mt(t,1,e),il(t,e));break}}t=t.return}}function Sl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Du&n)===n&&(4===Lu||3===Lu&&(130023424&Du)===Du&&500>Xe()-Bu?dl(e,0):Uu|=n),il(e,t)}function Tl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=Na(e,t))&&(mt(e,t,n),il(e,n))}function Il(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tl(e,n)}function Nl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tl(e,n)}function Rl(e,t){return Qe(e,t)}function Pl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dl(e,t,n,r){return new Pl(e,t,n,r)}function Al(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ol(e,t){var n=e.alternate;return null===n?((n=Dl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Al(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Ml(n.children,i,o,t);case C:s=8,i|=8;break;case x:return(e=Dl(12,n,t,2|i)).elementType=x,e.lanes=o,e;case N:return(e=Dl(13,n,t,i)).elementType=N,e.lanes=o,e;case R:return(e=Dl(19,n,t,i)).elementType=R,e.lanes=o,e;case A:return Fl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case T:s=9;break e;case I:s=11;break e;case P:s=14;break e;case D:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dl(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ml(e,t,n,r){return(e=Dl(7,e,r,t)).lanes=n,e}function Fl(e,t,n,r){return(e=Dl(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function jl(e,t,n){return(e=Dl(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Dl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zl(e,t,n,r,i,a,o,s,u){return e=new Vl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function Bl(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function ql(e,t,n,r,i,a,o,s,u){return(e=zl(n,r,!0,e,0,a,0,s,u)).context=Bl(null),n=e.current,(a=Aa(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,mt(e,i,r),il(e,r),e}function Wl(e,t,n,r){var i=t.current,a=tl(),o=nl(i);return n=Bl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Aa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(rl(e,i,o,a),La(e,i,o)),o}function Hl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ql(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}Cu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)_s=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:Rs(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Si(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Si(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,xs(e,t,n)}return Hs(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Pi(t,Ii.current);Ca(t,n),i=Co(null,t,r,e,i,n);var o=xo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Al(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=Es(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Rs(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ss(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Si(ma,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Aa(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ea(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ea(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ca(t,n),r=r(i=xa(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),Es(e,t,r,i=ya(r.type,i),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),Ws(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Ca(t,n),qa(t,r,i),Ha(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return xs(e,t,n)}throw Error(a(156,t.tag))};var Gl="function"===typeof reportError?reportError:function(e){console.error(e)};function $l(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hl(o);s.call(e)}}Wl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hl(o);a.call(e)}}var o=ql(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hl(u);s.call(e)}}var u=zl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),fl((function(){Wl(t,u,n,r)})),u}(n,t,e,i,r);return Hl(o)}Yl.prototype.render=$l.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wl(e,t,null,null)},Yl.prototype.unmount=$l.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fl((function(){Wl(null,e,null,null)})),t[pi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Ft(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),il(t,Xe()),0===(6&Nu)&&(qu=Xe()+500,Bi()))}break;case 13:fl((function(){var t=Na(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Ql(e,1)}},wt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rl(t,e,134217728,tl());Ql(e,134217728)}},Et=function(e){if(13===e.tag){var t=nl(e),n=Na(e,t);if(null!==n)rl(n,e,t,tl());Ql(e,t)}},Ct=function(){return kt},xt=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(a(90));Q(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cl,Ne=fl;var tc={usingClientEntryPoint:!1,Events:[ki,_i,bi,Se,Te,cl]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(a(299));var n=!1,r="",i=Gl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $l(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return fl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Gl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=ql(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(fl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var _=k.prototype=new g;_.constructor=k,v(_,m.prototype),_.isPureReactComponent=!0;var b=Array.isArray,w=Object.prototype.hasOwnProperty,E={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!C.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:E.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,b(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",b(e))for(var l=0;l<e.length;l++){var c=a+I(s=e[l],l);u+=N(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,c=a+I(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},A={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:A,ReactCurrentOwner:E};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)w.call(t,l)&&!C.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function b(e){if(y=!1,_(e),!v)if(null!==r(l))v=!0,A(w);else{var t=r(c);null!==t&&O(b,t.startTime-e)}}function w(e,n){v=!1,y&&(y=!1,g(S),S=-1),p=!0;var a=d;try{for(_(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(l)&&i(l),_(n)}else i(l);h=r(l)}if(null!==h)var u=!0;else{var f=r(c);null!==f&&O(b,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,C=!1,x=null,S=-1,T=5,I=-1;function N(){return!(t.unstable_now()-I<T)}function R(){if(null!==x){var e=t.unstable_now();I=e;var n=!0;try{n=x(!0,e)}finally{n?E():(C=!1,x=null)}}else C=!1}if("function"===typeof k)E=function(){k(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=R,E=function(){D.postMessage(null)}}else E=function(){m(R,0)};function A(e){x=e,C||(C=!0,E())}function O(e,n){S=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,A(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(y?(g(S),S=-1):y=!0,O(b,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,A(w))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".deeec6c3.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="main:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/ProyectoFinalReact_MaximilianoTrochon/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkmain=self.webpackChunkmain||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(791),t=n.t(e,2),r=n(250);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}function o(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function c(e,t){if(null==e)return{};var n,r,i=l(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var f=n(694),h=n.n(f),d=n(184),p=["xxl","xl","lg","md","sm","xs"],v=e.createContext({prefixes:{},breakpoints:p,minBreakpoint:"xs"});v.Consumer,v.Provider;function y(t,n){var r=(0,e.useContext)(v).prefixes;return t||r[n]||n}var m=["bsPrefix","fluid","as","className"],g=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=void 0!==r&&r,a=e.as,o=void 0===a?"div":a,s=e.className,l=c(e,m),f=y(n,"container"),p="string"===typeof i?"-".concat(i):"-fluid";return(0,d.jsx)(o,u(u({ref:t},l),{},{className:h()(s,i?"".concat(f).concat(p):f)}))}));g.displayName="Container";var k=g;n(573);function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}n(176);function b(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function w(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function E(t,n){return Object.keys(n).reduce((function(r,i){var a,o=r,s=o[b(i)],u=o[i],c=l(o,[b(i),i].map(w)),f=n[i],h=function(t,n,r){var i=(0,e.useRef)(void 0!==t),a=(0,e.useState)(n),o=a[0],s=a[1],u=void 0!==t,l=i.current;return i.current=u,!u&&l&&o!==n&&s(n),[u?t:o,(0,e.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}(u,s,t[f]),d=h[0],p=h[1];return _({},c,((a={})[i]=d,a[f]=p,a))}),t)}function C(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function x(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function S(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}C.__suppressDeprecationWarning=!0,x.__suppressDeprecationWarning=!0,S.__suppressDeprecationWarning=!0;var T=Function.prototype.bind.call(Function.prototype.call,[].slice);function I(e,t){return T(e.querySelectorAll(t))}function N(e){if(Array.isArray(e))return e}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){if(e){if("string"===typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function D(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e,t){return N(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||P(e,t)||D()}var O=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var L=function(t,n){return(0,e.useMemo)((function(){return function(e,t){var n=O(e),r=O(t);return function(e){n&&n(e),r&&r(e)}}(t,n)}),[t,n])},M=e.createContext(null);M.displayName="NavContext";var F=M,j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},U=e.createContext(null),V=e.createContext(null),z="data-rr-ui-";function B(e){return"".concat(z).concat(e)}var q=function(t){var n=(0,e.useRef)(t);return(0,e.useEffect)((function(){n.current=t}),[t]),n};function W(t){var n=q(t);return(0,e.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var H=["as","disabled"];function K(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,s=e.onClick,u=e.tabIndex,l=void 0===u?0:u,c=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var f={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},f];var h=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:h,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),h(e))}},f]}var Q=e.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,H),a=A(K(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,d.jsx)(s,Object.assign({},i,o,{ref:t}))}));Q.displayName="Button";var G=Q,$=["as","active","eventKey"];function Y(t){var n=t.key,r=t.onClick,i=t.active,a=t.id,o=t.role,s=t.disabled,u=(0,e.useContext)(U),l=(0,e.useContext)(F),c=(0,e.useContext)(V),f=i,h={role:o};if(l){o||"tablist"!==l.role||(h.role="tab");var d=l.getControllerId(null!=n?n:null),p=l.getControlledId(null!=n?n:null);h[B("event-key")]=n,h.id=d||a,!(f=null==i&&null!=n?l.activeKey===n:i)&&(null!=c&&c.unmountOnExit||null!=c&&c.mountOnEnter)||(h["aria-controls"]=p)}return"tab"===h.role&&(h["aria-selected"]=f,f||(h.tabIndex=-1),s&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=W((function(e){s||(null==r||r(e),null!=n&&u&&!e.isPropagationStopped()&&u(n,e))})),[h,{isActive:f}]}var X=e.forwardRef((function(e,t){var n=e.as,r=void 0===n?G:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,$),s=A(Y(Object.assign({key:j(a,o.href),active:i},o)),2),u=s[0],l=s[1];return u[B("active")]=l.isActive,(0,d.jsx)(r,Object.assign({},o,u,{ref:t}))}));X.displayName="NavItem";var J=X,Z=["as","onSelect","activeKey","role","onKeyDown"];var ee=function(){},te=B("event-key"),ne=e.forwardRef((function(t,n){var r,i,a=t.as,o=void 0===a?"div":a,s=t.onSelect,u=t.activeKey,l=t.role,c=t.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,Z),h=A((0,e.useReducer)((function(e){return!e}),!1),2)[1],p=(0,e.useRef)(!1),v=(0,e.useContext)(U),y=(0,e.useContext)(V);y&&(l=l||"tablist",u=y.activeKey,r=y.getControlledId,i=y.getControllerId);var m=(0,e.useRef)(null),g=function(e){var t=m.current;if(!t)return null;var n=I(t,"[".concat(te,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},k=function(e,t){null!=e&&(null==s||s(e,t),null==v||v(e,t))};(0,e.useEffect)((function(){if(m.current&&p.current){var e=m.current.querySelector("[".concat(te,"][aria-selected=true]"));null==e||e.focus()}p.current=!1}));var _=L(n,m);return(0,d.jsx)(U.Provider,{value:k,children:(0,d.jsx)(F.Provider,{value:{role:l,activeKey:j(u),getControlledId:r||ee,getControllerId:i||ee},children:(0,d.jsx)(o,Object.assign({},f,{onKeyDown:function(e){if(null==c||c(e),y){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=g(-1);break;case"ArrowRight":case"ArrowDown":t=g(1);break;default:return}if(t)e.preventDefault(),k(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),p.current=!0,h()}},ref:_,role:l}))})})}));ne.displayName="Nav";var re=Object.assign(ne,{Item:J}),ie=e.createContext(null);ie.displayName="NavbarContext";var ae=ie,oe=e.createContext(null);oe.displayName="CardHeaderContext";var se=oe,ue=["className","bsPrefix","as"],le=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,a=void 0===i?"div":i,o=c(e,ue);return r=y(r,"nav-item"),(0,d.jsx)(a,u({ref:t,className:h()(n,r)},o))}));le.displayName="NavItem";var ce=le;var fe="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,he="undefined"!==typeof document||fe?e.useLayoutEffect:e.useEffect;new WeakMap;var de=["onKeyDown"];var pe=e.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,de),a=A(K(Object.assign({tagName:"a"},i)),1)[0],o=W((function(e){a.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,d.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,d.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));pe.displayName="Anchor";var ve=pe,ye=["bsPrefix","className","as","active","eventKey","disabled"],me=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?ve:i,o=e.active,s=e.eventKey,l=e.disabled,f=void 0!==l&&l,p=c(e,ye);n=y(n,"nav-link");var v=A(Y(u({key:j(s,p.href),active:o,disabled:f},p)),2),m=v[0],g=v[1];return(0,d.jsx)(a,u(u(u({},p),m),{},{ref:t,disabled:f,className:h()(r,n,f&&"disabled",g.isActive&&"active")}))}));me.displayName="NavLink";var ge=me,ke=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],_e=e.forwardRef((function(t,n){var r,i,a,s=E(t,{activeKey:"onSelect"}),l=s.as,f=void 0===l?"div":l,p=s.bsPrefix,v=s.variant,m=s.fill,g=void 0!==m&&m,k=s.justify,_=void 0!==k&&k,b=s.navbar,w=s.navbarScroll,C=s.className,x=s.activeKey,S=c(s,ke),T=y(p,"nav"),I=!1,N=(0,e.useContext)(ae),R=(0,e.useContext)(se);return N?(i=N.bsPrefix,I=null==b||b):R&&(a=R.cardHeaderBsPrefix),(0,d.jsx)(re,u({as:f,ref:n,activeKey:x,className:h()(C,(r={},o(r,T,!I),o(r,"".concat(i,"-nav"),I),o(r,"".concat(i,"-nav-scroll"),I&&w),o(r,"".concat(a,"-").concat(v),!!a),o(r,"".concat(T,"-").concat(v),!!v),o(r,"".concat(T,"-fill"),g),o(r,"".concat(T,"-justified"),_),r))},S))}));_e.displayName="Nav";var be=Object.assign(_e,{Item:ce,Link:ge}),we=["bsPrefix","className","as"],Ee=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=c(e,we);n=y(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,d.jsx)(o,u(u({},a),{},{ref:t,className:h()(r,n)}))}));Ee.displayName="NavbarBrand";var Ce=Ee;function xe(e){return e&&e.ownerDocument||document}function Se(e,t){return function(e){var t=xe(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Te=/([A-Z])/g;var Ie=/^ms-/;function Ne(e){return function(e){return e.replace(Te,"-$1").toLowerCase()}(e).replace(Ie,"-ms-")}var Re=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Pe=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Ne(t))||Se(e).getPropertyValue(Ne(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!Re.test(e))}(i)?n+=Ne(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(Ne(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function De(e,t){return De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},De(e,t)}var Ae=n(164),Oe=!1,Le=e.createContext(null),Me="unmounted",Fe="exited",je="entering",Ue="entered",Ve="exiting",ze=function(t){var n,r;function i(e,n){var r;r=t.call(this,e,n)||this;var i,a=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?a?(i=Fe,r.appearStatus=je):i=Ue:i=e.unmountOnExit||e.mountOnEnter?Me:Fe,r.state={status:i},r.nextCallback=null,r}r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,De(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Me?{status:Fe}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==je&&n!==Ue&&(t=je):n!==je&&n!==Ue||(t=Ve)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===je){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Ae.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Fe&&this.setState({status:Me})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Ae.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||Oe?this.safeSetState({status:Ue},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:je},(function(){t.props.onEntering(a,o),t.onTransitionEnd(u,(function(){t.safeSetState({status:Ue},(function(){t.props.onEntered(a,o)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Ae.findDOMNode(this);t&&!Oe?(this.props.onExit(r),this.safeSetState({status:Ve},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Fe},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Fe},(function(){e.props.onExited(r)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Ae.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var t=this.state.status;if(t===Me)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,l(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(Le.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},i}(e.Component);function Be(){}ze.contextType=Le,ze.propTypes={},ze.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Be,onEntering:Be,onEntered:Be,onExit:Be,onExiting:Be,onExited:Be},ze.UNMOUNTED=Me,ze.EXITED=Fe,ze.ENTERING=je,ze.ENTERED=Ue,ze.EXITING=Ve;var qe=ze,We=!("undefined"===typeof window||!window.document||!window.document.createElement),He=!1,Ke=!1;try{var Qe={get passive(){return He=!0},get once(){return Ke=He=!0}};We&&(window.addEventListener("test",Qe,Qe),window.removeEventListener("test",Qe,!0))}catch(UC){}var Ge=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Ke){var i=r.once,a=r.capture,o=n;!Ke&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,He?r:a)}e.addEventListener(t,n,r)};var $e=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var Ye=function(e,t,n,r){return Ge(e,t,n,r),function(){$e(e,t,n,r)}};function Xe(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=Ye(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function Je(e,t,n,r){null==n&&(n=function(e){var t=Pe(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Xe(e,n,r),a=Ye(e,"transitionend",t);return function(){i(),a()}}function Ze(e,t){var n=Pe(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function et(e,t){var n=Ze(e,"transitionDuration"),r=Ze(e,"transitionDelay"),i=Je(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var tt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function nt(e){e.offsetHeight}var rt,it=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],at=e.forwardRef((function(t,n){var r=t.onEnter,i=t.onEntering,a=t.onEntered,o=t.onExit,s=t.onExiting,l=t.onExited,f=t.addEndListener,h=t.children,p=t.childRef,v=c(t,it),y=(0,e.useRef)(null),m=L(y,p),g=function(e){var t;m((t=e)&&"setState"in t?Ae.findDOMNode(t):null!=t?t:null)},k=function(e){return function(t){e&&y.current&&e(y.current,t)}},_=(0,e.useCallback)(k(r),[r]),b=(0,e.useCallback)(k(i),[i]),w=(0,e.useCallback)(k(a),[a]),E=(0,e.useCallback)(k(o),[o]),C=(0,e.useCallback)(k(s),[s]),x=(0,e.useCallback)(k(l),[l]),S=(0,e.useCallback)(k(f),[f]);return(0,d.jsx)(qe,u(u({ref:n},v),{},{onEnter:_,onEntered:w,onEntering:b,onExit:E,onExited:x,onExiting:C,addEndListener:S,nodeRef:y,children:"function"===typeof h?function(e,t){return h(e,u(u({},t),{},{ref:g}))}:e.cloneElement(h,{ref:g})}))})),ot=at,st=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","in","timeout","mountOnEnter","unmountOnExit","appear","getDimensionValue"],ut={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function lt(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=ut[e];return n+parseInt(Pe(t,r[0]),10)+parseInt(Pe(t,r[1]),10)}var ct=(o(rt={},Fe,"collapse"),o(rt,Ve,"collapsing"),o(rt,je,"collapsing"),o(rt,Ue,"collapse show"),rt),ft=e.forwardRef((function(t,n){var r=t.onEnter,i=t.onEntering,a=t.onEntered,o=t.onExit,s=t.onExiting,l=t.className,f=t.children,p=t.dimension,v=void 0===p?"height":p,y=t.in,m=void 0!==y&&y,g=t.timeout,k=void 0===g?300:g,_=t.mountOnEnter,b=void 0!==_&&_,w=t.unmountOnExit,E=void 0!==w&&w,C=t.appear,x=void 0!==C&&C,S=t.getDimensionValue,T=void 0===S?lt:S,I=c(t,st),N="function"===typeof v?v():v,R=(0,e.useMemo)((function(){return tt((function(e){e.style[N]="0"}),r)}),[N,r]),P=(0,e.useMemo)((function(){return tt((function(e){var t="scroll".concat(N[0].toUpperCase()).concat(N.slice(1));e.style[N]="".concat(e[t],"px")}),i)}),[N,i]),D=(0,e.useMemo)((function(){return tt((function(e){e.style[N]=null}),a)}),[N,a]),A=(0,e.useMemo)((function(){return tt((function(e){e.style[N]="".concat(T(N,e),"px"),nt(e)}),o)}),[o,T,N]),O=(0,e.useMemo)((function(){return tt((function(e){e.style[N]=null}),s)}),[N,s]);return(0,d.jsx)(ot,u(u({ref:n,addEndListener:et},I),{},{"aria-expanded":I.role?m:null,onEnter:R,onEntering:P,onEntered:D,onExit:A,onExiting:O,childRef:f.ref,in:m,timeout:k,mountOnEnter:b,unmountOnExit:E,appear:x,children:function(t,n){return e.cloneElement(f,u(u({},n),{},{className:h()(l,f.props.className,ct[t],"width"===N&&"collapse-horizontal")}))}}))})),ht=ft,dt=["children","bsPrefix"],pt=e.forwardRef((function(t,n){var r=t.children,i=t.bsPrefix,a=c(t,dt);i=y(i,"navbar-collapse");var o=(0,e.useContext)(ae);return(0,d.jsx)(ht,u(u({in:!(!o||!o.expanded)},a),{},{children:(0,d.jsx)("div",{ref:n,className:i,children:r})}))}));pt.displayName="NavbarCollapse";var vt=pt,yt=["bsPrefix","className","children","label","as","onClick"],mt=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,a=t.children,o=t.label,s=void 0===o?"Toggle navigation":o,l=t.as,f=void 0===l?"button":l,p=t.onClick,v=c(t,yt);r=y(r,"navbar-toggler");var m=(0,e.useContext)(ae)||{},g=m.onToggle,k=m.expanded,_=W((function(e){p&&p(e),g&&g()}));return"button"===f&&(v.type="button"),(0,d.jsx)(f,u(u({},v),{},{ref:n,onClick:_,"aria-label":s,className:h()(i,r,!k&&"collapsed"),children:a||(0,d.jsx)("span",{className:"".concat(r,"-icon")})}))}));mt.displayName="NavbarToggle";var gt=mt,kt=new WeakMap,_t=function(e,t){if(e&&t){var n=kt.get(t)||new Map;kt.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function bt(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window,r=_t(t,n),i=A((0,e.useState)((function(){return!!r&&r.matches})),2),a=i[0],o=i[1];return he((function(){var e=_t(t,n);if(!e)return o(!1);var r=kt.get(n),i=function(){o(e.matches)};return e.refCount++,e.addListener(i),i(),function(){e.removeListener(i),e.refCount--,e.refCount<=0&&(null==r||r.delete(e.media)),e=void 0}}),[t]),a}var wt=function(t){var n=Object.keys(t);function r(e,t){return e===t?t:e?"".concat(e," and ").concat(t):t}function i(e){var r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(e),i=t[r];return i="number"===typeof i?"".concat(i-.2,"px"):"calc(".concat(i," - 0.2px)"),"(max-width: ".concat(i,")")}return function(n,a,s){var u;"object"===typeof n?(u=n,s=a,a=!0):u=o({},n,a=a||!0);var l=(0,e.useMemo)((function(){return Object.entries(u).reduce((function(e,n){var a=A(n,2),o=a[0],s=a[1];return"up"!==s&&!0!==s||(e=r(e,function(e){var n=t[e];return"number"===typeof n&&(n="".concat(n,"px")),"(min-width: ".concat(n,")")}(o))),"down"!==s&&!0!==s||(e=r(e,i(o))),e}),"")}),[JSON.stringify(u)]);return bt(l,s)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),Et=wt;function Ct(e){void 0===e&&(e=xe());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(UC){return e.body}}function xt(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function St(t){var n=function(t){var n=(0,e.useRef)(t);return n.current=t,n}(t);(0,e.useEffect)((function(){return function(){return n.current()}}),[])}function Tt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function It(e){return function(e){if(Array.isArray(e))return R(e)}(e)||Tt(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function Pt(e,t,n){return t&&Rt(e.prototype,t),n&&Rt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Dt=B("modal-open"),At=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;Nt(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return Pt(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=o({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(Pe(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(Dt,""),Pe(r,t)}},{key:"reset",value:function(){var e=this;It(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(Dt),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),Ot=At,Lt=(0,e.createContext)(We?window:void 0);Lt.Provider;function Mt(){return(0,e.useContext)(Lt)}var Ft=function(e,t){return We?null==e?(t||xe()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null};var jt=function(t){var n=t.children,r=t.in,i=t.onExited,a=t.mountOnEnter,o=t.unmountOnExit,s=(0,e.useRef)(null),u=(0,e.useRef)(r),l=W(i);(0,e.useEffect)((function(){r?u.current=!0:l(s.current)}),[r,l]);var c=L(s,n.ref),f=(0,e.cloneElement)(n,{ref:c});return r?f:o||!u.current&&a?null:f};function Ut(t){var n=t.children,r=t.in,i=t.onExited,a=t.onEntered,o=t.transition,s=A((0,e.useState)(!r),2),u=s[0],l=s[1];r&&u&&l(!1);var c=function(t){var n=t.in,r=t.onTransition,i=(0,e.useRef)(null),a=(0,e.useRef)(!0),o=W(r);return he((function(){if(i.current){var e=!1;return o({in:n,element:i.current,initial:a.current,isStale:function(){return e}}),function(){e=!0}}}),[n,o]),he((function(){return a.current=!1,function(){a.current=!0}}),[]),i}({in:!!r,onTransition:function(e){Promise.resolve(o(e)).then((function(){e.isStale()||(e.in?null==a||a(e.element,e.initial):(l(!0),null==i||i(e.element)))}),(function(t){throw e.in||l(!0),t}))}}),f=L(c,n.ref);return u&&!r?null:(0,e.cloneElement)(n,{ref:f})}function Vt(e,t,n){return e?(0,d.jsx)(e,Object.assign({},n)):t?(0,d.jsx)(Ut,Object.assign({},n,{transition:t})):(0,d.jsx)(jt,Object.assign({},n))}var zt,Bt=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function qt(t){var n=Mt(),r=t||function(e){return zt||(zt=new Ot({ownerDocument:null==e?void 0:e.document})),zt}(n),i=(0,e.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,e.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,e.useCallback)((function(e){i.current.backdrop=e}),[])})}var Wt=(0,e.forwardRef)((function(t,n){var r=t.show,i=void 0!==r&&r,a=t.role,o=void 0===a?"dialog":a,s=t.className,u=t.style,l=t.children,c=t.backdrop,f=void 0===c||c,h=t.keyboard,p=void 0===h||h,v=t.onBackdropClick,y=t.onEscapeKeyDown,m=t.transition,g=t.runTransition,k=t.backdropTransition,_=t.runBackdropTransition,b=t.autoFocus,w=void 0===b||b,E=t.enforceFocus,C=void 0===E||E,x=t.restoreFocus,S=void 0===x||x,T=t.restoreFocusOptions,I=t.renderDialog,N=t.renderBackdrop,R=void 0===N?function(e){return(0,d.jsx)("div",Object.assign({},e))}:N,P=t.manager,D=t.container,O=t.onShow,L=t.onHide,M=void 0===L?function(){}:L,F=t.onExit,j=t.onExited,U=t.onExiting,V=t.onEnter,z=t.onEntering,B=t.onEntered,q=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,Bt),H=Mt(),K=function(t,n){var r=Mt(),i=A((0,e.useState)((function(){return Ft(t,null==r?void 0:r.document)})),2),a=i[0],o=i[1];if(!a){var s=Ft(t);s&&o(s)}return(0,e.useEffect)((function(){n&&a&&n(a)}),[n,a]),(0,e.useEffect)((function(){var e=Ft(t);e!==a&&o(e)}),[t,a]),a}(D),Q=qt(P),G=function(){var t=(0,e.useRef)(!0),n=(0,e.useRef)((function(){return t.current}));return(0,e.useEffect)((function(){return t.current=!0,function(){t.current=!1}}),[]),n.current}(),$=function(t){var n=(0,e.useRef)(null);return(0,e.useEffect)((function(){n.current=t})),n.current}(i),Y=A((0,e.useState)(!i),2),X=Y[0],J=Y[1],Z=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,(function(){return Q}),[Q]),We&&!$&&i&&(Z.current=Ct(null==H?void 0:H.document)),i&&X&&J(!1);var ee=W((function(){if(Q.add(),oe.current=Ye(document,"keydown",ie),ae.current=Ye(document,"focus",(function(){return setTimeout(ne)}),!0),O&&O(),w){var e,t,n=Ct(null!=(e=null==(t=Q.dialog)?void 0:t.ownerDocument)?e:null==H?void 0:H.document);Q.dialog&&n&&!xt(Q.dialog,n)&&(Z.current=n,Q.dialog.focus())}})),te=W((function(){var e;(Q.remove(),null==oe.current||oe.current(),null==ae.current||ae.current(),S)&&(null==(e=Z.current)||null==e.focus||e.focus(T),Z.current=null)}));(0,e.useEffect)((function(){i&&K&&ee()}),[i,K,ee]),(0,e.useEffect)((function(){X&&te()}),[X,te]),St((function(){te()}));var ne=W((function(){if(C&&G()&&Q.isTopModal()){var e=Ct(null==H?void 0:H.document);Q.dialog&&e&&!xt(Q.dialog,e)&&Q.dialog.focus()}})),re=W((function(e){e.target===e.currentTarget&&(null==v||v(e),!0===f&&M())})),ie=W((function(e){p&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&Q.isTopModal()&&(null==y||y(e),e.defaultPrevented||M())})),ae=(0,e.useRef)(),oe=(0,e.useRef)();if(!K)return null;var se=Object.assign({role:o,ref:Q.setDialogRef,"aria-modal":"dialog"===o||void 0},q,{style:u,className:s,tabIndex:-1}),ue=I?I(se):(0,d.jsx)("div",Object.assign({},se,{children:e.cloneElement(l,{role:"document"})}));ue=Vt(m,g,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!i,onExit:F,onExiting:U,onExited:function(){J(!0),null==j||j.apply(void 0,arguments)},onEnter:V,onEntering:z,onEntered:B,children:ue});var le=null;return f&&(le=R({ref:Q.setBackdropRef,onClick:re}),le=Vt(k,_,{in:!!i,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:le})),(0,d.jsx)(d.Fragment,{children:Ae.createPortal((0,d.jsxs)(d.Fragment,{children:[le,ue]}),K)})}));Wt.displayName="Modal";var Ht,Kt=Object.assign(Wt,{Manager:Ot}),Qt=["className","children","transitionClasses","onEnter"],Gt=(o(Ht={},je,"show"),o(Ht,Ue,"show"),Ht),$t=e.forwardRef((function(t,n){var r=t.className,i=t.children,a=t.transitionClasses,o=void 0===a?{}:a,s=t.onEnter,l=u({in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},c(t,Qt)),f=(0,e.useCallback)((function(e,t){nt(e),null==s||s(e,t)}),[s]);return(0,d.jsx)(ot,u(u({ref:n,addEndListener:et},l),{},{onEnter:f,childRef:i.ref,children:function(t,n){return e.cloneElement(i,u(u({},n),{},{className:h()("fade",r,i.props.className,Gt[t],o[t])}))}}))}));$t.displayName="Fade";var Yt=$t,Xt=["className","bsPrefix","as"],Jt=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,a=void 0===i?"div":i,o=c(e,Xt);return r=y(r,"offcanvas-body"),(0,d.jsx)(a,u({ref:t,className:h()(n,r)},o))}));Jt.displayName="OffcanvasBody";var Zt,en=Jt,tn=["bsPrefix","className","children","in","mountOnEnter","unmountOnExit","appear"],nn=(o(Zt={},je,"show"),o(Zt,Ue,"show"),Zt),rn=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,a=t.children,o=t.in,s=void 0!==o&&o,l=t.mountOnEnter,f=void 0!==l&&l,p=t.unmountOnExit,v=void 0!==p&&p,m=t.appear,g=void 0!==m&&m,k=c(t,tn);return r=y(r,"offcanvas"),(0,d.jsx)(ot,u(u({ref:n,addEndListener:et,in:s,mountOnEnter:f,unmountOnExit:v,appear:g},k),{},{childRef:a.ref,children:function(t,n){return e.cloneElement(a,u(u({},n),{},{className:h()(i,a.props.className,(t===je||t===Ve)&&"".concat(r,"-toggling"),nn[t])}))}}))}));rn.displayName="OffcanvasToggling";var an=rn,on=e.createContext({onHide:function(){}}),sn=n(7),un=n.n(sn),ln=["className","variant","aria-label"],cn={"aria-label":un().string,onClick:un().func,variant:un().oneOf(["white"])},fn=e.forwardRef((function(e,t){var n=e.className,r=e.variant,i=e["aria-label"],a=void 0===i?"Close":i,o=c(e,ln);return(0,d.jsx)("button",u({ref:t,type:"button",className:h()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":a},o))}));fn.displayName="CloseButton",fn.propTypes=cn;var hn=fn,dn=["closeLabel","closeVariant","closeButton","onHide","children"],pn=e.forwardRef((function(t,n){var r=t.closeLabel,i=void 0===r?"Close":r,a=t.closeVariant,o=t.closeButton,s=void 0!==o&&o,l=t.onHide,f=t.children,h=c(t,dn),p=(0,e.useContext)(on),v=W((function(){null==p||p.onHide(),null==l||l()}));return(0,d.jsxs)("div",u(u({ref:n},h),{},{children:[f,s&&(0,d.jsx)(hn,{"aria-label":i,variant:a,onClick:v})]}))})),vn=pn,yn=["bsPrefix","className","closeLabel","closeButton"],mn=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.closeLabel,a=void 0===i?"Close":i,o=e.closeButton,s=void 0!==o&&o,l=c(e,yn);return n=y(n,"offcanvas-header"),(0,d.jsx)(vn,u(u({ref:t},l),{},{className:h()(r,n),closeLabel:a,closeButton:s}))}));mn.displayName="OffcanvasHeader";var gn,kn=mn,_n=["className","bsPrefix","as"],bn=(gn="h5",e.forwardRef((function(e,t){return(0,d.jsx)("div",u(u({},e),{},{ref:t,className:h()(e.className,gn)}))}))),wn=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,a=void 0===i?bn:i,o=c(e,_n);return r=y(r,"offcanvas-title"),(0,d.jsx)(a,u({ref:t,className:h()(n,r)},o))}));wn.displayName="OffcanvasTitle";var En=wn;function Cn(e){return Cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cn(e)}function xn(){return xn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Cn(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},xn.apply(this,arguments)}function Sn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&De(e,t)}function Tn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(UC){return!1}}function In(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nn(e){var t=Tn();return function(){var n,r=Cn(e);if(t){var a=Cn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return In(e)}(this,n)}}function Rn(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Pn,Dn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",An=".sticky-top",On=".navbar-toggler",Ln=function(e){Sn(n,e);var t=Nn(n);function n(){return Nt(this,n),t.apply(this,arguments)}return Pt(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,Pe(t,o({},e,"".concat(parseFloat(Pe(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Pe(t,o({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;xn(Cn(n.prototype),"setContainerStyle",this).call(this,e);var r=this.getElement();if(function(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}(r,"modal-open"),e.scrollBarWidth){var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";I(r,Dn).forEach((function(n){return t.adjustAndStore(i,n,e.scrollBarWidth)})),I(r,An).forEach((function(n){return t.adjustAndStore(a,n,-e.scrollBarWidth)})),I(r,On).forEach((function(n){return t.adjustAndStore(a,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;xn(Cn(n.prototype),"removeContainerStyle",this).call(this,e);var r=this.getElement();!function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=Rn(e.className,t):e.setAttribute("class",Rn(e.className&&e.className.baseVal||"",t))}(r,"modal-open");var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";I(r,Dn).forEach((function(e){return t.restore(i,e)})),I(r,An).forEach((function(e){return t.restore(a,e)})),I(r,On).forEach((function(e){return t.restore(a,e)}))}}]),n}(Ot);var Mn=Ln,Fn=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager","renderStaticNode"];function jn(e){return(0,d.jsx)(an,u({},e))}function Un(e){return(0,d.jsx)(Yt,u({},e))}var Vn=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,a=t.children,o=t["aria-labelledby"],s=t.placement,l=void 0===s?"start":s,f=t.responsive,p=t.show,v=void 0!==p&&p,m=t.backdrop,g=void 0===m||m,k=t.keyboard,_=void 0===k||k,b=t.scroll,w=void 0!==b&&b,E=t.onEscapeKeyDown,C=t.onShow,x=t.onHide,S=t.container,T=t.autoFocus,I=void 0===T||T,N=t.enforceFocus,R=void 0===N||N,P=t.restoreFocus,D=void 0===P||P,O=t.restoreFocusOptions,L=t.onEntered,M=t.onExit,F=t.onExiting,j=t.onEnter,U=t.onEntering,V=t.onExited,z=t.backdropClassName,B=t.manager,q=t.renderStaticNode,H=void 0!==q&&q,K=c(t,Fn),Q=(0,e.useRef)();r=y(r,"offcanvas");var G=((0,e.useContext)(ae)||{}).onToggle,$=A((0,e.useState)(!1),2),Y=$[0],X=$[1],J=Et(f||"xs","up");(0,e.useEffect)((function(){X(f?v&&!J:v)}),[v,f,J]);var Z=W((function(){null==G||G(),null==x||x()})),ee=(0,e.useMemo)((function(){return{onHide:Z}}),[Z]);var te=(0,e.useCallback)((function(e){return(0,d.jsx)("div",u(u({},e),{},{className:h()("".concat(r,"-backdrop"),z)}))}),[z,r]),ne=function(e){return(0,d.jsx)("div",u(u(u({},e),K),{},{className:h()(i,f?"".concat(r,"-").concat(f):r,"".concat(r,"-").concat(l)),"aria-labelledby":o,children:a}))};return(0,d.jsxs)(d.Fragment,{children:[!Y&&(f||H)&&ne({}),(0,d.jsx)(on.Provider,{value:ee,children:(0,d.jsx)(Kt,{show:Y,ref:n,backdrop:g,container:S,keyboard:_,autoFocus:I,enforceFocus:R&&!w,restoreFocus:D,restoreFocusOptions:O,onEscapeKeyDown:E,onShow:C,onHide:Z,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==j||j.apply(void 0,[e].concat(n))},onEntering:U,onEntered:L,onExit:M,onExiting:F,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==V||V.apply(void 0,n)},manager:B||(w?(Q.current||(Q.current=new Mn({handleContainerOverflow:!1})),Q.current):function(e){return Pn||(Pn=new Ln(e)),Pn}()),transition:jn,backdropTransition:Un,renderBackdrop:te,renderDialog:ne})})]})}));Vn.displayName="Offcanvas";var zn=Object.assign(Vn,{Body:en,Header:kn,Title:En}),Bn=e.forwardRef((function(t,n){var r=(0,e.useContext)(ae);return(0,d.jsx)(zn,u(u({ref:n,show:!(null==r||!r.expanded)},t),{},{renderStaticNode:!0}))}));Bn.displayName="NavbarOffcanvas";var qn=Bn,Wn=["className","bsPrefix","as"],Hn=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,a=void 0===i?"span":i,o=c(e,Wn);return r=y(r,"navbar-text"),(0,d.jsx)(a,u({ref:t,className:h()(n,r)},o))}));Hn.displayName="NavbarText";var Kn=Hn,Qn=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],Gn=e.forwardRef((function(t,n){var r=E(t,{expanded:"onToggle"}),i=r.bsPrefix,a=r.expand,o=void 0===a||a,s=r.variant,l=void 0===s?"light":s,f=r.bg,p=r.fixed,v=r.sticky,m=r.className,g=r.as,k=void 0===g?"nav":g,_=r.expanded,b=r.onToggle,w=r.onSelect,C=r.collapseOnSelect,x=void 0!==C&&C,S=c(r,Qn),T=y(i,"navbar"),I=(0,e.useCallback)((function(){null==w||w.apply(void 0,arguments),x&&_&&(null==b||b(!1))}),[w,x,_,b]);void 0===S.role&&"nav"!==k&&(S.role="navigation");var N="".concat(T,"-expand");"string"===typeof o&&(N="".concat(N,"-").concat(o));var R=(0,e.useMemo)((function(){return{onToggle:function(){return null==b?void 0:b(!_)},bsPrefix:T,expanded:!!_,expand:o}}),[T,_,o,b]);return(0,d.jsx)(ae.Provider,{value:R,children:(0,d.jsx)(U.Provider,{value:I,children:(0,d.jsx)(k,u(u({ref:n},S),{},{className:h()(m,T,o&&N,l&&"".concat(T,"-").concat(l),f&&"bg-".concat(f),v&&"sticky-".concat(v),p&&"fixed-".concat(p))}))})})}));Gn.displayName="Navbar";var $n=Object.assign(Gn,{Brand:Ce,Collapse:vt,Offcanvas:qn,Text:Kn,Toggle:gt});function Yn(){Yn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),s=new P(r||[]);return a(o,"_invoke",{value:T(e,n,s)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",m={};function g(){}function k(){}function _(){}var b={};c(b,s,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(D([])));E&&E!==n&&r.call(E,s)&&(b=E);var C=_.prototype=g.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,s,u){var l=h(e[a],e,o);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==i(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,u)}))}u(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function T(t,n,r){var i=d;return function(a,o){if(i===v)throw new Error("Generator is already running");if(i===y){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=I(s,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var l=h(t,n,r);if("normal"===l.type){if(i=r.done?y:p,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=y,r.method="throw",r.arg=l.arg)}}}function I(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=h(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(i(t)+" is not iterable")}return k.prototype=_,a(C,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:k,configurable:!0}),k.displayName=c(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},x(S.prototype),c(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new S(f(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(C),c(C,l,"Generator"),c(C,s,(function(){return this})),c(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function Xn(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l_){return void n(l_)}s.done?t(u):Promise.resolve(u).then(r,i)}function Jn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Xn(a,r,i,o,s,"next",e)}function s(e){Xn(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Zn(e,t,n){return Zn=Tn()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&De(i,n.prototype),i},Zn.apply(null,arguments)}function er(e){var t="function"===typeof Map?new Map:void 0;return er=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(UC){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Zn(e,arguments,Cn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),De(n,e)},er(e)}function tr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=P(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}var nr=!1,rr=!1,ir="${JSCORE_VERSION}",ar=function(e,t){if(!e)throw or(t)},or=function(e){return new Error("Firebase Database ("+ir+") INTERNAL ASSERT FAILED: "+e)},sr=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ur={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|l>>6,d=63&l;u||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(sr(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new lr;var l=a<<2|o>>4;if(r.push(l),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},lr=function(e){Sn(n,e);var t=Nn(n);function n(){var e;return Nt(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return Pt(n)}(er(Error)),cr=function(e){var t=sr(e);return ur.encodeByteArray(t,!0)},fr=function(e){return cr(e).replace(/\./g,"")},hr=function(e){try{return ur.decodeString(e,!0)}catch(UC){console.error("base64Decode failed: ",UC)}return null};function dr(e){return pr(void 0,e)}function pr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=pr(e[n],t[n]));return e}var vr=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},yr=function(){try{return vr()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/ProyectoFinalReact_MaximilianoTrochon",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(UC){return}var t=e&&hr(e[1]);return t&&JSON.parse(t)}}()}catch(UC){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(UC))}},mr=function(e){var t=function(e){var t,n;return null===(n=null===(t=yr())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},gr=function(){var e;return null===(e=yr())||void 0===e?void 0:e.config},kr=function(){function e(){var t=this;Nt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Pt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function _r(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function br(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_r())}function wr(){return!0===nr||!0===rr}function Er(){try{return"object"===typeof indexedDB}catch(UC){return!1}}var Cr=function(e){Sn(n,e);var t=Nn(n);function n(e,r,i){var a;return Nt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(In(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(In(a),xr.prototype.create),a}return Pt(n)}(er(Error)),xr=function(){function e(t,n,r){Nt(this,e),this.service=t,this.serviceName=n,this.errors=r}return Pt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Sr,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Cr(n,a,t)}}]),e}();var Sr=/\{\$([^}]+)}/g;function Tr(e){return JSON.parse(e)}function Ir(e){return JSON.stringify(e)}var Nr=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Tr(hr(a[0])||""),n=Tr(hr(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(UC){}return{header:t,claims:n,data:r,signature:i}};function Rr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Pr(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Dr(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ar(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Or(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Lr(s)&&Lr(u)){if(!Or(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function Lr(e){return null!==e&&"object"===typeof e}var Mr=function(){function e(){Nt(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return Pt(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,l=this.chain_[0],c=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^c&(f^h),u=1518500249):(s=c^f^h,u=1859775393):p<60?(s=c&f|h&(c|f),u=2400959708):(s=c^f^h,u=3395469782);var v=(l<<5|l>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(c<<30|c>>>2),c=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function Fr(e,t){return"".concat(e," failed: ").concat(t," argument ")}var jr=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Ur(e){return e&&e._delegate?e._delegate:e}var Vr=function(){function e(t,n,r){Nt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Pt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),zr="[DEFAULT]",Br=function(){function e(t,n){Nt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Pt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new kr;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(UC){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(UC){if(r)return null;throw UC}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:zr})}catch(UC){}var t,n=tr(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=A(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(UC){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Jn(Yn().mark((function e(){var t;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(It(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),It(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=tr(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=A(i.value,2),u=s[0],l=s[1];r===this.normalizeInstanceIdentifier(u)&&l.resolve(a)}}catch(c){o.e(c)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=tr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===zr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr;return this.component?this.component.multipleInstances?e:zr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var qr,Wr,Hr=function(){function e(t){Nt(this,e),this.name=t,this.providers=new Map}return Pt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Br(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Kr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Wr||(Wr={}));var Qr={debug:Wr.DEBUG,verbose:Wr.VERBOSE,info:Wr.INFO,warn:Wr.WARN,error:Wr.ERROR,silent:Wr.SILENT},Gr=Wr.INFO,$r=(o(qr={},Wr.DEBUG,"log"),o(qr,Wr.VERBOSE,"log"),o(qr,Wr.INFO,"info"),o(qr,Wr.WARN,"warn"),o(qr,Wr.ERROR,"error"),qr),Yr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=$r[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Xr=function(){function e(t){Nt(this,e),this.name=t,this._logLevel=Gr,this._logHandler=Yr,this._userLogHandler=null,Kr.push(this)}return Pt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Wr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Qr[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wr.DEBUG].concat(t)),this._logHandler.apply(this,[this,Wr.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wr.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Wr.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wr.INFO].concat(t)),this._logHandler.apply(this,[this,Wr.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wr.WARN].concat(t)),this._logHandler.apply(this,[this,Wr.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wr.ERROR].concat(t)),this._logHandler.apply(this,[this,Wr.ERROR].concat(t))}}]),e}();var Jr,Zr,ei=function(e,t){return t.some((function(t){return e instanceof t}))};var ti=new WeakMap,ni=new WeakMap,ri=new WeakMap,ii=new WeakMap,ai=new WeakMap;var oi={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ni.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ri.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return li(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function si(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Zr||(Zr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ci(this),n),li(ti.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return li(e.apply(ci(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[ci(this),t].concat(r));return ri.set(a,t.sort?t.sort():[t]),li(a)}}function ui(e){return"function"===typeof e?si(e):(e instanceof IDBTransaction&&function(e){if(!ni.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));ni.set(e,t)}}(e),ei(e,Jr||(Jr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,oi):e)}function li(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(li(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&ti.set(t,e)})).catch((function(){})),ai.set(t,e),t}(e);if(ii.has(e))return ii.get(e);var t=ui(e);return t!==e&&(ii.set(e,t),ai.set(t,e)),t}var ci=function(e){return ai.get(e)};var fi,hi,di=["get","getKey","getAll","getAllKeys","count"],pi=["put","add","delete","clear"],vi=new Map;function yi(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(vi.get(t))return vi.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=pi.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||di.includes(n))){var a=function(){var e=Jn(Yn().mark((function e(t){var a,o,s,u,l,c,f=arguments;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=f[c];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return vi.set(t,a),a}}}oi=function(e){return u(u({},e),{},{get:function(t,n,r){return yi(t,n)||e.get(t,n,r)},has:function(t,n){return!!yi(t,n)||e.has(t,n)}})}(oi);var mi=function(){function e(t){Nt(this,e),this.container=t}return Pt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var gi="@firebase/app",ki="0.9.20",_i=new Xr("@firebase/app"),bi="[DEFAULT]",wi=(o(fi={},gi,"fire-core"),o(fi,"@firebase/app-compat","fire-core-compat"),o(fi,"@firebase/analytics","fire-analytics"),o(fi,"@firebase/analytics-compat","fire-analytics-compat"),o(fi,"@firebase/app-check","fire-app-check"),o(fi,"@firebase/app-check-compat","fire-app-check-compat"),o(fi,"@firebase/auth","fire-auth"),o(fi,"@firebase/auth-compat","fire-auth-compat"),o(fi,"@firebase/database","fire-rtdb"),o(fi,"@firebase/database-compat","fire-rtdb-compat"),o(fi,"@firebase/functions","fire-fn"),o(fi,"@firebase/functions-compat","fire-fn-compat"),o(fi,"@firebase/installations","fire-iid"),o(fi,"@firebase/installations-compat","fire-iid-compat"),o(fi,"@firebase/messaging","fire-fcm"),o(fi,"@firebase/messaging-compat","fire-fcm-compat"),o(fi,"@firebase/performance","fire-perf"),o(fi,"@firebase/performance-compat","fire-perf-compat"),o(fi,"@firebase/remote-config","fire-rc"),o(fi,"@firebase/remote-config-compat","fire-rc-compat"),o(fi,"@firebase/storage","fire-gcs"),o(fi,"@firebase/storage-compat","fire-gcs-compat"),o(fi,"@firebase/firestore","fire-fst"),o(fi,"@firebase/firestore-compat","fire-fst-compat"),o(fi,"fire-js","fire-js"),o(fi,"firebase","fire-js-all"),fi),Ei=new Map,Ci=new Map;function xi(e,t){try{e.container.addComponent(t)}catch(UC){_i.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),UC)}}function Si(e){var t=e.name;if(Ci.has(t))return _i.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ci.set(t,e);var n,r=tr(Ei.values());try{for(r.s();!(n=r.n()).done;){xi(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ti(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Ii=(o(hi={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),o(hi,"bad-app-name","Illegal App name: '{$appName}"),o(hi,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),o(hi,"app-deleted","Firebase App named '{$appName}' already deleted"),o(hi,"no-options","Need to provide options, when not being deployed to hosting via source."),o(hi,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),o(hi,"invalid-log-argument","First argument to `onLog` must be null or a function."),o(hi,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),o(hi,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),o(hi,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),o(hi,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),hi),Ni=new xr("app","Firebase",Ii),Ri=function(){function e(t,n,r){var i=this;Nt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vr("app",(function(){return i}),"PUBLIC"))}return Pt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}}]),e}(),Pi="10.5.0";function Di(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:bi,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ni.create("bad-app-name",{appName:String(i)});if(n||(n=gr()),!n)throw Ni.create("no-options");var a=Ei.get(i);if(a){if(Or(n,a.options)&&Or(r,a.config))return a;throw Ni.create("duplicate-app",{appName:i})}var o,s=new Hr(i),u=tr(Ci.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s.addComponent(l)}}catch(f){u.e(f)}finally{u.f()}var c=new Ri(n,r,s);return Ei.set(i,c),c}function Ai(e,t,n){var r,i=null!==(r=wi[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void _i.warn(s.join(" "))}Si(new Vr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Oi="firebase-heartbeat-database",Li=1,Mi="firebase-heartbeat-store",Fi=null;function ji(){return Fi||(Fi=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=li(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(li(s.result),e.oldVersion,e.newVersion,li(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(Oi,Li,{upgrade:function(e,t){if(0===t)e.createObjectStore(Mi)}}).catch((function(e){throw Ni.create("idb-open",{originalErrorMessage:e.message})}))),Fi}function Ui(e){return Vi.apply(this,arguments)}function Vi(){return Vi=Jn(Yn().mark((function e(t){var n,r,i;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ji();case 3:return n=e.sent,e.next=6,n.transaction(Mi).objectStore(Mi).get(qi(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Cr?_i.warn(e.t0.message):(i=Ni.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),_i.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Vi.apply(this,arguments)}function zi(e,t){return Bi.apply(this,arguments)}function Bi(){return Bi=Jn(Yn().mark((function e(t,n){var r,i,a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ji();case 3:return r=e.sent,i=r.transaction(Mi,"readwrite"),a=i.objectStore(Mi),e.next=8,a.put(n,qi(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Cr?_i.warn(e.t0.message):(o=Ni.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),_i.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Bi.apply(this,arguments)}function qi(e){return"".concat(e.name,"!").concat(e.options.appId)}var Wi=function(){function e(t){var n=this;Nt(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Gi(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Pt(e,[{key:"triggerHeartbeat",value:function(){var e=Jn(Yn().mark((function e(){var t,n,r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Hi(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Jn(Yn().mark((function e(){var t,n,r,i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Hi(),n=Ki(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=fr(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Hi(){return(new Date).toISOString().substring(0,10)}function Ki(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=tr(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),$i(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),$i(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Qi,Gi=function(){function e(t){Nt(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Pt(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Er()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(l_){t(l_)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Jn(Yn().mark((function e(){var t;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ui(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Jn(Yn().mark((function e(t){var n,r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",zi(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Jn(Yn().mark((function e(t){var n,r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",zi(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(It(r.heartbeats),It(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function $i(e){return fr(JSON.stringify({version:2,heartbeats:e})).length}Qi="",Si(new Vr("platform-logger",(function(e){return new mi(e)}),"PRIVATE")),Si(new Vr("heartbeat",(function(e){return new Wi(e)}),"PRIVATE")),Ai(gi,ki,Qi),Ai(gi,ki,"esm2017"),Ai("fire-js","");var Yi,Xi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ji={},Zi=Zi||{},ea=Xi||self;function ta(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function na(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ra="closure_uid_"+(1e9*Math.random()>>>0),ia=0;function aa(e,t,n){return e.call.apply(e.bind,arguments)}function oa(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function sa(e,t,n){return(sa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aa:oa).apply(null,arguments)}function ua(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function la(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ca(){this.s=this.s,this.o=this.o}ca.prototype.s=!1,ca.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,ra)&&e[ra]||(e[ra]=++ia))},ca.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var fa=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ha(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function da(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(ta(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function pa(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}pa.prototype.h=function(){this.defaultPrevented=!0};var va=function(){if(!ea.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ea.addEventListener("test",(function(){}),t),ea.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function ya(e){return/^[\s\xa0]*$/.test(e)}function ma(){var e=ea.navigator;return e&&(e=e.userAgent)?e:""}function ga(e){return-1!=ma().indexOf(e)}function ka(e){return ka[" "](e),e}ka[" "]=function(){};var _a,ba,wa=ga("Opera"),Ea=ga("Trident")||ga("MSIE"),Ca=ga("Edge"),xa=Ca||Ea,Sa=ga("Gecko")&&!(-1!=ma().toLowerCase().indexOf("webkit")&&!ga("Edge"))&&!(ga("Trident")||ga("MSIE"))&&!ga("Edge"),Ta=-1!=ma().toLowerCase().indexOf("webkit")&&!ga("Edge");function Ia(){var e=ea.document;return e?e.documentMode:void 0}e:{var Na="",Ra=function(){var e=ma();return Sa?/rv:([^\);]+)(\)|;)/.exec(e):Ca?/Edge\/([\d\.]+)/.exec(e):Ea?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ta?/WebKit\/(\S+)/.exec(e):wa?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ra&&(Na=Ra?Ra[1]:""),Ea){var Pa=Ia();if(null!=Pa&&Pa>parseFloat(Na)){_a=String(Pa);break e}}_a=Na}if(ea.document&&Ea){var Da=Ia();ba=Da||(parseInt(_a,10)||void 0)}else ba=void 0;var Aa=ba;function Oa(e,t){if(pa.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Sa){e:{try{ka(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:La[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Oa.$.h.call(this)}}la(Oa,pa);var La={2:"touch",3:"pen",4:"mouse"};Oa.prototype.h=function(){Oa.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ma="closure_listenable_"+(1e6*Math.random()|0),Fa=0;function ja(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Fa,this.fa=this.ia=!1}function Ua(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Va(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function za(e){var t={};for(var n in e)t[n]=e[n];return t}var Ba="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qa(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Ba.length;a++)n=Ba[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Wa(e){this.src=e,this.g={},this.h=0}function Ha(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=fa(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Ua(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ka(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Wa.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ka(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new ja(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Qa="closure_lm_"+(1e6*Math.random()|0),Ga={};function $a(e,t,n,r,i){if(r&&r.once)return Xa(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)$a(e,t[a],n,r,i);return null}return n=io(n),e&&e[Ma]?e.O(t,n,na(r)?!!r.capture:!!r,i):Ya(e,t,n,!1,r,i)}function Ya(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=na(i)?!!i.capture:!!i,s=no(e);if(s||(e[Qa]=s=new Wa(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=to;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)va||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(eo(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Xa(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Xa(e,t[a],n,r,i);return null}return n=io(n),e&&e[Ma]?e.P(t,n,na(r)?!!r.capture:!!r,i):Ya(e,t,n,!0,r,i)}function Ja(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ja(e,t[a],n,r,i);else r=na(r)?!!r.capture:!!r,n=io(n),e&&e[Ma]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ka(a=e.g[t],n,r,i))&&(Ua(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=no(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ka(t,n,r,i)),(n=-1<e?t[e]:null)&&Za(n))}function Za(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ma])Ha(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(eo(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=no(t))?(Ha(n,e),0==n.h&&(n.src=null,t[Qa]=null)):Ua(e)}}}function eo(e){return e in Ga?Ga[e]:Ga[e]="on"+e}function to(e,t){if(e.fa)e=!0;else{t=new Oa(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Za(e),e=n.call(r,t)}return e}function no(e){return(e=e[Qa])instanceof Wa?e:null}var ro="__closure_events_fn_"+(1e9*Math.random()>>>0);function io(e){return"function"===typeof e?e:(e[ro]||(e[ro]=function(t){return e.handleEvent(t)}),e[ro])}function ao(){ca.call(this),this.i=new Wa(this),this.S=this,this.J=null}function oo(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new pa(t,e);else if(t instanceof pa)t.target=t.target||e;else{var i=t;qa(t=new pa(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=so(o,r,!0,t)&&i}if(i=so(o=t.g=e,r,!0,t)&&i,i=so(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=so(o=t.g=n[a],r,!1,t)&&i}function so(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Ha(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}la(ao,ca),ao.prototype[Ma]=!0,ao.prototype.removeEventListener=function(e,t,n,r){Ja(this,e,t,n,r)},ao.prototype.N=function(){if(ao.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ua(n[r]);delete t.g[e],t.h--}}this.J=null},ao.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ao.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var uo=ea.JSON.stringify,lo=function(){function e(t,n){Nt(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Pt(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function co(){var e=ko,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var fo=function(){function e(){Nt(this,e),this.h=this.g=null}return Pt(e,[{key:"add",value:function(e,t){var n=ho.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),ho=new lo((function(){return new po}),(function(e){return e.reset()})),po=function(){function e(){Nt(this,e),this.next=this.g=this.h=null}return Pt(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function vo(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function yo(e){ea.setTimeout((function(){throw e}),0)}var mo,go=!1,ko=new fo,_o=function(){var e=ea.Promise.resolve(void 0);mo=function(){e.then(bo)}},bo=function(){for(var e;e=co();){try{e.h.call(e.g)}catch(n){yo(n)}var t=ho;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}go=!1};function wo(e,t){ao.call(this),this.h=e||1,this.g=t||ea,this.j=sa(this.qb,this),this.l=Date.now()}function Eo(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Co(e,t,n){if("function"===typeof e)n&&(e=sa(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=sa(e.handleEvent,e)}return 2147483647<Number(t)?-1:ea.setTimeout(e,t||0)}function xo(e){e.g=Co((function(){e.g=null,e.i&&(e.i=!1,xo(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}la(wo,ao),(Yi=wo.prototype).ga=!1,Yi.T=null,Yi.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),oo(this,"tick"),this.ga&&(Eo(this),this.start()))}},Yi.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Yi.N=function(){wo.$.N.call(this),Eo(this),delete this.g};var So=function(e){Sn(n,e);var t=Nn(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Pt(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:xo(this)}},{key:"N",value:function(){xn(Cn(n.prototype),"N",this).call(this),this.g&&(ea.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ca);function To(e){ca.call(this),this.h=e,this.g={}}la(To,ca);var Io=[];function No(e,t,n,r){Array.isArray(n)||(n&&(Io[0]=n.toString()),n=Io);for(var i=0;i<n.length;i++){var a=$a(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ro(e){Va(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Za(e)}),e),e.g={}}function Po(){this.g=!0}function Do(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return uo(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}To.prototype.N=function(){To.$.N.call(this),Ro(this)},To.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Po.prototype.Ea=function(){this.g=!1},Po.prototype.info=function(){};var Ao={},Oo=null;function Lo(){return Oo=Oo||new ao}function Mo(e){pa.call(this,Ao.Ta,e)}function Fo(e){var t=Lo();oo(t,new Mo(t))}function jo(e,t){pa.call(this,Ao.STAT_EVENT,e),this.stat=t}function Uo(e){var t=Lo();oo(t,new jo(t,e))}function Vo(e,t){pa.call(this,Ao.Ua,e),this.size=t}function zo(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ea.setTimeout((function(){e()}),t)}Ao.Ta="serverreachability",la(Mo,pa),Ao.STAT_EVENT="statevent",la(jo,pa),Ao.Ua="timingevent",la(Vo,pa);var Bo={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},qo={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Wo(){}function Ho(e){return e.h||(e.h=e.i())}function Ko(){}Wo.prototype.h=null;var Qo,Go={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $o(){pa.call(this,"d")}function Yo(){pa.call(this,"c")}function Xo(){}function Jo(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new To(this),this.P=es,e=xa?125:void 0,this.V=new wo(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Zo}function Zo(){this.i=null,this.g="",this.h=!1}la($o,pa),la(Yo,pa),la(Xo,Wo),Xo.prototype.g=function(){return new XMLHttpRequest},Xo.prototype.i=function(){return{}},Qo=new Xo;var es=45e3,ts={},ns={};function rs(e,t,n){e.L=1,e.v=ws(ms(t)),e.s=n,e.S=!0,is(e,null)}function is(e,t){e.G=Date.now(),us(e),e.A=ms(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Ls(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Zo,e.g=Mu(e.l,n?t:null,!e.s),0<e.O&&(e.M=new So(sa(e.Pa,e,e.g),e.O)),No(e.U,e.g,"readystatechange",e.nb),t=e.I?za(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Fo(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function as(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function os(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=ss(e,n))==ns){4==t&&(e.o=4,Uo(14),i=!1),Do(e.j,e.m,null,"[Incomplete Response]");break}if(r==ts){e.o=4,Uo(15),Do(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Do(e.j,e.m,r,null),ds(e,r)}as(e)&&r!=ns&&r!=ts&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Uo(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Iu(t),t.M=!0,Uo(11))):(Do(e.j,e.m,n,"[Invalid Chunked Response]"),hs(e),fs(e))}function ss(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ns:(n=Number(t.substring(n,r)),isNaN(n)?ts:(r+=1)+n>t.length?ns:(t=t.slice(r,r+n),e.C=r+n,t))}function us(e){e.Y=Date.now()+e.P,ls(e,e.P)}function ls(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=zo(sa(e.lb,e),t)}function cs(e){e.B&&(ea.clearTimeout(e.B),e.B=null)}function fs(e){0==e.l.H||e.J||Pu(e.l,e)}function hs(e){cs(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Eo(e.V),Ro(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function ds(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Bs(n.i,e)))if(!e.K&&Bs(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Ru(n),_u(n)}Tu(n),Uo(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=zo(sa(n.ib,n),6e3));if(1>=zs(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Au(n,11)}else if((e.K||n.g==e)&&Ru(n),!ya(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.i;f.g||-1==c.indexOf("spdy")&&-1==c.indexOf("quic")&&-1==c.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(qs(f,f.h),f.h=null))}if(r.F){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,bs(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Lu(r,r.J?r.pa:null,r.Y),d.K){Ws(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(cs(p),us(p)),r.g=d}else Su(r);0<n.j.length&&wu(n)}else"stop"!=a[0]&&"close"!=a[0]||Au(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Au(n,7):ku(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Fo()}catch(a){}}function ps(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ta(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(ta(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(ta(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Yi=Jo.prototype).setTimeout=function(e){this.P=e},Yi.nb=function(e){e=e.target;var t=this.M;t&&3==du(e)?t.l():this.Pa(e)},Yi.Pa=function(e){try{if(e==this.g)e:{var t=du(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||xa||this.g&&(this.h.h||this.g.ja()||pu(this.g)))){this.J||4!=t||7==n||Fo(),cs(this);var r=this.g.da();this.ca=r;t:if(as(this)){var i=pu(this.g);e="";var a=i.length,o=4==du(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){hs(this),fs(this);var s="";break t}this.h.i=new ea.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ya(u)){var c=u;break t}}c=null}if(!(r=c)){this.i=!1,this.o=3,Uo(12),hs(this),fs(this);break e}Do(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ds(this,r)}this.S?(os(this,t,s),xa&&this.i&&3==t&&(No(this.U,this.V,"tick",this.mb),this.V.start())):(Do(this.j,this.m,s,null),ds(this,s)),4==t&&hs(this),this.i&&!this.J&&(4==t?Pu(this.l,this):(this.i=!1,us(this)))}else(function(e){var t={};e=(e.g&&2<=du(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!ya(e[n])){var r=vo(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Uo(12)):(this.o=0,Uo(13)),hs(this),fs(this)}}}catch(t){}},Yi.mb=function(){if(this.g){var e=du(this.g),t=this.g.ja();this.C<t.length&&(cs(this),os(this,e,t),this.i&&4!=e&&us(this))}},Yi.cancel=function(){this.J=!0,hs(this)},Yi.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Fo(),Uo(17)),hs(this),this.o=2,fs(this)):ls(this,this.Y-e)};var vs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ys(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ys){this.h=e.h,gs(this,e.j),this.s=e.s,this.g=e.g,ks(this,e.m),this.l=e.l;var t=e.i,n=new Ps;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),_s(this,n),this.o=e.o}else e&&(t=String(e).match(vs))?(this.h=!1,gs(this,t[1]||"",!0),this.s=Es(t[2]||""),this.g=Es(t[3]||"",!0),ks(this,t[4]),this.l=Es(t[5]||"",!0),_s(this,t[6]||"",!0),this.o=Es(t[7]||"")):(this.h=!1,this.i=new Ps(null,this.h))}function ms(e){return new ys(e)}function gs(e,t,n){e.j=n?Es(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ks(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function _s(e,t,n){t instanceof Ps?(e.i=t,function(e,t){t&&!e.j&&(Ds(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(As(this,t),Ls(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Cs(t,Ns)),e.i=new Ps(t,e.h))}function bs(e,t,n){e.i.set(t,n)}function ws(e){return bs(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Es(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Cs(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,xs),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function xs(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ys.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Cs(t,Ss,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Cs(t,Ss,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Cs(n,"/"==n.charAt(0)?Is:Ts,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Cs(n,Rs)),e.join("")};var Ss=/[#\/\?@]/g,Ts=/[#\?:]/g,Is=/[#\?]/g,Ns=/[#\?@]/g,Rs=/#/g;function Ps(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ds(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function As(e,t){Ds(e),t=Ms(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Os(e,t){return Ds(e),t=Ms(e,t),e.g.has(t)}function Ls(e,t,n){As(e,t),0<n.length&&(e.i=null,e.g.set(Ms(e,t),ha(n)),e.h+=n.length)}function Ms(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Yi=Ps.prototype).add=function(e,t){Ds(this),this.i=null,e=Ms(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Yi.forEach=function(e,t){Ds(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Yi.ta=function(){Ds(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Yi.Z=function(e){Ds(this);var t=[];if("string"===typeof e)Os(this,e)&&(t=t.concat(this.g.get(Ms(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Yi.set=function(e,t){return Ds(this),this.i=null,Os(this,e=Ms(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Yi.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Yi.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Fs=Pt((function e(t,n){Nt(this,e),this.g=t,this.map=n}));function js(e){this.l=e||Us,ea.PerformanceNavigationTiming?e=0<(e=ea.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ea.g&&ea.g.Ka&&ea.g.Ka()&&ea.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Us=10;function Vs(e){return!!e.h||!!e.g&&e.g.size>=e.j}function zs(e){return e.h?1:e.g?e.g.size:0}function Bs(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function qs(e,t){e.g?e.g.add(t):e.h=t}function Ws(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Hs(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=tr(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return ha(e.i)}js.prototype.cancel=function(){if(this.i=Hs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=tr(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Ks,Qs=function(){function e(){Nt(this,e)}return Pt(e,[{key:"stringify",value:function(e){return ea.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return ea.JSON.parse(e,void 0)}}]),e}();function Gs(){this.g=new Qs}function $s(e,t,n){var r=n||"";try{ps(e,(function(e,n){var i=e;na(e)&&(i=uo(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(UC){throw t.push(r+"type="+encodeURIComponent("_badmap")),UC}}function Ys(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Xs(e){this.l=e.ec||null,this.j=e.ob||!1}function Js(e,t){ao.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Zs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}la(Xs,Wo),Xs.prototype.g=function(){return new Js(this.l,this.j)},Xs.prototype.i=(Ks={},function(){return Ks}),la(Js,ao);var Zs=0;function eu(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function tu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,nu(e)}function nu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Yi=Js.prototype).open=function(e,t){if(this.readyState!=Zs)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,nu(this)},Yi.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ea).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Yi.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tu(this)),this.readyState=Zs},Yi.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,nu(this)),this.g&&(this.readyState=3,nu(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof ea.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eu(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Yi.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?tu(this):nu(this),3==this.readyState&&eu(this)}},Yi.Za=function(e){this.g&&(this.response=this.responseText=e,tu(this))},Yi.Ya=function(e){this.g&&(this.response=e,tu(this))},Yi.ka=function(){this.g&&tu(this)},Yi.setRequestHeader=function(e,t){this.v.append(e,t)},Yi.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Yi.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Js.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ru=ea.JSON.parse;function iu(e){ao.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=au,this.L=this.M=!1}la(iu,ao);var au="",ou=/^https?$/i,su=["POST","PUT"];function uu(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,lu(e),fu(e)}function lu(e){e.F||(e.F=!0,oo(e,"complete"),oo(e,"error"))}function cu(e){if(e.h&&"undefined"!=typeof Zi&&(!e.C[1]||4!=du(e)||2!=e.da()))if(e.v&&4==du(e))Co(e.La,0,e);else if(oo(e,"readystatechange"),4==du(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(vs)[1]||null;!a&&ea.self&&ea.self.location&&(a=ea.self.location.protocol.slice(0,-1)),i=!ou.test(a?a.toLowerCase():"")}t=i}if(t)oo(e,"complete"),oo(e,"success");else{e.m=6;try{var o=2<du(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",lu(e)}}finally{fu(e)}}}function fu(e,t){if(e.g){hu(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||oo(e,"ready");try{n.onreadystatechange=r}catch(UC){}}}function hu(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ea.clearTimeout(e.A),e.A=null)}function du(e){return e.g?e.g.readyState:0}function pu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case au:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(bl){return null}}function vu(e){var t="";return Va(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function yu(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=vu(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):bs(e,t,n))}function mu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function gu(e){this.Ga=0,this.j=[],this.l=new Po,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=mu("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=mu("baseRetryDelayMs",5e3,e),this.hb=mu("retryDelaySeedMs",1e4,e),this.eb=mu("forwardChannelMaxRetries",2,e),this.xa=mu("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new js(e&&e.concurrentRequestLimit),this.Ja=new Gs,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ku(e){if(bu(e),3==e.H){var t=e.W++,n=ms(e.I);if(bs(n,"SID",e.K),bs(n,"RID",t),bs(n,"TYPE","terminate"),Cu(e,n),(t=new Jo(e,e.l,t)).L=2,t.v=ws(ms(n)),n=!1,ea.navigator&&ea.navigator.sendBeacon)try{n=ea.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&ea.Image&&((new Image).src=t.v,n=!0),n||(t.g=Mu(t.l,null),t.g.ha(t.v)),t.G=Date.now(),us(t)}Ou(e)}function _u(e){e.g&&(Iu(e),e.g.cancel(),e.g=null)}function bu(e){_u(e),e.u&&(ea.clearTimeout(e.u),e.u=null),Ru(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ea.clearTimeout(e.m),e.m=null)}function wu(e){if(!Vs(e.i)&&!e.m){e.m=!0;var t=e.Na;mo||_o(),go||(mo(),go=!0),ko.add(t,e),e.C=0}}function Eu(e,t){var n;n=t?t.m:e.W++;var r=ms(e.I);bs(r,"SID",e.K),bs(r,"RID",n),bs(r,"AID",e.V),Cu(e,r),e.o&&e.s&&yu(r,e.o,e.s),n=new Jo(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=xu(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),qs(e.i,n),rs(n,r,t)}function Cu(e,t){e.na&&Va(e.na,(function(e,n){bs(t,n,e)})),e.h&&ps({},(function(e,n){bs(t,n,e)}))}function xu(e,t,n){n=Math.min(e.j.length,n);var r=e.h?sa(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var l=i[u].g,c=i[u].map;if(0>(l-=a))a=Math.max(0,i[u].g-100),s=!1;else try{$s(c,o,"req"+l+"_")}catch(f){r&&r(c)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function Su(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;mo||_o(),go||(mo(),go=!0),ko.add(t,e),e.A=0}}function Tu(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=zo(sa(e.Ma,e),Du(e,e.A)),e.A++,!0)}function Iu(e){null!=e.B&&(ea.clearTimeout(e.B),e.B=null)}function Nu(e){e.g=new Jo(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=ms(e.wa);bs(t,"RID","rpc"),bs(t,"SID",e.K),bs(t,"AID",e.V),bs(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&bs(t,"TO",e.qa),bs(t,"TYPE","xmlhttp"),Cu(e,t),e.o&&e.s&&yu(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=ws(ms(t)),n.s=null,n.S=!0,is(n,e)}function Ru(e){null!=e.v&&(ea.clearTimeout(e.v),e.v=null)}function Pu(e,t){var n=null;if(e.g==t){Ru(e),Iu(e),e.g=null;var r=2}else{if(!Bs(e.i,t))return;n=t.F,Ws(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;oo(r=Lo(),new Vo(r,n)),wu(e)}else Su(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(zs(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=zo(sa(e.Na,e,t),Du(e,e.C)),e.C++,!0))}(e,t)||2==r&&Tu(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Au(e,5);break;case 4:Au(e,10);break;case 3:Au(e,6);break;default:Au(e,2)}}function Du(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Au(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=sa(e.pb,e);n||(n=new ys("//www.google.com/images/cleardot.gif"),ea.location&&"http"==ea.location.protocol||gs(n,"https"),ws(n)),function(e,t){var n=new Po;if(ea.Image){var r=new Image;r.onload=ua(Ys,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ua(Ys,n,r,"TestLoadImage: error",!1,t),r.onabort=ua(Ys,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ua(Ys,n,r,"TestLoadImage: timeout",!1,t),ea.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Uo(2);e.H=0,e.h&&e.h.za(t),Ou(e),bu(e)}function Ou(e){if(e.H=0,e.ma=[],e.h){var t=Hs(e.i);0==t.length&&0==e.j.length||(da(e.ma,t),da(e.ma,e.j),e.i.i.length=0,ha(e.j),e.j.length=0),e.h.ya()}}function Lu(e,t,n){var r=n instanceof ys?ms(n):new ys(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ks(r,r.m);else{var i=ea.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new ys(null);r&&gs(a,r),t&&(a.g=t),i&&ks(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&bs(r,n,t),bs(r,"VER",e.ra),Cu(e,r),r}function Mu(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new iu(new Xs({ob:!0})):new iu(e.va)).Oa(e.J),t}function Fu(){}function ju(){if(Ea&&!(10<=Number(Aa)))throw Error("Environmental error: no available transport.")}function Uu(e,t){ao.call(this),this.g=new gu(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ya(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ya(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Bu(this)}function Vu(e){$o.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function zu(){Yo.call(this),this.status=1}function Bu(e){this.g=e}function qu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Wu(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Hu(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Yi=iu.prototype).Oa=function(e){this.M=e},Yi.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Qo.g(),this.C=this.u?Ho(this.u):Ho(Qo),this.g.onreadystatechange=sa(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void uu(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=tr(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=ea.FormData&&e instanceof ea.FormData,!(0<=fa(su,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,l=tr(n);try{for(l.s();!(u=l.n()).done;){var c=A(u.value,2),f=c[0],h=c[1];this.g.setRequestHeader(f,h)}}catch(d){l.e(d)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{hu(this),0<this.B&&((this.L=function(e){return Ea&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sa(this.ua,this)):this.A=Co(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){uu(this,s)}},Yi.ua=function(){"undefined"!=typeof Zi&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,oo(this,"timeout"),this.abort(8))},Yi.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,oo(this,"complete"),oo(this,"abort"),fu(this))},Yi.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fu(this,!0)),iu.$.N.call(this)},Yi.La=function(){this.s||(this.G||this.v||this.l?cu(this):this.kb())},Yi.kb=function(){cu(this)},Yi.isActive=function(){return!!this.g},Yi.da=function(){try{return 2<du(this)?this.g.status:-1}catch(Ks){return-1}},Yi.ja=function(){try{return this.g?this.g.responseText:""}catch(Ks){return""}},Yi.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ru(t)}},Yi.Ia=function(){return this.m},Yi.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Yi=gu.prototype).ra=8,Yi.H=1,Yi.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Jo(this,this.l,e),n=this.s;if(this.U&&(n?qa(n=za(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=xu(this,t,r),bs(i=ms(this.I),"RID",e),bs(i,"CVER",22),this.F&&bs(i,"X-HTTP-Session-Id",this.F),Cu(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(vu(n)))+"&"+r:this.o&&yu(i,this.o,n)),qs(this.i,t),this.bb&&bs(i,"TYPE","init"),this.P?(bs(i,"$req",r),bs(i,"SID","null"),t.aa=!0,rs(t,i,null)):rs(t,i,r),this.H=2}}else 3==this.H&&(e?Eu(this,e):0==this.j.length||Vs(this.i)||Eu(this))},Yi.Ma=function(){if(this.u=null,Nu(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=zo(sa(this.jb,this),e)}},Yi.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Uo(10),_u(this),Nu(this))},Yi.ib=function(){null!=this.v&&(this.v=null,_u(this),Tu(this),Uo(19))},Yi.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Uo(2)):(this.l.info("Failed to ping google.com"),Uo(1))},Yi.isActive=function(){return!!this.h&&this.h.isActive(this)},(Yi=Fu.prototype).Ba=function(){},Yi.Aa=function(){},Yi.za=function(){},Yi.ya=function(){},Yi.isActive=function(){return!0},Yi.Va=function(){},ju.prototype.g=function(e,t){return new Uu(e,t)},la(Uu,ao),Uu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Uo(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Lu(e,null,e.Y),wu(e)},Uu.prototype.close=function(){ku(this.g)},Uu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=uo(e),e=n);t.j.push(new Fs(t.fb++,e)),3==t.H&&wu(t)},Uu.prototype.N=function(){this.g.h=null,delete this.j,ku(this.g),delete this.g,Uu.$.N.call(this)},la(Vu,$o),la(zu,Yo),la(Bu,Fu),Bu.prototype.Ba=function(){oo(this.g,"a")},Bu.prototype.Aa=function(e){oo(this.g,new Vu(e))},Bu.prototype.za=function(e){oo(this.g,new zu)},Bu.prototype.ya=function(){oo(this.g,"b")},la(qu,(function(){this.blockSize=-1})),qu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},qu.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Wu(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Wu(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Wu(this,r),i=0;break}}this.h=i,this.i+=t},qu.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Ku={};function Qu(e){return-128<=e&&128>e?function(e,t){var n=Ku;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Hu([0|e],0>e?-1:0)})):new Hu([0|e],0>e?-1:0)}function Gu(e){if(isNaN(e)||!isFinite(e))return Yu;if(0>e)return tl(Gu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=$u;return new Hu(t,0)}var $u=4294967296,Yu=Qu(0),Xu=Qu(1),Ju=Qu(16777216);function Zu(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function el(e){return-1==e.h}function tl(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Hu(n,~e.h).add(Xu)}function nl(e,t){return e.add(tl(t))}function rl(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function il(e,t){this.g=e,this.h=t}function al(e,t){if(Zu(t))throw Error("division by zero");if(Zu(e))return new il(Yu,Yu);if(el(e))return t=al(tl(e),t),new il(tl(t.g),tl(t.h));if(el(t))return t=al(e,tl(t)),new il(tl(t.g),t.h);if(30<e.g.length){if(el(e)||el(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Xu,r=t;0>=r.X(e);)n=ol(n),r=ol(r);var i=sl(n,1),a=sl(r,1);for(r=sl(r,2),n=sl(n,2);!Zu(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=sl(r,1),n=sl(n,1)}return t=nl(e,i.R(t)),new il(i,t)}for(i=Yu;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Gu(n)).R(t);el(o)||0<o.X(e);)o=(a=Gu(n-=r)).R(t);Zu(a)&&(a=Xu),i=i.add(a),e=nl(e,o)}return new il(i,e)}function ol(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Hu(n,e.h)}function sl(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Hu(i,e.h)}(Yi=Hu.prototype).ea=function(){if(el(this))return-tl(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:$u+r)*t,t*=$u}return e},Yi.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Zu(this))return"0";if(el(this))return"-"+tl(this).toString(e);for(var t=Gu(Math.pow(e,6)),n=this,r="";;){var i=al(n,t).g,a=((0<(n=nl(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Zu(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Yi.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Yi.X=function(e){return el(e=nl(this,e))?-1:Zu(e)?0:1},Yi.abs=function(){return el(this)?tl(this):this},Yi.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Hu(n,-2147483648&n[n.length-1]?-1:0)},Yi.R=function(e){if(Zu(this)||Zu(e))return Yu;if(el(this))return el(e)?tl(this).R(tl(e)):tl(tl(this).R(e));if(el(e))return tl(this.R(tl(e)));if(0>this.X(Ju)&&0>e.X(Ju))return Gu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,rl(n,2*r+2*i),n[2*r+2*i+1]+=a*u,rl(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,rl(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,rl(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Hu(n,0)},Yi.gb=function(e){return al(this,e).h},Yi.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Hu(n,this.h&e.h)},Yi.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Hu(n,this.h|e.h)},Yi.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Hu(n,this.h^e.h)},ju.prototype.createWebChannel=ju.prototype.g,Uu.prototype.send=Uu.prototype.u,Uu.prototype.open=Uu.prototype.m,Uu.prototype.close=Uu.prototype.close,Bo.NO_ERROR=0,Bo.TIMEOUT=8,Bo.HTTP_ERROR=6,qo.COMPLETE="complete",Ko.EventType=Go,Go.OPEN="a",Go.CLOSE="b",Go.ERROR="c",Go.MESSAGE="d",ao.prototype.listen=ao.prototype.O,iu.prototype.listenOnce=iu.prototype.P,iu.prototype.getLastError=iu.prototype.Sa,iu.prototype.getLastErrorCode=iu.prototype.Ia,iu.prototype.getStatus=iu.prototype.da,iu.prototype.getResponseJson=iu.prototype.Wa,iu.prototype.getResponseText=iu.prototype.ja,iu.prototype.send=iu.prototype.ha,iu.prototype.setWithCredentials=iu.prototype.Oa,qu.prototype.digest=qu.prototype.l,qu.prototype.reset=qu.prototype.reset,qu.prototype.update=qu.prototype.j,Hu.prototype.add=Hu.prototype.add,Hu.prototype.multiply=Hu.prototype.R,Hu.prototype.modulo=Hu.prototype.gb,Hu.prototype.compare=Hu.prototype.X,Hu.prototype.toNumber=Hu.prototype.ea,Hu.prototype.toString=Hu.prototype.toString,Hu.prototype.getBits=Hu.prototype.D,Hu.fromNumber=Gu,Hu.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return tl(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Gu(Math.pow(n,8)),i=Yu,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=Gu(Math.pow(n,o)),i=i.R(o).add(Gu(s))):i=(i=i.R(r)).add(Gu(s))}return i};var ul=Ji.createWebChannelTransport=function(){return new ju},ll=Ji.getStatEventTarget=function(){return Lo()},cl=Ji.ErrorCode=Bo,fl=Ji.EventType=qo,hl=Ji.Event=Ao,dl=Ji.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},pl=(Ji.FetchXmlHttpFactory=Xs,Ji.WebChannel=Ko),vl=Ji.XhrIo=iu,yl=Ji.Md5=qu,ml=Ji.Integer=Hu,gl="@firebase/firestore",kl=function(){function e(t){Nt(this,e),this.uid=t}return Pt(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();kl.UNAUTHENTICATED=new kl(null),kl.GOOGLE_CREDENTIALS=new kl("google-credentials-uid"),kl.FIRST_PARTY=new kl("first-party-uid"),kl.MOCK_USER=new kl("mock-user");var _l="10.5.0",bl=new Xr("@firebase/firestore");function wl(){return bl.logLevel}function El(e){if(bl.logLevel<=Wr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Sl);bl.debug.apply(bl,["Firestore (".concat(_l,"): ").concat(e)].concat(It(i)))}}function Cl(e){if(bl.logLevel<=Wr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Sl);bl.error.apply(bl,["Firestore (".concat(_l,"): ").concat(e)].concat(It(i)))}}function xl(e){if(bl.logLevel<=Wr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Sl);bl.warn.apply(bl,["Firestore (".concat(_l,"): ").concat(e)].concat(It(i)))}}function Sl(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Tl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(_l,") INTERNAL ASSERTION FAILED: ")+e;throw Cl(t),new Error(t)}function Il(e,t){e||Tl()}function Nl(e,t){return e}var Rl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Pl=function(e){Sn(n,e);var t=Nn(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Pt(n)}(Cr),Dl=Pt((function e(){var t=this;Nt(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Al=Pt((function e(t,n){Nt(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Ol=function(){function e(){Nt(this,e)}return Pt(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(kl.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Ll=function(){function e(t){Nt(this,e),this.token=t,this.changeListener=null}return Pt(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Ml=function(){function e(t){Nt(this,e),this.t=t,this.currentUser=kl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Pt(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Dl;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Dl,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){El("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(El("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Dl)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(El("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Il("string"==typeof n.accessToken),new Al(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Il(null===e||"string"==typeof e),new kl(e)}}]),e}(),Fl=function(){function e(t,n,r){Nt(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=kl.FIRST_PARTY,this.I=new Map}return Pt(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),jl=function(){function e(t,n,r){Nt(this,e),this.l=t,this.h=n,this.P=r}return Pt(e,[{key:"getToken",value:function(){return Promise.resolve(new Fl(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(kl.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Ul=Pt((function e(t){Nt(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Vl=function(){function e(t){Nt(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return Pt(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&El("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,El("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){El("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):El("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Il("string"==typeof t.token),e.R=t.token,new Ul(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function zl(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Bl=function(){function e(){Nt(this,e)}return Pt(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=zl(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function ql(e,t){return e<t?-1:e>t?1:0}function Wl(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Hl=function(){function e(t,n){if(Nt(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Pl(Rl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pl(Rl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Pl(Rl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Pl(Rl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Pt(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?ql(this.nanoseconds,e.nanoseconds):ql(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Kl=function(){function e(t){Nt(this,e),this.timestamp=t}return Pt(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Hl(0,0))}},{key:"max",value:function(){return new e(new Hl(253402300799,999999999))}}]),e}(),Ql=function(){function e(t,n,r){Nt(this,e),void 0===n?n=0:n>t.length&&Tl(),void 0===r?r=t.length-n:r>t.length-n&&Tl(),this.segments=t,this.offset=n,this.len=r}return Pt(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Gl=function(e){Sn(n,e);var t=Nn(n);function n(){return Nt(this,n),t.apply(this,arguments)}return Pt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Pl(Rl.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,It(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ql),$l=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Yl=function(e){Sn(n,e);var t=Nn(n);function n(){return Nt(this,n),t.apply(this,arguments)}return Pt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return $l.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Pl(Rl.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Pl(Rl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Pl(Rl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Pl(Rl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ql),Xl=function(){function e(t){Nt(this,e),this.path=t}return Pt(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Gl.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Gl.fromString(t))}},{key:"fromName",value:function(t){return new e(Gl.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Gl.emptyPath())}},{key:"comparator",value:function(e,t){return Gl.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Gl(t.slice()))}}]),e}(),Jl=Pt((function e(t,n,r,i){Nt(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Jl.UNKNOWN_ID=-1;function Zl(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Kl.fromTimestamp(1e9===r?new Hl(n+1,0):new Hl(n,r));return new tc(i,Xl.empty(),t)}function ec(e){return new tc(e.readTime,e.key,-1)}var tc=function(){function e(t,n,r){Nt(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Pt(e,null,[{key:"min",value:function(){return new e(Kl.min(),Xl.empty(),-1)}},{key:"max",value:function(){return new e(Kl.max(),Xl.empty(),-1)}}]),e}();function nc(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Xl.comparator(e.documentKey,t.documentKey))?n:ql(e.largestBatchId,t.largestBatchId)}var rc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ic=function(){function e(){Nt(this,e),this.onCommittedListeners=[]}return Pt(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function ac(e){return oc.apply(this,arguments)}function oc(){return(oc=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Rl.FAILED_PRECONDITION&&t.message===rc){e.next=2;break}throw t;case 2:El("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sc=function(){function e(t){var n=this;Nt(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Pt(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Tl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=tr(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function uc(e){return"IndexedDbTransactionError"===e.name}var lc=function(){function e(t,n){var r=this;Nt(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return Pt(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function cc(e){return null==e}function fc(e){return 0===e&&1/e==-1/0}function hc(e){return"number"==typeof e&&Number.isInteger(e)&&!fc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}lc.ae=-1;var dc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),pc=([].concat(It(dc),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),vc=pc;[].concat(vc,["indexConfiguration","indexState","indexEntries"]);function yc(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function mc(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function gc(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var kc=function(){function e(t,n){Nt(this,e),this.comparator=t,this.root=n||bc.EMPTY}return Pt(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,bc.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,bc.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new _c(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new _c(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new _c(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new _c(this.root,e,this.comparator,!0)}}]),e}(),_c=function(){function e(t,n,r,i){Nt(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Pt(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),bc=function(){function e(t,n,r,i,a){Nt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Pt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Tl();if(this.right.isRed())throw Tl();var e=this.left.check();if(e!==this.right.check())throw Tl();return e+(this.isRed()?0:1)}}]),e}();bc.EMPTY=null,bc.RED=!0,bc.BLACK=!1,bc.EMPTY=new(function(){function e(){Nt(this,e),this.size=0}return Pt(e,[{key:"key",get:function(){throw Tl()}},{key:"value",get:function(){throw Tl()}},{key:"color",get:function(){throw Tl()}},{key:"left",get:function(){throw Tl()}},{key:"right",get:function(){throw Tl()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new bc(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var wc=function(){function e(t){Nt(this,e),this.comparator=t,this.data=new kc(this.comparator)}return Pt(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Ec(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Ec(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Ec=function(){function e(t){Nt(this,e),this.iter=t}return Pt(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Cc=function(){function e(t){Nt(this,e),this.fields=t,t.sort(Yl.comparator)}return Pt(e,[{key:"unionWith",value:function(t){var n,r=new wc(Yl.comparator),i=tr(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,s=tr(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(l){s.e(l)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=tr(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Wl(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),xc=function(e){Sn(n,e);var t=Nn(n);function n(){var e;return Nt(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return Pt(n)}(er(Error));var Sc=function(e){function t(e){Nt(this,t),this.binaryString=e}return Pt(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return ql(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new xc("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Sc.EMPTY_BYTE_STRING=new Sc("");var Tc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ic(e){if(Il(!!e),"string"==typeof e){var t=0,n=Tc.exec(e);if(Il(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Nc(e.seconds),nanos:Nc(e.nanos)}}function Nc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Rc(e){return"string"==typeof e?Sc.fromBase64String(e):Sc.fromUint8Array(e)}function Pc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Dc(e){var t=e.mapValue.fields.__previous_value__;return Pc(t)?Dc(t):t}function Ac(e){var t=Ic(e.mapValue.fields.__local_write_time__.timestampValue);return new Hl(t.seconds,t.nanos)}var Oc=Pt((function e(t,n,r,i,a,o,s,u,l){Nt(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=l})),Lc=function(){function e(t,n){Nt(this,e),this.projectId=t,this.database=n||"(default)"}return Pt(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Mc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Pc(e)?4:Xc(e)?9007199254740991:10:Tl()}function jc(e,t){if(e===t)return!0;var n=Fc(e);if(n!==Fc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ac(e).isEqual(Ac(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ic(e.timestampValue),r=Ic(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Rc(e.bytesValue).isEqual(Rc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Nc(e.geoPointValue.latitude)===Nc(t.geoPointValue.latitude)&&Nc(e.geoPointValue.longitude)===Nc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Nc(e.integerValue)===Nc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Nc(e.doubleValue),r=Nc(t.doubleValue);return n===r?fc(n)===fc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Wl(e.arrayValue.values||[],t.arrayValue.values||[],jc);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(yc(n)!==yc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!jc(n[i],r[i])))return!1;return!0}(e,t);default:return Tl()}}function Uc(e,t){return void 0!==(e.values||[]).find((function(e){return jc(e,t)}))}function Vc(e,t){if(e===t)return 0;var n=Fc(e),r=Fc(t);if(n!==r)return ql(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ql(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Nc(e.integerValue||e.doubleValue),r=Nc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return zc(e.timestampValue,t.timestampValue);case 4:return zc(Ac(e),Ac(t));case 5:return ql(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Rc(e),r=Rc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=ql(n[i],r[i]);if(0!==a)return a}return ql(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ql(Nc(e.latitude),Nc(t.latitude));return 0!==n?n:ql(Nc(e.longitude),Nc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Vc(n[i],r[i]);if(a)return a}return ql(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Mc.mapValue&&t===Mc.mapValue)return 0;if(e===Mc.mapValue)return 1;if(t===Mc.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=ql(r[o],a[o]);if(0!==s)return s;var u=Vc(n[r[o]],i[a[o]]);if(0!==u)return u}return ql(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Tl()}}function zc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ql(e,t);var n=Ic(e),r=Ic(t),i=ql(n.seconds,r.seconds);return 0!==i?i:ql(n.nanos,r.nanos)}function Bc(e){return qc(e)}function qc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ic(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Rc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Xl.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=tr(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=qc(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=tr(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(qc(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Tl()}function Wc(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Hc(e){return!!e&&"integerValue"in e}function Kc(e){return!!e&&"arrayValue"in e}function Qc(e){return!!e&&"nullValue"in e}function Gc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $c(e){return!!e&&"mapValue"in e}function Yc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return mc(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Yc(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Yc(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Xc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Jc=function(){function e(t){Nt(this,e),this.value=t}return Pt(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!$c(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yc(t)}},{key:"setAll",value:function(e){var t=this,n=Yl.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Yc(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());$c(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return jc(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];$c(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){mc(t,(function(t,n){return e[t]=n}));var r,i=tr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Yc(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Zc(e){var t=[];return mc(e.fields,(function(e,n){var r=new Yl([e]);if($c(n)){var i=Zc(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=tr(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Cc(t)}var ef=function(){function e(t,n,r,i,a,o,s){Nt(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return Pt(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Kl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Jc.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Jc.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Kl.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Kl.min(),Kl.min(),Kl.min(),Jc.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Kl.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Kl.min(),Kl.min(),Jc.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Kl.min(),Kl.min(),Jc.empty(),2)}}]),e}(),tf=Pt((function e(t,n){Nt(this,e),this.position=t,this.inclusive=n}));function nf(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Xl.comparator(Xl.fromName(o.referenceValue),n.key):Vc(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function rf(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!jc(e.position[n],t.position[n]))return!1;return!0}var af=Pt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Nt(this,e),this.field=t,this.dir=n}));function of(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var sf=Pt((function e(){Nt(this,e)})),uf=function(e){Sn(n,e);var t=Nn(n);function n(e,r,i){var a;return Nt(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Pt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Vc(t,this.value)):null!==t&&Fc(this.value)===Fc(t)&&this.matchesComparison(Vc(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Tl()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new yf(e,t,r):"array-contains"===t?new _f(e,r):"in"===t?new bf(e,r):"not-in"===t?new wf(e,r):"array-contains-any"===t?new Ef(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new mf(e,n):new gf(e,n)}}]),n}(sf),lf=function(e){Sn(n,e);var t=Nn(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return Pt(n,[{key:"matches",value:function(e){return cf(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(sf);function cf(e){return"and"===e.op}function ff(e){return hf(e)&&cf(e)}function hf(e){var t,n=tr(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof lf)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function df(e){if(e instanceof uf)return e.field.canonicalString()+e.op.toString()+Bc(e.value);if(ff(e))return e.filters.map((function(e){return df(e)})).join(",");var t=e.filters.map((function(e){return df(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function pf(e,t){return e instanceof uf?function(e,t){return t instanceof uf&&e.op===t.op&&e.field.isEqual(t.field)&&jc(e.value,t.value)}(e,t):e instanceof lf?function(e,t){return t instanceof lf&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&pf(n,t.filters[r])}),!0)}(e,t):void Tl()}function vf(e){return e instanceof uf?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Bc(e.value))}(e):e instanceof lf?function(e){return e.op.toString()+" {"+e.getFilters().map(vf).join(" ,")+"}"}(e):"Filter"}var yf=function(e){Sn(n,e);var t=Nn(n);function n(e,r,i){var a;return Nt(this,n),(a=t.call(this,e,r,i)).key=Xl.fromName(i.referenceValue),a}return Pt(n,[{key:"matches",value:function(e){var t=Xl.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(uf),mf=function(e){Sn(n,e);var t=Nn(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this,e,"in",r)).keys=kf("in",r),i}return Pt(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(uf),gf=function(e){Sn(n,e);var t=Nn(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this,e,"not-in",r)).keys=kf("not-in",r),i}return Pt(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(uf);function kf(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Xl.fromName(e.referenceValue)}))}var _f=function(e){Sn(n,e);var t=Nn(n);function n(e,r){return Nt(this,n),t.call(this,e,"array-contains",r)}return Pt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Kc(t)&&Uc(t.arrayValue,this.value)}}]),n}(uf),bf=function(e){Sn(n,e);var t=Nn(n);function n(e,r){return Nt(this,n),t.call(this,e,"in",r)}return Pt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Uc(this.value.arrayValue,t)}}]),n}(uf),wf=function(e){Sn(n,e);var t=Nn(n);function n(e,r){return Nt(this,n),t.call(this,e,"not-in",r)}return Pt(n,[{key:"matches",value:function(e){if(Uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Uc(this.value.arrayValue,t)}}]),n}(uf),Ef=function(e){Sn(n,e);var t=Nn(n);function n(e,r){return Nt(this,n),t.call(this,e,"array-contains-any",r)}return Pt(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Kc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Uc(t.value.arrayValue,e)}))}}]),n}(uf),Cf=Pt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Nt(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.le=null}));function xf(e){return new Cf(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Sf(e){var t=Nl(e);if(null===t.le){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return df(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),cc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Bc(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Bc(e)})).join(",")),t.le=n}return t.le}function Tf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!of(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!pf(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rf(e.startAt,t.startAt)&&rf(e.endAt,t.endAt)}function If(e){return Xl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Nf=Pt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Nt(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.he=null,this.Pe=null,this.Ie=null,this.startAt,this.endAt}));function Rf(e,t,n,r,i,a,o,s){return new Nf(e,t,n,r,i,a,o,s)}function Pf(e){return new Nf(e)}function Df(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Af(e){return null!==e.collectionGroup}function Of(e){var t=Nl(e);if(null===t.he){t.he=[];var n,r=new Set,i=tr(t.explicitOrderBy);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.he.push(a),r.add(a.field.canonicalString())}}catch(u){i.e(u)}finally{i.f()}var o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",s=function(e){var t=new wc(Yl.comparator);return e.filters.forEach((function(e){e.getFlattenedFilters().forEach((function(e){e.isInequality()&&(t=t.add(e.field))}))})),t}(t);s.forEach((function(e){r.has(e.canonicalString())||e.isKeyField()||t.he.push(new af(e,o))})),r.has(Yl.keyField().canonicalString())||t.he.push(new af(Yl.keyField(),o))}return t.he}function Lf(e){var t=Nl(e);return t.Pe||(t.Pe=Mf(t,Of(e))),t.Pe}function Mf(e,t){if("F"===e.limitType)return xf(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new af(e.field,t)}));var n=e.endAt?new tf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new tf(e.startAt.position,e.startAt.inclusive):null;return xf(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function Ff(e,t){var n=e.filters.concat([t]);return new Nf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function jf(e,t,n){return new Nf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Uf(e,t){return Tf(Lf(e),Lf(t))&&e.limitType===t.limitType}function Vf(e){return"".concat(Sf(Lf(e)),"|lt:").concat(e.limitType)}function zf(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return vf(e)})).join(", "),"]")),cc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Bc(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Bc(e)})).join(",")),"Target(".concat(t,")")}(Lf(e)),"; limitType=").concat(e.limitType,")")}function Bf(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Xl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=tr(Of(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=tr(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=nf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Of(e),t))&&!(e.endAt&&!function(e,t,n){var r=nf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Of(e),t))}(e,t)}function qf(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Wf(e){return function(t,n){var r,i=!1,a=tr(Of(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Hf(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Hf(e,t,n){var r=e.field.isKeyField()?Xl.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Vc(r,i):Tl()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Tl()}}var Kf=function(){function e(t,n){Nt(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Pt(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=tr(n);try{for(i.s();!(r=i.n()).done;){var a=A(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){mc(this.inner,(function(t,n){var r,i=tr(n);try{for(i.s();!(r=i.n()).done;){var a=A(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return gc(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Qf=new kc(Xl.comparator);function Gf(){return Qf}var $f=new kc(Xl.comparator);function Yf(){for(var e=$f,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Xf(e){var t=$f;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Jf(){return eh()}function Zf(){return eh()}function eh(){return new Kf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var th=new kc(Xl.comparator),nh=new wc(Xl.comparator);function rh(){for(var e=nh,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var ih=new wc(ql);function ah(){return ih}function oh(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fc(t)?"-0":t}}function sh(e){return{integerValue:""+e}}function uh(e,t){return hc(t)?sh(t):oh(e,t)}var lh=Pt((function e(){Nt(this,e),this._=void 0}));function ch(e,t,n){return e instanceof dh?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Pc(t)&&(t=Dc(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ph?vh(e,t):e instanceof yh?mh(e,t):function(e,t){var n=hh(e,t),r=kh(n)+kh(e.Te);return Hc(n)&&Hc(e.Te)?sh(r):oh(e.serializer,r)}(e,t)}function fh(e,t,n){return e instanceof ph?vh(e,t):e instanceof yh?mh(e,t):n}function hh(e,t){return e instanceof gh?function(e){return Hc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var dh=function(e){Sn(n,e);var t=Nn(n);function n(){return Nt(this,n),t.apply(this,arguments)}return Pt(n)}(lh),ph=function(e){Sn(n,e);var t=Nn(n);function n(e){var r;return Nt(this,n),(r=t.call(this)).elements=e,r}return Pt(n)}(lh);function vh(e,t){var n,r=_h(t),i=tr(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return jc(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var yh=function(e){Sn(n,e);var t=Nn(n);function n(e){var r;return Nt(this,n),(r=t.call(this)).elements=e,r}return Pt(n)}(lh);function mh(e,t){var n,r=_h(t),i=tr(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!jc(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var gh=function(e){Sn(n,e);var t=Nn(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this)).serializer=e,i.Te=r,i}return Pt(n)}(lh);function kh(e){return Nc(e.integerValue||e.doubleValue)}function _h(e){return Kc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var bh=Pt((function e(t,n){Nt(this,e),this.field=t,this.transform=n}));var wh=Pt((function e(t,n){Nt(this,e),this.version=t,this.transformResults=n})),Eh=function(){function e(t,n){Nt(this,e),this.updateTime=t,this.exists=n}return Pt(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Ch(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var xh=Pt((function e(){Nt(this,e)}));function Sh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new jh(e.key,Eh.none()):new Ph(e.key,e.data,Eh.none());var n,r=e.data,i=Jc.empty(),a=new wc(Yl.comparator),o=tr(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(l){o.e(l)}finally{o.f()}return new Dh(e.key,i,new Cc(a.toArray()),Eh.none())}function Th(e,t,n){e instanceof Ph?function(e,t,n){var r=e.value.clone(),i=Oh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Dh?function(e,t,n){if(Ch(e.precondition,t)){var r=Oh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ah(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ih(e,t,n,r){return e instanceof Ph?function(e,t,n,r){if(!Ch(e.precondition,t))return n;var i=e.value.clone(),a=Lh(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Dh?function(e,t,n,r){if(!Ch(e.precondition,t))return n;var i=Lh(e.fieldTransforms,r,t),a=t.data;return a.setAll(Ah(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Ch(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Nh(e,t){var n,r=null,i=tr(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=hh(a.transform,o||null);null!=s&&(null===r&&(r=Jc.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Rh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Wl(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ph&&t instanceof ph||e instanceof yh&&t instanceof yh?Wl(e.elements,t.elements,jc):e instanceof gh&&t instanceof gh?jc(e.Te,t.Te):e instanceof dh&&t instanceof dh}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Ph=function(e){Sn(n,e);var t=Nn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Nt(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Pt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(xh),Dh=function(e){Sn(n,e);var t=Nn(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Nt(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Pt(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(xh);function Ah(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Oh(e,t,n){var r=new Map;Il(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,fh(o,s,n[i]))}return r}function Lh(e,t,n){var r,i=new Map,a=tr(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,ch(s,u,t))}}catch(l){a.e(l)}finally{a.f()}return i}var Mh,Fh,jh=function(e){Sn(n,e);var t=Nn(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Pt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(xh),Uh=function(e){Sn(n,e);var t=Nn(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Pt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(xh),Vh=function(){function e(t,n,r,i){Nt(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Pt(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Th(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=tr(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Ih(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=tr(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Ih(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Zf();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=Sh(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Kl.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),rh())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Wl(this.mutations,e.mutations,(function(e,t){return Rh(e,t)}))&&Wl(this.baseMutations,e.baseMutations,(function(e,t){return Rh(e,t)}))}}]),e}(),zh=function(){function e(t,n,r,i){Nt(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Pt(e,null,[{key:"from",value:function(t,n,r){Il(t.mutations.length===r.length);for(var i=th,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Bh=function(){function e(t,n){Nt(this,e),this.largestBatchId=t,this.mutation=n}return Pt(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),qh=Pt((function e(t,n){Nt(this,e),this.count=t,this.unchangedNames=n}));function Wh(e){switch(e){default:return Tl();case Rl.CANCELLED:case Rl.UNKNOWN:case Rl.DEADLINE_EXCEEDED:case Rl.RESOURCE_EXHAUSTED:case Rl.INTERNAL:case Rl.UNAVAILABLE:case Rl.UNAUTHENTICATED:return!1;case Rl.INVALID_ARGUMENT:case Rl.NOT_FOUND:case Rl.ALREADY_EXISTS:case Rl.PERMISSION_DENIED:case Rl.FAILED_PRECONDITION:case Rl.ABORTED:case Rl.OUT_OF_RANGE:case Rl.UNIMPLEMENTED:case Rl.DATA_LOSS:return!0}}function Hh(e){if(void 0===e)return Cl("GRPC error has no .code"),Rl.UNKNOWN;switch(e){case Mh.OK:return Rl.OK;case Mh.CANCELLED:return Rl.CANCELLED;case Mh.UNKNOWN:return Rl.UNKNOWN;case Mh.DEADLINE_EXCEEDED:return Rl.DEADLINE_EXCEEDED;case Mh.RESOURCE_EXHAUSTED:return Rl.RESOURCE_EXHAUSTED;case Mh.INTERNAL:return Rl.INTERNAL;case Mh.UNAVAILABLE:return Rl.UNAVAILABLE;case Mh.UNAUTHENTICATED:return Rl.UNAUTHENTICATED;case Mh.INVALID_ARGUMENT:return Rl.INVALID_ARGUMENT;case Mh.NOT_FOUND:return Rl.NOT_FOUND;case Mh.ALREADY_EXISTS:return Rl.ALREADY_EXISTS;case Mh.PERMISSION_DENIED:return Rl.PERMISSION_DENIED;case Mh.FAILED_PRECONDITION:return Rl.FAILED_PRECONDITION;case Mh.ABORTED:return Rl.ABORTED;case Mh.OUT_OF_RANGE:return Rl.OUT_OF_RANGE;case Mh.UNIMPLEMENTED:return Rl.UNIMPLEMENTED;case Mh.DATA_LOSS:return Rl.DATA_LOSS;default:return Tl()}}(Fh=Mh||(Mh={}))[Fh.OK=0]="OK",Fh[Fh.CANCELLED=1]="CANCELLED",Fh[Fh.UNKNOWN=2]="UNKNOWN",Fh[Fh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fh[Fh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fh[Fh.NOT_FOUND=5]="NOT_FOUND",Fh[Fh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fh[Fh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fh[Fh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fh[Fh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fh[Fh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fh[Fh.ABORTED=10]="ABORTED",Fh[Fh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fh[Fh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fh[Fh.INTERNAL=13]="INTERNAL",Fh[Fh.UNAVAILABLE=14]="UNAVAILABLE",Fh[Fh.DATA_LOSS=15]="DATA_LOSS";var Kh=null;function Qh(){return new TextEncoder}var Gh=new ml([4294967295,4294967295],0);function $h(e){var t=Qh().encode(e),n=new yl;return n.update(t),new Uint8Array(n.digest())}function Yh(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new ml([n,r],0),new ml([i,a],0)]}var Xh=function(){function e(t,n,r){if(Nt(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Jh("Invalid padding: ".concat(n));if(r<0)throw new Jh("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Jh("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Jh("Invalid padding when bitmap length is 0: ".concat(n));this.Ee=8*t.length-n,this.de=ml.fromNumber(this.Ee)}return Pt(e,[{key:"Ae",value:function(e,t,n){var r=e.add(t.multiply(ml.fromNumber(n)));return 1===r.compare(Gh)&&(r=new ml([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}},{key:"Re",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Ee)return!1;for(var t=A(Yh($h(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ae(n,r,i);if(!this.Re(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Ee)for(var t=A(Yh($h(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ae(n,r,i);this.Ve(a)}}},{key:"Ve",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Jh=function(e){Sn(n,e);var t=Nn(n);function n(){var e;return Nt(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return Pt(n)}(er(Error)),Zh=function(){function e(t,n,r,i,a){Nt(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Pt(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,ed.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Kl.min(),i,new kc(ql),Gf(),rh())}}]),e}(),ed=function(){function e(t,n,r,i,a){Nt(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Pt(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,rh(),rh(),rh())}}]),e}(),td=Pt((function e(t,n,r,i){Nt(this,e),this.me=t,this.removedTargetIds=n,this.key=r,this.fe=i})),nd=Pt((function e(t,n){Nt(this,e),this.targetId=t,this.ge=n})),rd=Pt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sc.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Nt(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),id=function(){function e(){Nt(this,e),this.pe=0,this.ye=sd(),this.we=Sc.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}return Pt(e,[{key:"current",get:function(){return this.Se}},{key:"resumeToken",get:function(){return this.we}},{key:"De",get:function(){return 0!==this.pe}},{key:"Ce",get:function(){return this.be}},{key:"ve",value:function(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}},{key:"Fe",value:function(){var e=rh(),t=rh(),n=rh();return this.ye.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Tl()}})),new ed(this.we,this.Se,e,t,n)}},{key:"Me",value:function(){this.be=!1,this.ye=sd()}},{key:"xe",value:function(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}},{key:"Oe",value:function(e){this.be=!0,this.ye=this.ye.remove(e)}},{key:"Ne",value:function(){this.pe+=1}},{key:"Be",value:function(){this.pe-=1}},{key:"Le",value:function(){this.be=!0,this.Se=!0}}]),e}(),ad=function(){function e(t){Nt(this,e),this.ke=t,this.qe=new Map,this.Qe=Gf(),this.Ke=od(),this.$e=new kc(ql)}return Pt(e,[{key:"Ue",value:function(e){var t,n=tr(e.me);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.fe&&e.fe.isFoundDocument()?this.We(r,e.fe):this.Ge(r,e.key,e.fe)}}catch(s){n.e(s)}finally{n.f()}var i,a=tr(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Ge(o,e.key,e.fe)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ze",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.je(n);switch(e.state){case 0:t.He(n)&&r.ve(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.ve(e.resumeToken);break;case 2:r.Be(),r.De||t.removeTarget(n);break;case 3:t.He(n)&&(r.Le(),r.ve(e.resumeToken));break;case 4:t.He(n)&&(t.Je(n),r.ve(e.resumeToken));break;default:Tl()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((function(e,r){n.He(r)&&t(r)}))}},{key:"Ye",value:function(e){var t=e.targetId,n=e.ge.count,r=this.Ze(t);if(r){var i=r.target;if(If(i))if(0===n){var a=new Xl(i.path);this.Ge(t,a,ef.newNoDocument(a,Kl.min()))}else Il(1===n);else{var o=this.Xe(t);if(o!==n){var s=this.et(e),u=s?this.tt(s,e,o):1;if(0!==u){this.Je(t);var l=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.$e=this.$e.insert(t,l)}null==Kh||Kh.nt(function(e,t,n,r,i){var a,o,s,u,l,c,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(u=null===(s=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==u?u:0,padding:null!==(c=null===(l=null==h?void 0:h.bits)||void 0===l?void 0:l.padding)&&void 0!==c?c:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(o,e.ge,this.ke.rt(),s,u))}}}}},{key:"et",value:function(e){var t=e.ge.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,s=i.padding,u=void 0===s?0:s,l=t.hashCount,c=void 0===l?0:l;try{n=Rc(o).toUint8Array()}catch(e){if(e instanceof xc)return xl("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new Xh(n,u,c)}catch(e){return xl(e instanceof Jh?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Ee?null:r}},{key:"tt",value:function(e,t,n){return t.ge.count===n-this.it(e,t.targetId)?0:2}},{key:"it",value:function(e,t){var n=this,r=this.ke.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.ke.rt(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.Ge(t,r,null),i++)})),i}},{key:"st",value:function(e){var t=this,n=new Map;this.qe.forEach((function(r,i){var a=t.Ze(i);if(a){if(r.current&&If(a.target)){var o=new Xl(a.target.path);null!==t.Qe.get(o)||t.ot(i,o)||t.Ge(i,o,ef.newNoDocument(o,e))}r.Ce&&(n.set(i,r.Fe()),r.Me())}}));var r=rh();this.Ke.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ze(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Qe.forEach((function(t,n){return n.setReadTime(e)}));var i=new Zh(e,n,this.$e,this.Qe,r);return this.Qe=Gf(),this.Ke=od(),this.$e=new kc(ql),i}},{key:"We",value:function(e,t){if(this.He(e)){var n=this.ot(e,t.key)?2:0;this.je(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.Ke=this.Ke.insert(t.key,this._t(t.key).add(e))}}},{key:"Ge",value:function(e,t,n){if(this.He(e)){var r=this.je(e);this.ot(e,t)?r.xe(t,1):r.Oe(t),this.Ke=this.Ke.insert(t,this._t(t).delete(e)),n&&(this.Qe=this.Qe.insert(t,n))}}},{key:"removeTarget",value:function(e){this.qe.delete(e)}},{key:"Xe",value:function(e){var t=this.je(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ne",value:function(e){this.je(e).Ne()}},{key:"je",value:function(e){var t=this.qe.get(e);return t||(t=new id,this.qe.set(e,t)),t}},{key:"_t",value:function(e){var t=this.Ke.get(e);return t||(t=new wc(ql),this.Ke=this.Ke.insert(e,t)),t}},{key:"He",value:function(e){var t=null!==this.Ze(e);return t||El("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ze",value:function(e){var t=this.qe.get(e);return t&&t.De?null:this.ke.ut(e)}},{key:"Je",value:function(e){var t=this;this.qe.set(e,new id),this.ke.getRemoteKeysForTarget(e).forEach((function(n){t.Ge(e,n,null)}))}},{key:"ot",value:function(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}]),e}();function od(){return new kc(Xl.comparator)}function sd(){return new kc(Xl.comparator)}var ud={asc:"ASCENDING",desc:"DESCENDING"},ld={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cd={and:"AND",or:"OR"},fd=Pt((function e(t,n){Nt(this,e),this.databaseId=t,this.useProto3Json=n}));function hd(e,t){return e.useProto3Json||cc(t)?t:{value:t}}function dd(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function pd(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function vd(e,t){return dd(e,t.toTimestamp())}function yd(e){return Il(!!e),Kl.fromTimestamp(function(e){var t=Ic(e);return new Hl(t.seconds,t.nanos)}(e))}function md(e,t){return function(e){return new Gl(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function gd(e){var t=Gl.fromString(e);return Il(jd(t)),t}function kd(e,t){return md(e.databaseId,t.path)}function _d(e,t){var n=gd(t);if(n.get(1)!==e.databaseId.projectId)throw new Pl(Rl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Pl(Rl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Xl(Cd(n))}function bd(e,t){return md(e.databaseId,t)}function wd(e){var t=gd(e);return 4===t.length?Gl.emptyPath():Cd(t)}function Ed(e){return new Gl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Cd(e){return Il(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function xd(e,t,n){return{name:kd(e,t),fields:n.value.mapValue.fields}}function Sd(e,t){var n;if(t instanceof Ph)n={update:xd(e,t.key,t.value)};else if(t instanceof jh)n={delete:kd(e,t.key)};else if(t instanceof Dh)n={update:xd(e,t.key,t.data),updateMask:Fd(t.fieldMask)};else{if(!(t instanceof Uh))return Tl();n={verify:kd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof dh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ph)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof gh)return{fieldPath:t.field.canonicalString(),increment:n.Te};throw Tl()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:vd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Tl()}(e,t.precondition)),n}function Td(e,t){return{documents:[bd(e,t.path)]}}function Id(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=bd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=bd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Md(lf.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Od(e.field),direction:Pd(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=hd(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Nd(e){var t=wd(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Il(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Rd(e);return t instanceof lf&&ff(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=function(e){return e.map((function(e){return function(e){return new af(Ld(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var u=null;n.limit&&(u=function(e){var t;return cc(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new tf(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new tf(n,t)}(n.endAt)),Rf(t,i,s,o,u,"F",l,c)}function Rd(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ld(e.unaryFilter.field);return uf.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ld(e.unaryFilter.field);return uf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ld(e.unaryFilter.field);return uf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ld(e.unaryFilter.field);return uf.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Tl()}}(e):void 0!==e.fieldFilter?function(e){return uf.create(Ld(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tl()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return lf.create(e.compositeFilter.filters.map((function(e){return Rd(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Tl()}}(e.compositeFilter.op))}(e):Tl()}function Pd(e){return ud[e]}function Dd(e){return ld[e]}function Ad(e){return cd[e]}function Od(e){return{fieldPath:e.canonicalString()}}function Ld(e){return Yl.fromServerFormat(e.fieldPath)}function Md(e){return e instanceof uf?function(e){if("=="===e.op){if(Gc(e.value))return{unaryFilter:{field:Od(e.field),op:"IS_NAN"}};if(Qc(e.value))return{unaryFilter:{field:Od(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Gc(e.value))return{unaryFilter:{field:Od(e.field),op:"IS_NOT_NAN"}};if(Qc(e.value))return{unaryFilter:{field:Od(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Od(e.field),op:Dd(e.op),value:e.value}}}(e):e instanceof lf?function(e){var t=e.getFilters().map((function(e){return Md(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Ad(e.op),filters:t}}}(e):Tl()}function Fd(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function jd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Ud=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Kl.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Kl.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Sc.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Nt(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return Pt(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),Vd=Pt((function e(t){Nt(this,e),this.ct=t}));function zd(e){var t=Nd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?jf(t,t.limit,"L"):t}var Bd=function(){function e(){Nt(this,e)}return Pt(e,[{key:"Pt",value:function(e,t){this.It(e,t),t.Tt()}},{key:"It",value:function(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Nc(e.integerValue));else if("doubleValue"in e){var n=Nc(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),fc(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Et(t,20),"string"==typeof r?t.At(r):(t.At("".concat(r.seconds||"")),t.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Rc(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?Xc(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Tl()}},{key:"Rt",value:function(e,t){this.Et(t,25),this.St(e,t)}},{key:"St",value:function(e,t){t.At(e)}},{key:"yt",value:function(e,t){var n=e.fields||{};this.Et(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Rt(a,t),this.It(n[a],t)}}},{key:"wt",value:function(e,t){var n=e.values||[];this.Et(t,50);var r,i=tr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.It(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"gt",value:function(e,t){var n=this;this.Et(t,37),Xl.fromName(e).path.forEach((function(e){n.Et(t,60),n.St(e,t)}))}},{key:"Et",value:function(e,t){e.dt(t)}},{key:"Vt",value:function(e){e.dt(2)}}]),e}();Bd.bt=new Bd;var qd=function(){function e(){Nt(this,e),this._n=new Wd}return Pt(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this._n.add(t),sc.resolve()}},{key:"getCollectionParents",value:function(e,t){return sc.resolve(this._n.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return sc.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return sc.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return sc.resolve()}},{key:"createTargetIndexes",value:function(e,t){return sc.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return sc.resolve(null)}},{key:"getIndexType",value:function(e,t){return sc.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return sc.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return sc.resolve(null)}},{key:"getMinOffset",value:function(e,t){return sc.resolve(tc.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return sc.resolve(tc.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return sc.resolve()}},{key:"updateIndexEntries",value:function(e,t){return sc.resolve()}}]),e}(),Wd=function(){function e(){Nt(this,e),this.index={}}return Pt(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new wc(Gl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new wc(Gl.comparator)).toArray()}}]),e}();new Uint8Array(0);var Hd=function(){function e(t,n,r){Nt(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Pt(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Hd.DEFAULT_COLLECTION_PERCENTILE=10,Hd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hd.DEFAULT=new Hd(41943040,Hd.DEFAULT_COLLECTION_PERCENTILE,Hd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hd.DISABLED=new Hd(-1,0,0);var Kd=function(){function e(t){Nt(this,e),this.On=t}return Pt(e,[{key:"next",value:function(){return this.On+=2,this.On}}],[{key:"Nn",value:function(){return new e(0)}},{key:"Bn",value:function(){return new e(-1)}}]),e}();var Qd=function(){function e(){Nt(this,e),this.changes=new Kf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Pt(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ef.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?sc.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Gd=Pt((function e(t,n){Nt(this,e),this.overlayedDocument=t,this.mutatedFields=n})),$d=function(){function e(t,n,r,i){Nt(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Pt(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Ih(r.mutation,e,Cc.empty(),Hl.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,rh()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rh(),i=Jf();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Yf();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Jf();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,rh())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Gf(),a=eh(),o=eh();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Dh)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Ih(o.mutation,t,o.mutation.getFieldMask(),Hl.now())):a.set(t.key,Cc.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Gd(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=eh(),i=new kc((function(e,t){return e-t})),a=rh();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=tr(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Cc.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||rh()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,l=i.value,c=Zf();l.forEach((function(e){if(!a.has(e)){var n=Sh(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,c))};s.hasNext();)u();return sc.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return Xl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Af(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):sc.resolve(Jf()),s=-1,u=a;return o.next((function(t){return sc.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?sc.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,rh())})).next((function(e){return{batchId:s,changes:Xf(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Xl(t)).next((function(e){var t=Yf();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=Yf();return this.indexManager.getCollectionParents(e,a).next((function(s){return sc.forEach(s,(function(s){var u=function(e,t){return new Nf(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(a));return i.getDocumentsMatchingCollectionQuery(e,u,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,ef.newInvalidDocument(r)))}));var n=Yf();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&Ih(a.mutation,r,Cc.empty(),Hl.now()),Bf(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),Yd=function(){function e(t){Nt(this,e),this.serializer=t,this.cr=new Map,this.lr=new Map}return Pt(e,[{key:"getBundleMetadata",value:function(e,t){return sc.resolve(this.cr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:yd(e.createTime)}}(t)),sc.resolve()}},{key:"getNamedQuery",value:function(e,t){return sc.resolve(this.lr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:zd(e.bundledQuery),readTime:yd(e.readTime)}}(t)),sc.resolve()}}]),e}(),Xd=function(){function e(){Nt(this,e),this.overlays=new kc(Xl.comparator),this.hr=new Map}return Pt(e,[{key:"getOverlay",value:function(e,t){return sc.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Jf();return sc.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ht(e,t,i)})),sc.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.hr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.hr.delete(n)),sc.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Jf(),i=t.length+1,a=new Xl(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return sc.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new kc((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Jf(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Jf(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return sc.resolve(u)}},{key:"ht",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Bh(t,n));var a=this.hr.get(t);void 0===a&&(a=rh(),this.hr.set(t,a)),this.hr.set(t,a.add(n.key))}}]),e}(),Jd=function(){function e(){Nt(this,e),this.Pr=new wc(Zd.Ir),this.Tr=new wc(Zd.Er)}return Pt(e,[{key:"isEmpty",value:function(){return this.Pr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Zd(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}},{key:"dr",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ar(new Zd(e,t))}},{key:"Rr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Vr",value:function(e){var t=this,n=new Xl(new Gl([])),r=new Zd(n,e),i=new Zd(n,e+1),a=[];return this.Tr.forEachInRange([r,i],(function(e){t.Ar(e),a.push(e.key)})),a}},{key:"mr",value:function(){var e=this;this.Pr.forEach((function(t){return e.Ar(t)}))}},{key:"Ar",value:function(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}},{key:"gr",value:function(e){var t=new Xl(new Gl([])),n=new Zd(t,e),r=new Zd(t,e+1),i=rh();return this.Tr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Zd(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Zd=function(){function e(t,n){Nt(this,e),this.key=t,this.pr=n}return Pt(e,null,[{key:"Ir",value:function(e,t){return Xl.comparator(e.key,t.key)||ql(e.pr,t.pr)}},{key:"Er",value:function(e,t){return ql(e.pr,t.pr)||Xl.comparator(e.key,t.key)}}]),e}(),ep=function(){function e(t,n){Nt(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new wc(Zd.Ir)}return Pt(e,[{key:"checkEmpty",value:function(e){return sc.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Vh(i,t,n,r);this.mutationQueue.push(a);var o,s=tr(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.wr=this.wr.add(new Zd(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return sc.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return sc.resolve(this.Sr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.br(n),i=r<0?0:r;return sc.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return sc.resolve(0===this.mutationQueue.length?-1:this.yr-1)}},{key:"getAllMutationBatches",value:function(e){return sc.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Zd(t,0),i=new Zd(t,Number.POSITIVE_INFINITY),a=[];return this.wr.forEachInRange([r,i],(function(e){var t=n.Sr(e.pr);a.push(t)})),sc.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new wc(ql);return t.forEach((function(e){var t=new Zd(e,0),i=new Zd(e,Number.POSITIVE_INFINITY);n.wr.forEachInRange([t,i],(function(e){r=r.add(e.pr)}))})),sc.resolve(this.Dr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Xl.isDocumentKey(i)||(i=i.child(""));var a=new Zd(new Xl(i),0),o=new wc(ql);return this.wr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),a),sc.resolve(this.Dr(o))}},{key:"Dr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Sr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Il(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.wr;return sc.forEach(t.mutations,(function(i){var a=new Zd(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.wr=r}))}},{key:"Mn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Zd(t,0),r=this.wr.firstAfterOrEqual(n);return sc.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,sc.resolve()}},{key:"Cr",value:function(e,t){return this.br(e)}},{key:"br",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Sr",value:function(e){var t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),tp=function(){function e(t){Nt(this,e),this.vr=t,this.docs=new kc(Xl.comparator),this.size=0}return Pt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return sc.resolve(n?n.document.mutableCopy():ef.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Gf();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ef.newInvalidDocument(e))})),sc.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Gf(),a=t.path,o=new Xl(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),l=u.key,c=u.value.document;if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||nc(ec(c),n)<=0||(r.has(c.key)||Bf(t,c))&&(i=i.insert(c.key,c.mutableCopy()))}return sc.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Tl()}},{key:"Fr",value:function(e,t){return sc.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new np(this)}},{key:"getSize",value:function(e){return sc.resolve(this.size)}}]),e}(),np=function(e){Sn(n,e);var t=Nn(n);function n(e){var r;return Nt(this,n),(r=t.call(this)).ar=e,r}return Pt(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.ar.addEntry(e,i)):t.ar.removeEntry(r)})),sc.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.ar.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.ar.getEntries(e,t)}}]),n}(Qd),rp=function(){function e(t){Nt(this,e),this.persistence=t,this.Mr=new Kf((function(e){return Sf(e)}),Tf),this.lastRemoteSnapshotVersion=Kl.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Jd,this.targetCount=0,this.Br=Kd.Nn()}return Pt(e,[{key:"forEachTarget",value:function(e,t){return this.Mr.forEach((function(e,n){return t(n)})),sc.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return sc.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return sc.resolve(this.Or)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Br.next(),sc.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),sc.resolve()}},{key:"qn",value:function(e){this.Mr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Br=new Kd(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.qn(t),this.targetCount+=1,sc.resolve()}},{key:"updateTargetData",value:function(e,t){return this.qn(t),sc.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,sc.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Mr.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Mr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),sc.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return sc.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Mr.get(t)||null;return sc.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Nr.dr(t,n),sc.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Nr.Rr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),sc.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Nr.Vr(t),sc.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Nr.gr(t);return sc.resolve(n)}},{key:"containsKey",value:function(e,t){return sc.resolve(this.Nr.containsKey(t))}}]),e}(),ip=function(){function e(t,n){var r=this;Nt(this,e),this.Lr={},this.overlays={},this.kr=new lc(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new rp(this),this.indexManager=new qd,this.remoteDocumentCache=function(e){return new tp(e)}((function(e){return r.referenceDelegate.Kr(e)})),this.serializer=new Vd(n),this.$r=new Yd(this.serializer)}return Pt(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.qr=!1,Promise.resolve()}},{key:"started",get:function(){return this.qr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Xd,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Lr[e.toKey()];return n||(n=new ep(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,n){var r=this;El("MemoryPersistence","Starting transaction:",e);var i=new ap(this.kr.next());return this.referenceDelegate.Ur(),n(i).next((function(e){return r.referenceDelegate.Wr(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gr",value:function(e,t){return sc.or(Object.values(this.Lr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),ap=function(e){Sn(n,e);var t=Nn(n);function n(e){var r;return Nt(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Pt(n)}(ic),op=function(){function e(t){Nt(this,e),this.persistence=t,this.zr=new Jd,this.jr=null}return Pt(e,[{key:"Jr",get:function(){if(this.jr)return this.jr;throw Tl()}},{key:"addReference",value:function(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),sc.resolve()}},{key:"removeReference",value:function(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),sc.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Jr.add(t.toString()),sc.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.zr.Vr(t.targetId).forEach((function(e){return n.Jr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Jr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ur",value:function(){this.jr=new Set}},{key:"Wr",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return sc.forEach(this.Jr,(function(r){var i=Xl.fromPath(r);return t.Yr(e,i).next((function(e){e||n.removeEntry(i,Kl.min())}))})).next((function(){return t.jr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Yr(e,t).next((function(e){e?n.Jr.delete(t.toString()):n.Jr.add(t.toString())}))}},{key:"Kr",value:function(e){return 0}},{key:"Yr",value:function(e,t){var n=this;return sc.or([function(){return sc.resolve(n.zr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gr(e,t)}])}}],[{key:"Hr",value:function(t){return new e(t)}}]),e}();var sp=function(){function e(t,n,r,i){Nt(this,e),this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}return Pt(e,null,[{key:"Ki",value:function(t,n){var r,i=rh(),a=rh(),o=tr(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),up=function(){function e(){Nt(this,e),this._documentReadCount=0}return Pt(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),lp=function(){function e(){Nt(this,e),this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=8}return Pt(e,[{key:"initialize",value:function(e,t){this.zi=e,this.indexManager=t,this.$i=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.ji(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.Hi(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new up;return i.Ji(e,t,n).next((function(r){if(a.result=r,i.Ui)return i.Yi(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"Yi",value:function(e,t,n,r){return n.documentReadCount<this.Wi?(wl()<=Wr.DEBUG&&El("QueryEngine","SDK will not create cache indexes for query:",zf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),sc.resolve()):(wl()<=Wr.DEBUG&&El("QueryEngine","Query:",zf(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(wl()<=Wr.DEBUG&&El("QueryEngine","The SDK decides to create cache indexes for query:",zf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lf(t))):sc.resolve())}},{key:"ji",value:function(e,t){var n=this;if(Df(t))return sc.resolve(null);var r=Lf(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=jf(t,null,"F"),r=Lf(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=rh.apply(void 0,It(i));return n.zi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Zi(t,i);return n.Xi(t,o,a,r.readTime)?n.ji(e,jf(t,null,"F")):n.es(e,o,t,r)}))}))})))}))}},{key:"Hi",value:function(e,t,n,r){var i=this;return Df(t)||r.isEqual(Kl.min())?sc.resolve(null):this.zi.getDocuments(e,n).next((function(a){var o=i.Zi(t,a);return i.Xi(t,o,n,r)?sc.resolve(null):(wl()<=Wr.DEBUG&&El("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zf(t)),i.es(e,o,t,Zl(r,-1)).next((function(e){return e})))}))}},{key:"Zi",value:function(e,t){var n=new wc(Wf(e));return t.forEach((function(t,r){Bf(e,r)&&(n=n.add(r))})),n}},{key:"Xi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ji",value:function(e,t,n){return wl()<=Wr.DEBUG&&El("QueryEngine","Using full collection scan to execute query:",zf(t)),this.zi.getDocumentsMatchingQuery(e,t,tc.min(),n)}},{key:"es",value:function(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),cp=function(){function e(t,n,r,i){Nt(this,e),this.persistence=t,this.ts=n,this.serializer=i,this.ns=new kc(ql),this.rs=new Kf((function(e){return Sf(e)}),Tf),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}return Pt(e,[{key:"_s",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $d(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ns)}))}}]),e}();function fp(e,t,n,r){return new cp(e,t,n,r)}function hp(e,t){return dp.apply(this,arguments)}function dp(){return dp=Jn(Yn().mark((function e(t,n){var r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nl(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r._s(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=rh(),u=tr(t);try{for(u.s();!(i=u.n()).done;){var l=i.value;a.push(l.batchId);var c,f=tr(l.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=tr(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=tr(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;s=s.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{us:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),dp.apply(this,arguments)}function pp(e,t){var n=Nl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=sc.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Il(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=rh(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function vp(e){var t=Nl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Qr.getLastRemoteSnapshotVersion(e)}))}function yp(e,t){var n=Nl(e),r=t.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Qr.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Qr.addMatchingKeys(e,a.addedDocuments,s)})));var l=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?l=l.withResumeToken(Sc.EMPTY_BYTE_STRING,Kl.min()).withLastLimboFreeSnapshotVersion(Kl.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(s,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,a)&&o.push(n.Qr.updateTargetData(e,l))}}));var s=Gf(),u=rh();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(mp(e,a,t.documentUpdates).next((function(e){s=e.cs,u=e.ls}))),!r.isEqual(Kl.min())){var l=n.Qr.getLastRemoteSnapshotVersion(e).next((function(t){return n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(l)}return sc.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.ns=i,e}))}function mp(e,t,n){var r=rh(),i=rh();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Gf();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Kl.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):El("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{cs:r,ls:i}}))}function gp(e,t){var n=Nl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function kp(e,t){var n=Nl(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Qr.getTargetData(e,t).next((function(i){return i?(r=i,sc.resolve(r)):n.Qr.allocateTargetId(e).next((function(i){return r=new Ud(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}function _p(e,t,n){return bp.apply(this,arguments)}function bp(){return bp=Jn(Yn().mark((function e(t,n,r){var i,a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Nl(t),a=i.ns.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),uc(e.t1)){e.next=12;break}throw e.t1;case 12:El("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ns=i.ns.remove(n),i.rs.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),bp.apply(this,arguments)}function wp(e,t,n){var r=Nl(e),i=Kl.min(),a=rh();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=Nl(e),i=r.rs.get(n);return void 0!==i?sc.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Lf(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ts.getDocumentsMatchingQuery(e,t,n?i:Kl.min(),n?a:rh())})).next((function(e){return Ep(r,qf(t),e),{documents:e,hs:a}}))}))}function Ep(e,t,n){var r=e.ss.get(t)||Kl.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}var Cp=function(){function e(){Nt(this,e),this.activeTargetIds=ah()}return Pt(e,[{key:"As",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Rs",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ds",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),xp=function(){function e(){Nt(this,e),this.no=new Cp,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Pt(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.no.As(e),this.ro[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.ro[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.no.Rs(e)}},{key:"isLocalQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.ro[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.no.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"start",value:function(){return this.no=new Cp,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Sp=function(){function e(){Nt(this,e)}return Pt(e,[{key:"io",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Tp=function(){function e(){var t=this;Nt(this,e),this.so=function(){return t.oo()},this._o=function(){return t.ao()},this.uo=[],this.co()}return Pt(e,[{key:"io",value:function(e){this.uo.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}},{key:"co",value:function(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}},{key:"oo",value:function(){El("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=tr(this.uo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"ao",value:function(){El("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=tr(this.uo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Ip=null;function Np(){return null===Ip?Ip=268435456+Math.round(2147483648*Math.random()):Ip++,"0x"+Ip.toString(16)}var Rp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Pp=function(){function e(t){Nt(this,e),this.lo=t.lo,this.ho=t.ho}return Pt(e,[{key:"Po",value:function(e){this.Io=e}},{key:"To",value:function(e){this.Eo=e}},{key:"onMessage",value:function(e){this.Ao=e}},{key:"close",value:function(){this.ho()}},{key:"send",value:function(e){this.lo(e)}},{key:"Ro",value:function(){this.Io()}},{key:"Vo",value:function(e){this.Eo(e)}},{key:"mo",value:function(e){this.Ao(e)}}]),e}(),Dp="WebChannelConnection",Ap=function(e){Sn(n,e);var t=Nn(n);function n(e){var r;return Nt(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return Pt(n,[{key:"Co",value:function(e,t,n,r){var i=Np();return new Promise((function(a,o){var s=new vl;s.setWithCredentials(!0),s.listenOnce(fl.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case cl.NO_ERROR:var t=s.getResponseJson();El(Dp,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case cl.TIMEOUT:El(Dp,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Pl(Rl.DEADLINE_EXCEEDED,"Request time out"));break;case cl.HTTP_ERROR:var n=s.getStatus();if(El(Dp,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var l=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Rl).indexOf(t)>=0?t:Rl.UNKNOWN}(u.status);o(new Pl(l,u.message))}else o(new Pl(Rl.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Pl(Rl.UNAVAILABLE,"Connection failed."));break;default:Tl()}}finally{El(Dp,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);El(Dp,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Fo",value:function(e,t,n){var r=Np(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=ul(),o=ll(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Do(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var l=i.join("");El(Dp,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),s);var c=a.createWebChannel(l,s),f=!1,h=!1,d=new Pp({lo:function(t){h?El(Dp,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(El(Dp,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),f=!0),El(Dp,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},ho:function(){return c.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(c,pl.EventType.OPEN,(function(){h||El(Dp,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(c,pl.EventType.CLOSE,(function(){h||(h=!0,El(Dp,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Vo())})),p(c,pl.EventType.ERROR,(function(t){h||(h=!0,xl(Dp,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Vo(new Pl(Rl.UNAVAILABLE,"The operation could not be completed")))})),p(c,pl.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];Il(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){El(Dp,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=Mh[e];if(void 0!==t)return Hh(t)}(s),l=o.message;void 0===u&&(u=Rl.INTERNAL,l="Unknown error status: "+s+" with message "+o.message),h=!0,d.Vo(new Pl(u,l)),c.close()}else El(Dp,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.mo(i)}})),p(o,hl.STAT_EVENT,(function(t){t.stat===dl.PROXY?El(Dp,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===dl.NOPROXY&&El(Dp,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Ro()}),0),d}}]),n}(function(){function e(t){Nt(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=n+"://"+t.host,this.po="projects/".concat(r,"/databases/").concat(i),this.yo="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return Pt(e,[{key:"wo",get:function(){return!1}},{key:"So",value:function(e,t,n,r,i){var a=Np(),o=this.bo(e,t);El("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(s,r,i),this.Co(e,o,s,n).then((function(t){return El("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw xl("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.So(e,t,n,r,i)}},{key:"Do",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+_l,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"bo",value:function(e,t){var n=Rp[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}}]),e}());function Op(){return"undefined"!=typeof document?document:null}function Lp(e){return new fd(e,!0)}var Mp=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Nt(this,e),this.oi=t,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=a,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}return Pt(e,[{key:"reset",value:function(){this.No=0}},{key:"ko",value:function(){this.No=this.Oo}},{key:"qo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&El("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,(function(){return t.Lo=Date.now(),e()})),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}},{key:"Ko",value:function(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}},{key:"cancel",value:function(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Qo",value:function(){return(Math.random()-.5)*this.No}}]),e}(),Fp=function(){function e(t,n,r,i,a,o,s,u){Nt(this,e),this.oi=t,this.$o=r,this.Uo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Mp(t,n)}return Pt(e,[{key:"Ho",value:function(){return 1===this.state||5===this.state||this.Jo()}},{key:"Jo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Yo()}},{key:"stop",value:function(){var e=Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Ho(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zo",value:function(){this.state=0,this.jo.reset()}},{key:"Xo",value:function(){var e=this;this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(function(){return e.e_()})))}},{key:"t_",value:function(e){this.n_(),this.stream.send(e)}},{key:"e_",value:function(){var e=Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Jo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"n_",value:function(){this.Go&&(this.Go.cancel(),this.Go=null)}},{key:"r_",value:function(){this.zo&&(this.zo.cancel(),this.zo=null)}},{key:"close",value:function(){var e=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==t?this.jo.reset():n&&n.code===Rl.RESOURCE_EXHAUSTED?(Cl(n.toString()),Cl("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===Rl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.To(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"i_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=A(t,2),i=r[0],a=r[1];e.Wo===n&&e.o_(i,a)}),(function(n){t((function(){var t=new Pl(Rl.UNKNOWN,"Fetching auth token failed: "+n.message);return e.__(t)}))}))}},{key:"o_",value:function(e,t){var n=this,r=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((function(){r((function(){return n.state=2,n.zo=n.oi.enqueueAfterDelay(n.Uo,1e4,(function(){return n.Jo()&&(n.state=3),Promise.resolve()})),n.listener.Po()}))})),this.stream.To((function(e){r((function(){return n.__(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Yo",value:function(){var e=this;this.state=5,this.jo.qo(Jn(Yn().mark((function t(){return Yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"__",value:function(e){return El("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"s_",value:function(e){var t=this;return function(n){t.oi.enqueueAndForget((function(){return t.Wo===e?n():(El("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),jp=function(e){Sn(n,e);var t=Nn(n);function n(e,r,i,a,o,s){var u;return Nt(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return Pt(n,[{key:"a_",value:function(e,t){return this.connection.Fo("Listen",e,t)}},{key:"onMessage",value:function(e){this.jo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Tl()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Il(void 0===t||"string"==typeof t),Sc.fromBase64String(t||"")):(Il(void 0===t||t instanceof Uint8Array),Sc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Rl.UNKNOWN:Hh(e.code);return new Pl(t,e.message||"")}(o);n=new rd(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var l=_d(e,u.document.name),c=yd(u.document.updateTime),f=u.document.createTime?yd(u.document.createTime):Kl.min(),h=new Jc({mapValue:{fields:u.document.fields}}),d=ef.newFoundDocument(l,c,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new td(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var y=t.documentDelete;y.document;var m=_d(e,y.document),g=y.readTime?yd(y.readTime):Kl.min(),k=ef.newNoDocument(m,g),_=y.removedTargetIds||[];n=new td([],_,k.key,k)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=_d(e,b.document),E=b.removedTargetIds||[];n=new td([],E,w,null)}else{if(!("filter"in t))return Tl();t.filter;var C=t.filter;C.targetId;var x=C.count,S=void 0===x?0:x,T=C.unchangedNames,I=new qh(S,T),N=C.targetId;n=new nd(N,I)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Kl.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Kl.min():t.readTime?yd(t.readTime):Kl.min()}(e);return this.listener.u_(t,n)}},{key:"c_",value:function(e){var t={};t.database=Ed(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=If(r)?{documents:Td(e,r)}:{query:Id(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=pd(e,t.resumeToken);var i=hd(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Kl.min())>0){n.readTime=dd(e,t.snapshotVersion.toTimestamp());var a=hd(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tl()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}},{key:"l_",value:function(e){var t={};t.database=Ed(this.serializer),t.removeTarget=e,this.t_(t)}}]),n}(Fp),Up=function(e){Sn(n,e);var t=Nn(n);function n(e,r,i,a,o,s){var u;return Nt(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.h_=!1,u}return Pt(n,[{key:"P_",get:function(){return this.h_}},{key:"start",value:function(){this.h_=!1,this.lastStreamToken=void 0,xn(Cn(n.prototype),"start",this).call(this)}},{key:"i_",value:function(){this.h_&&this.I_([])}},{key:"a_",value:function(e,t){return this.connection.Fo("Write",e,t)}},{key:"onMessage",value:function(e){if(Il(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();var t=function(e,t){return e&&e.length>0?(Il(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?yd(e.updateTime):yd(t);return n.isEqual(Kl.min())&&(n=yd(t)),new wh(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=yd(e.commitTime);return this.listener.T_(n,t)}return Il(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}},{key:"d_",value:function(){var e={};e.database=Ed(this.serializer),this.t_(e)}},{key:"I_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Sd(t.serializer,e)}))};this.t_(n)}}]),n}(Fp),Vp=function(e){Sn(n,e);var t=Nn(n);function n(e,r,i,a){var o;return Nt(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.A_=!1,o}return Pt(n,[{key:"R_",value:function(){if(this.A_)throw new Pl(Rl.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"So",value:function(e,t,n){var r=this;return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=A(i,2),o=a[0],s=a[1];return r.connection.So(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Rl.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Pl(Rl.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=A(a,2),s=o[0],u=o[1];return i.connection.vo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Rl.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Pl(Rl.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.A_=!0}}]),n}(Pt((function e(){Nt(this,e)})));var zp=function(){function e(t,n){Nt(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}return Pt(e,[{key:"p_",value:function(){var e=this;0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.f_=null,e.w_("Backend didn't respond within 10 seconds."),e.y_("Offline"),Promise.resolve()})))}},{key:"S_",value:function(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}},{key:"set",value:function(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}},{key:"y_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"w_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(Cl(t),this.g_=!1):El("OnlineStateTracker",t)}},{key:"b_",value:function(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}]),e}(),Bp=Pt((function e(t,n,r,i,a){var o=this;Nt(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=a,this.M_.io((function(e){r.enqueueAndForget(Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Zp(o),!e.t0){e.next=5;break}return El("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Jn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Nl(t)).v_.add(4),e.next=4,Hp(n);case 4:return n.x_.set("Unknown"),n.v_.delete(4),e.next=8,qp(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.x_=new zp(r,i)}));function qp(e){return Wp.apply(this,arguments)}function Wp(){return(Wp=Jn(Yn().mark((function e(t){var n,r,i;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Zp(t)){e.next=18;break}n=tr(t.F_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function Hp(e){return Kp.apply(this,arguments)}function Kp(){return(Kp=Jn(Yn().mark((function e(t){var n,r,i;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=tr(t.F_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function Qp(e,t){var n=Nl(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Jp(n)?Xp(n):Iv(n).Jo()&&$p(n,t))}function Gp(e,t){var n=Nl(e),r=Iv(n);n.C_.delete(t),r.Jo()&&Yp(n,t),0===n.C_.size&&(r.Jo()?r.Xo():Zp(n)&&n.x_.set("Unknown"))}function $p(e,t){if(e.O_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Kl.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Iv(e).c_(t)}function Yp(e,t){e.O_.Ne(t),Iv(e).l_(t)}function Xp(e){e.O_=new ad({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ut:function(t){return e.C_.get(t)||null},rt:function(){return e.datastore.serializer.databaseId}}),Iv(e).start(),e.x_.p_()}function Jp(e){return Zp(e)&&!Iv(e).Ho()&&e.C_.size>0}function Zp(e){return 0===Nl(e).v_.size}function ev(e){e.O_=void 0}function tv(e){return nv.apply(this,arguments)}function nv(){return(nv=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.C_.forEach((function(e,n){$p(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rv(e,t){return iv.apply(this,arguments)}function iv(){return(iv=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ev(t),Jp(t)?(t.x_.S_(n),Xp(t)):t.x_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function av(e,t,n){return ov.apply(this,arguments)}function ov(){return ov=Jn(Yn().mark((function e(t,n,r){var i;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.x_.set("Online"),!(n instanceof rd&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Jn(Yn().mark((function e(t,n){var r,i,a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=tr(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.C_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.C_.delete(o),t.O_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),El("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,sv(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof td?t.O_.Ue(n):n instanceof nd?t.O_.Ye(n):t.O_.ze(n),r.isEqual(Kl.min())){e.next=29;break}return e.prev=14,e.next=17,vp(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.O_.st(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.C_.get(t);if(r){e.C_.set(t,r.withResumeToken(Sc.EMPTY_BYTE_STRING,r.snapshotVersion)),Yp(e,t);var i=new Ud(r.target,t,n,r.sequenceNumber);$p(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),El("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,sv(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),ov.apply(this,arguments)}function sv(e,t,n){return uv.apply(this,arguments)}function uv(){return(uv=Jn(Yn().mark((function e(t,n,r){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(uc(n)){e.next=2;break}throw n;case 2:return t.v_.add(1),e.next=5,Hp(t);case 5:t.x_.set("Offline"),r||(r=function(){return vp(t.localStore)}),t.asyncQueue.enqueueRetryable(Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return El("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.v_.delete(1),e.next=6,qp(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lv(e,t){return t().catch((function(n){return sv(e,n,t)}))}function cv(e){return fv.apply(this,arguments)}function fv(){return fv=Jn(Yn().mark((function e(t){var n,r,i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Nl(t),r=Nv(n),i=n.D_.length>0?n.D_[n.D_.length-1].batchId:-1;case 2:if(!hv(n)){e.next=19;break}return e.prev=3,e.next=6,gp(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.D_.length&&r.Xo(),e.abrupt("break",19);case 10:i=a.batchId,dv(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,sv(n,e.t0);case 17:e.next=2;break;case 19:pv(n)&&vv(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),fv.apply(this,arguments)}function hv(e){return Zp(e)&&e.D_.length<10}function dv(e,t){e.D_.push(t);var n=Nv(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function pv(e){return Zp(e)&&!Nv(e).Ho()&&e.D_.length>0}function vv(e){Nv(e).start()}function yv(e){return mv.apply(this,arguments)}function mv(){return(mv=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Nv(t).d_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gv(e){return kv.apply(this,arguments)}function kv(){return(kv=Jn(Yn().mark((function e(t){var n,r,i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Nv(t),r=tr(t.D_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.I_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _v(e,t,n){return bv.apply(this,arguments)}function bv(){return bv=Jn(Yn().mark((function e(t,n,r){var i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.D_.shift(),a=zh.from(i,n,r),e.next=3,lv(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,cv(t);case 5:case"end":return e.stop()}}),e)}))),bv.apply(this,arguments)}function wv(e,t){return Ev.apply(this,arguments)}function Ev(){return Ev=Jn(Yn().mark((function e(t,n){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Nv(t).P_,!e.t0){e.next=4;break}return e.next=4,function(){var e=Jn(Yn().mark((function e(t,n){var r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return Wh(e)&&e!==Rl.ABORTED}(n.code)){e.next=7;break}return r=t.D_.shift(),Nv(t).Zo(),e.next=5,lv(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,cv(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:pv(t)&&vv(t);case 5:case"end":return e.stop()}}),e)}))),Ev.apply(this,arguments)}function Cv(e,t){return xv.apply(this,arguments)}function xv(){return xv=Jn(Yn().mark((function e(t,n){var r,i;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Nl(t)).asyncQueue.verifyOperationInProgress(),El("RemoteStore","RemoteStore received new credentials"),i=Zp(r),r.v_.add(3),e.next=6,Hp(r);case 6:return i&&r.x_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.v_.delete(3),e.next=12,qp(r);case 12:case"end":return e.stop()}}),e)}))),xv.apply(this,arguments)}function Sv(e,t){return Tv.apply(this,arguments)}function Tv(){return(Tv=Jn(Yn().mark((function e(t,n){var r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Nl(t),!n){e.next=7;break}return r.v_.delete(2),e.next=5,qp(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.v_.add(2),e.next=12,Hp(r);case 12:r.x_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Iv(e){return e.N_||(e.N_=function(e,t,n){var r=Nl(e);return r.R_(),new jp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:tv.bind(null,e),To:rv.bind(null,e),u_:av.bind(null,e)}),e.F_.push(function(){var t=Jn(Yn().mark((function t(n){return Yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.N_.Zo(),Jp(e)?Xp(e):e.x_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.N_.stop();case 6:ev(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.N_}function Nv(e){return e.B_||(e.B_=function(e,t,n){var r=Nl(e);return r.R_(),new Up(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:yv.bind(null,e),To:wv.bind(null,e),E_:gv.bind(null,e),T_:_v.bind(null,e)}),e.F_.push(function(){var t=Jn(Yn().mark((function t(n){return Yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.B_.Zo(),t.next=4,cv(e);case 4:t.next=9;break;case 6:return t.next=8,e.B_.stop();case 8:e.D_.length>0&&(El("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.B_}var Rv=function(){function e(t,n,r,i,a){Nt(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Dl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Pt(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pl(Rl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Pv(e,t){if(Cl("AsyncQueue","".concat(t,": ").concat(e)),uc(e))return new Pl(Rl.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Dv=function(){function e(t){Nt(this,e),this.comparator=t?function(e,n){return t(e,n)||Xl.comparator(e.key,n.key)}:function(e,t){return Xl.comparator(e.key,t.key)},this.keyedMap=Yf(),this.sortedSet=new kc(this.comparator)}return Pt(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Av=function(){function e(){Nt(this,e),this.L_=new kc(Xl.comparator)}return Pt(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):Tl():this.L_=this.L_.insert(t,e)}},{key:"k_",value:function(){var e=[];return this.L_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Ov=function(){function e(t,n,r,i,a,o,s,u,l){Nt(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=l}return Pt(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Dv.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Lv=Pt((function e(){Nt(this,e),this.q_=void 0,this.listeners=[]})),Mv=Pt((function e(){Nt(this,e),this.queries=new Kf((function(e){return Vf(e)}),Uf),this.onlineState="Unknown",this.Q_=new Set}));function Fv(e,t){return jv.apply(this,arguments)}function jv(){return jv=Jn(Yn().mark((function e(t,n){var r,i,a,o,s;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Nl(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Lv),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.q_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Pv(e.t0,"Initialization of query '".concat(zf(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.K_(r.onlineState),o.q_&&n.U_(o.q_)&&qv(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),jv.apply(this,arguments)}function Uv(e,t){return Vv.apply(this,arguments)}function Vv(){return Vv=Jn(Yn().mark((function e(t,n){var r,i,a,o,s;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Nl(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Vv.apply(this,arguments)}function zv(e,t){var n,r=Nl(e),i=!1,a=tr(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var l,c=tr(u.listeners);try{for(c.s();!(l=c.n()).done;){l.value.U_(o)&&(i=!0)}}catch(f){c.e(f)}finally{c.f()}u.q_=o}}}catch(f){a.e(f)}finally{a.f()}i&&qv(r)}function Bv(e,t,n){var r=Nl(e),i=r.queries.get(t);if(i){var a,o=tr(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function qv(e){e.Q_.forEach((function(e){e.next()}))}var Wv=function(){function e(t,n,r){Nt(this,e),this.query=t,this.W_=n,this.G_=!1,this.z_=null,this.onlineState="Unknown",this.options=r||{}}return Pt(e,[{key:"U_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=tr(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Ov(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.G_?this.j_(e)&&(this.W_.next(e),a=!0):this.H_(e,this.onlineState)&&(this.J_(e),a=!0),this.z_=e,a}},{key:"onError",value:function(e){this.W_.error(e)}},{key:"K_",value:function(e){this.onlineState=e;var t=!1;return this.z_&&!this.G_&&this.H_(this.z_,e)&&(this.J_(this.z_),t=!0),t}},{key:"H_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Y_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"j_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.z_&&this.z_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"J_",value:function(e){e=Ov.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.G_=!0,this.W_.next(e)}}]),e}();var Hv=Pt((function e(t){Nt(this,e),this.key=t})),Kv=Pt((function e(t){Nt(this,e),this.key=t})),Qv=function(){function e(t,n){Nt(this,e),this.query=t,this.sa=n,this.oa=null,this.hasCachedResults=!1,this.current=!1,this._a=rh(),this.mutatedKeys=rh(),this.aa=Wf(t),this.ua=new Dv(this.aa)}return Pt(e,[{key:"ca",get:function(){return this.sa}},{key:"la",value:function(e,t){var n=this,r=t?t.ha:new Av,i=t?t.ua:this.ua,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=Bf(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Pa(c,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.aa(f,u)>0||l&&n.aa(f,l)<0)&&(s=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{ua:o,ha:r,Xi:s,mutatedKeys:a}}},{key:"Pa",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ua;this.ua=e.ua,this.mutatedKeys=e.mutatedKeys;var a=e.ha.k_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tl()}};return n(e)-n(t)}(e.type,t.type)||r.aa(e.doc,t.doc)})),this.Ia(n);var o=t?this.Ta():[],s=0===this._a.size&&this.current?1:0,u=s!==this.oa;return this.oa=s,0!==a.length||u?{snapshot:new Ov(this.query,e.ua,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}},{key:"K_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ua:this.ua,ha:new Av,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Ea:[]}}},{key:"da",value:function(e){return!this.sa.has(e)&&!!this.ua.has(e)&&!this.ua.get(e).hasLocalMutations}},{key:"Ia",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.sa=t.sa.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.sa=t.sa.delete(e)})),this.current=e.current)}},{key:"Ta",value:function(){var e=this;if(!this.current)return[];var t=this._a;this._a=rh(),this.ua.forEach((function(t){e.da(t.key)&&(e._a=e._a.add(t.key))}));var n=[];return t.forEach((function(t){e._a.has(t)||n.push(new Kv(t))})),this._a.forEach((function(e){t.has(e)||n.push(new Hv(e))})),n}},{key:"Aa",value:function(e){this.sa=e.hs,this._a=rh();var t=this.la(e.documents);return this.applyChanges(t,!0)}},{key:"Ra",value:function(){return Ov.fromInitialDocuments(this.query,this.ua,this.mutatedKeys,0===this.oa,this.hasCachedResults)}}]),e}(),Gv=Pt((function e(t,n,r){Nt(this,e),this.query=t,this.targetId=n,this.view=r})),$v=Pt((function e(t){Nt(this,e),this.key=t,this.Va=!1})),Yv=function(){function e(t,n,r,i,a,o){Nt(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.ma={},this.fa=new Kf((function(e){return Vf(e)}),Uf),this.ga=new Map,this.pa=new Set,this.ya=new kc(Xl.comparator),this.wa=new Map,this.Sa=new Jd,this.ba={},this.Da=new Map,this.Ca=Kd.Bn(),this.onlineState="Unknown",this.va=void 0}return Pt(e,[{key:"isPrimaryClient",get:function(){return!0===this.va}}]),e}();function Xv(e,t){return Jv.apply(this,arguments)}function Jv(){return Jv=Jn(Yn().mark((function e(t,n){var r,i,a,o,s,u;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Sy(t),!(o=r.fa.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Ra(),e.next=15;break;case 6:return e.next=8,kp(r.localStore,Lf(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,Zv(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&Qp(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Jv.apply(this,arguments)}function Zv(e,t,n,r,i){return ey.apply(this,arguments)}function ey(){return ey=Jn(Yn().mark((function e(t,n,r,i,a){var o,s,u,l,c,f;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Fa=function(e,n,r){return function(){var e=Jn(Yn().mark((function e(t,n,r,i){var a,o,s;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.la(r),e.t0=a.Xi,!e.t0){e.next=6;break}return e.next=5,wp(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.la(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(gy(t,n.targetId,s.Ea),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,wp(t.localStore,n,!0);case 3:return o=e.sent,s=new Qv(n,o.hs),u=s.la(o.documents),l=ed.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),c=s.applyChanges(u,t.isPrimaryClient,l),gy(t,r,c.Ea),f=new Gv(n,r,s),e.abrupt("return",(t.fa.set(n,f),t.ga.has(r)?t.ga.get(r).push(n):t.ga.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),ey.apply(this,arguments)}function ty(e,t){return ny.apply(this,arguments)}function ny(){return ny=Jn(Yn().mark((function e(t,n){var r,i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Nl(t),i=r.fa.get(n),!((a=r.ga.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ga.set(i.targetId,a.filter((function(e){return!Uf(e,n)}))),void r.fa.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,_p(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Gp(r.remoteStore,i.targetId),yy(r,i.targetId)})).catch(ac);case 9:e.next=14;break;case 11:return yy(r,i.targetId),e.next=14,_p(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),ny.apply(this,arguments)}function ry(e,t,n){return iy.apply(this,arguments)}function iy(){return iy=Jn(Yn().mark((function e(t,n,r){var i,a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ty(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Nl(e),a=Hl.now(),o=t.reduce((function(e,t){return e.add(t.key)}),rh());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Gf(),u=rh();return i.os.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=tr(t);try{for(u.s();!(o=u.n()).done;){var l=o.value,c=Nh(l,n.get(l.key).overlayedDocument);null!=c&&s.push(new Dh(l.key,c,Zc(c.value.mapValue),Eh.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Xf(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ba[e.currentUser.toKey()];r||(r=new kc(ql)),r=r.insert(t,n),e.ba[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,by(i,a.changes);case 9:return e.next=11,cv(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Pv(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),iy.apply(this,arguments)}function ay(e,t){return oy.apply(this,arguments)}function oy(){return oy=Jn(Yn().mark((function e(t,n){var r,i;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nl(t),e.prev=1,e.next=4,yp(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.wa.get(t);n&&(Il(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Va=!0:e.modifiedDocuments.size>0?Il(n.Va):e.removedDocuments.size>0&&(Il(n.Va),n.Va=!1))})),e.next=8,by(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,ac(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),oy.apply(this,arguments)}function sy(e,t,n){var r=Nl(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.fa.forEach((function(e,n){var r=n.view.K_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Nl(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=tr(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.K_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&qv(n)}(r.eventManager,t),i.length&&r.ma.u_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function uy(e,t,n){return ly.apply(this,arguments)}function ly(){return ly=Jn(Yn().mark((function e(t,n,r){var i,a,o,s,u,l;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Nl(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.wa.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new kc(Xl.comparator)).insert(o,ef.newNoDocument(o,Kl.min())),u=rh().add(o),l=new Zh(Kl.min(),new Map,new kc(ql),s,u),e.next=9,ay(i,l);case 9:i.ya=i.ya.remove(o),i.wa.delete(n),_y(i),e.next=16;break;case 14:return e.next=16,_p(i.localStore,n,!1).then((function(){return yy(i,n,r)})).catch(ac);case 16:case"end":return e.stop()}}),e)}))),ly.apply(this,arguments)}function cy(e,t){return fy.apply(this,arguments)}function fy(){return fy=Jn(Yn().mark((function e(t,n){var r,i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nl(t),i=n.batch.batchId,e.prev=1,e.next=4,pp(r.localStore,n);case 4:return a=e.sent,vy(r,i,null),py(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,by(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ac(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),fy.apply(this,arguments)}function hy(e,t,n){return dy.apply(this,arguments)}function dy(){return dy=Jn(Yn().mark((function e(t,n,r){var i,a;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nl(t),e.prev=1,e.next=4,function(e,t){var n=Nl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Il(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,vy(i,n,r),py(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,by(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ac(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),dy.apply(this,arguments)}function py(e,t){(e.Da.get(t)||[]).forEach((function(e){e.resolve()})),e.Da.delete(t)}function vy(e,t,n){var r=Nl(e),i=r.ba[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ba[r.currentUser.toKey()]=i}}function yy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=tr(e.ga.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.fa.delete(a),n&&e.ma.Ma(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ga.delete(t),e.isPrimaryClient&&e.Sa.Vr(t).forEach((function(t){e.Sa.containsKey(t)||my(e,t)}))}function my(e,t){e.pa.delete(t.path.canonicalString());var n=e.ya.get(t);null!==n&&(Gp(e.remoteStore,n),e.ya=e.ya.remove(t),e.wa.delete(n),_y(e))}function gy(e,t,n){var r,i=tr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Hv?(e.Sa.addReference(a.key,t),ky(e,a)):a instanceof Kv?(El("SyncEngine","Document no longer in limbo: "+a.key),e.Sa.removeReference(a.key,t),e.Sa.containsKey(a.key)||my(e,a.key)):Tl()}}catch(o){i.e(o)}finally{i.f()}}function ky(e,t){var n=t.key,r=n.path.canonicalString();e.ya.get(n)||e.pa.has(r)||(El("SyncEngine","New document in limbo: "+n),e.pa.add(r),_y(e))}function _y(e){for(;e.pa.size>0&&e.ya.size<e.maxConcurrentLimboResolutions;){var t=e.pa.values().next().value;e.pa.delete(t);var n=new Xl(Gl.fromString(t)),r=e.Ca.next();e.wa.set(r,new $v(n)),e.ya=e.ya.insert(n,r),Qp(e.remoteStore,new Ud(Lf(Pf(n.path)),r,"TargetPurposeLimboResolution",lc.ae))}}function by(e,t,n){return wy.apply(this,arguments)}function wy(){return wy=Jn(Yn().mark((function e(t,n,r){var i,a,o,s;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Nl(t),a=[],o=[],s=[],e.t0=i.fa.isEmpty(),e.t0){e.next=9;break}return i.fa.forEach((function(e,t){s.push(i.Fa(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=sp.Ki(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.ma.u_(a),e.next=9,function(){var e=Jn(Yn().mark((function e(t,n){var r,i,a,o,s,u,l,c;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nl(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return sc.forEach(n,(function(t){return sc.forEach(t.qi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return sc.forEach(t.Qi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),uc(e.t0)){e.next=10;break}throw e.t0;case 10:El("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=tr(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.ns.get(s),l=u.snapshotVersion,c=u.withLastLimboFreeSnapshotVersion(l),r.ns=r.ns.insert(s,c))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),wy.apply(this,arguments)}function Ey(e,t){return Cy.apply(this,arguments)}function Cy(){return(Cy=Jn(Yn().mark((function e(t,n){var r,i;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Nl(t)).currentUser.isEqual(n)){e.next=11;break}return El("SyncEngine","User change. New user:",n.toKey()),e.next=5,hp(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Da.forEach((function(e){e.forEach((function(e){e.reject(new Pl(Rl.CANCELLED,t))}))})),e.Da.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,by(r,i.us);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xy(e,t){var n=Nl(e),r=n.wa.get(t);if(r&&r.Va)return rh().add(r.key);var i=rh(),a=n.ga.get(t);if(!a)return i;var o,s=tr(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=n.fa.get(u);i=i.unionWith(l.view.ca)}}catch(c){s.e(c)}finally{s.f()}return i}function Sy(e){var t=Nl(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ay.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xy.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=uy.bind(null,t),t.ma.u_=zv.bind(null,t.eventManager),t.ma.Ma=Bv.bind(null,t.eventManager),t}function Ty(e){var t=Nl(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hy.bind(null,t),t}var Iy=function(){function e(){Nt(this,e),this.synchronizeTabs=!1}return Pt(e,[{key:"initialize",value:function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Lp(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return fp(this.persistence,new lp,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new ip(op.Hr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new xp}},{key:"terminate",value:function(){var e=Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ny=function(){function e(){Nt(this,e)}return Pt(e,[{key:"initialize",value:function(){var e=Jn(Yn().mark((function e(t,n){var r=this;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return sy(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ey.bind(null,this.syncEngine),e.next=12,Sv(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Mv}},{key:"createDatastore",value:function(e){var t=Lp(e.databaseInfo.databaseId),n=function(e){return new Ap(e)}(e.databaseInfo);return function(e,t,n,r){return new Vp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new Bp(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return sy(t.syncEngine,e,0)}),Tp.C()?new Tp:new Sp)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Yv(e,t,n,r,i,a);return o&&(s.va=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Jn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Nl(t),El("RemoteStore","RemoteStore shutting down."),n.v_.add(5),e.next=5,Hp(n);case 5:n.M_.shutdown(),n.x_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Ry=function(){function e(t){Nt(this,e),this.observer=t,this.muted=!1}return Pt(e,[{key:"next",value:function(e){this.observer.next&&this.Na(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Na(this.observer.error,e):Cl("Uncaught Error in snapshot listener:",e.toString())}},{key:"Ba",value:function(){this.muted=!0}},{key:"Na",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Py=function(){function e(t,n,r,i){var a=this;Nt(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kl.UNAUTHENTICATED,this.clientId=Bl.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return El("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return El("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Pt(e,[{key:"getConfiguration",value:function(){var e=Jn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Pl(Rl.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Dl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Jn(Yn().mark((function n(){var r;return Yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Pv(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Dy(e,t){return Ay.apply(this,arguments)}function Ay(){return Ay=Jn(Yn().mark((function e(t,n){var r,i;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),El("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,hp(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Ay.apply(this,arguments)}function Oy(e,t){return Ly.apply(this,arguments)}function Ly(){return Ly=Jn(Yn().mark((function e(t,n){var r,i;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Fy(t);case 3:return r=e.sent,El("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Cv(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Cv(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Ly.apply(this,arguments)}function My(e){return"FirebaseError"===e.name?e.code===Rl.FAILED_PRECONDITION||e.code===Rl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function Fy(e){return jy.apply(this,arguments)}function jy(){return(jy=Jn(Yn().mark((function e(t){var n;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return El("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,Dy(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),My(n=e.t0)){e.next=13;break}throw n;case 13:return xl("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,Dy(t,new Iy);case 16:e.next=21;break;case 18:return El("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,Dy(t,new Iy);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function Uy(e){return Vy.apply(this,arguments)}function Vy(){return(Vy=Jn(Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return El("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,Oy(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return El("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,Oy(t,new Ny);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zy(e){return Uy(e).then((function(e){return e.syncEngine}))}function By(e){return qy.apply(this,arguments)}function qy(){return(qy=Jn(Yn().mark((function e(t){var n,r;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uy(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Xv.bind(null,n.syncEngine),r.onUnlisten=ty.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Dl;return e.asyncQueue.enqueueAndForget(Jn(Yn().mark((function i(){return Yn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ry({next:function(a){t.enqueueAndForget((function(){return Uv(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Pl(Rl.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Pl(Rl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Wv(Pf(n.path),a,{includeMetadataChanges:!0,Y_:!0});return Fv(e,o)},i.next=3,By(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Hy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Dl;return e.asyncQueue.enqueueAndForget(Jn(Yn().mark((function i(){return Yn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ry({next:function(n){t.enqueueAndForget((function(){return Uv(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Pl(Rl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Wv(n,a,{includeMetadataChanges:!0,Y_:!0});return Fv(e,o)},i.next=3,By(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Ky(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var Qy=new Map;function Gy(e,t,n){if(!n)throw new Pl(Rl.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function $y(e){if(!Xl.isDocumentKey(e))throw new Pl(Rl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Yy(e){if(Xl.isDocumentKey(e))throw new Pl(Rl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Xy(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Tl()}function Jy(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Pl(Rl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Xy(e);throw new Pl(Rl.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var Zy=function(){function e(t){var n,r;if(Nt(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Pl(Rl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Pl(Rl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Pl(Rl.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ky(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Pl(Rl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Pl(Rl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Pl(Rl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return Pt(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),em=function(){function e(t,n,r,i){Nt(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zy({}),this._settingsFrozen=!1}return Pt(e,[{key:"app",get:function(){if(!this._app)throw new Pl(Rl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Pl(Rl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zy(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ol;switch(e.type){case"firstParty":return new jl(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Pl(Rl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Qy.get(e);t&&(El("ComponentProvider","Removing Datastore"),Qy.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function tm(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Jy(e,em))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=kl.MOCK_USER;else{s=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[fr(JSON.stringify({alg:"none",type:"JWT"})),fr(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new Pl(Rl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new kl(l)}e._authCredentials=new Ll(new Al(s,u))}}var nm=function(){function e(t,n,r){Nt(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Pt(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),rm=function(){function e(t,n,r){Nt(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Pt(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new im(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),im=function(e){Sn(n,e);var t=Nn(n);function n(e,r,i){var a;return Nt(this,n),(a=t.call(this,e,r,Pf(i)))._path=i,a.type="collection",a}return Pt(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new rm(this.firestore,null,new Xl(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(nm);function am(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ur(e),Gy("collection","path",t),e instanceof em){var a=Gl.fromString.apply(Gl,[t].concat(r));return Yy(a),new im(e,null,a)}if(!(e instanceof rm||e instanceof im))throw new Pl(Rl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Gl.fromString.apply(Gl,[t].concat(r)));return Yy(o),new im(e.firestore,null,o)}function om(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ur(e),1===arguments.length&&(t=Bl.V()),Gy("doc","path",t),e instanceof em){var a=Gl.fromString.apply(Gl,[t].concat(r));return $y(a),new rm(e,null,new Xl(a))}if(!(e instanceof rm||e instanceof im))throw new Pl(Rl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Gl.fromString.apply(Gl,[t].concat(r)));return $y(o),new rm(e.firestore,e instanceof im?e.converter:null,new Xl(o))}var sm=function(){function e(){var t=this;Nt(this,e),this.Ya=Promise.resolve(),this.Za=[],this.Xa=!1,this.eu=[],this.tu=null,this.nu=!1,this.ru=!1,this.iu=[],this.jo=new Mp(this,"async_queue_retry"),this.su=function(){var e=Op();e&&El("AsyncQueue","Visibility state changed to "+e.visibilityState),t.jo.Ko()};var n=Op();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.su)}return Pt(e,[{key:"isShuttingDown",get:function(){return this.Xa}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ou(),this._u(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Xa){this.Xa=!0,this.ru=e||!1;var t=Op();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.su)}}},{key:"enqueue",value:function(e){var t=this;if(this.ou(),this.Xa)return new Promise((function(){}));var n=new Dl;return this._u((function(){return t.Xa&&t.ru?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Za.push(e),t.au()}))}},{key:"au",value:function(){var e=Jn(Yn().mark((function e(){var t=this;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Za.length){e.next=14;break}return e.prev=1,e.next=4,this.Za[0]();case 4:this.Za.shift(),this.jo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),uc(e.t0)){e.next=12;break}throw e.t0;case 12:El("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Za.length>0&&this.jo.qo((function(){return t.au()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"_u",value:function(e){var t=this,n=this.Ya.then((function(){return t.nu=!0,e().catch((function(e){t.tu=e,t.nu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Cl("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.nu=!1,e}))}));return this.Ya=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ou(),this.iu.indexOf(e)>-1&&(t=0);var i=Rv.createAndSchedule(this,e,t,n,(function(e){return r.uu(e)}));return this.eu.push(i),i}},{key:"ou",value:function(){this.tu&&Tl()}},{key:"verifyOperationInProgress",value:function(){}},{key:"cu",value:function(){var e=Jn(Yn().mark((function e(){var t;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Ya,e.next=3,t;case 3:if(t!==this.Ya){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"lu",value:function(e){var t,n=tr(this.eu);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"hu",value:function(e){var t=this;return this.cu().then((function(){t.eu.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=tr(t.eu);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.cu()}))}},{key:"Pu",value:function(e){this.iu.push(e)}},{key:"uu",value:function(e){var t=this.eu.indexOf(e);this.eu.splice(t,1)}}]),e}();var um=function(e){Sn(n,e);var t=Nn(n);function n(e,r,i,a){var o;return Nt(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new sm,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Pt(n,[{key:"_terminate",value:function(){return this._firestoreClient||fm(this),this._firestoreClient.terminate()}}]),n}(em);function lm(e,t){var n="object"==typeof e?e:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bi,t=Ei.get(e);if(!t&&e===bi&&gr())return Di();if(!t)throw Ni.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||"(default)",i=Ti(n,"firestore").getImmediate({identifier:r});if(!i._initialized){var a=mr("firestore");a&&tm.apply(void 0,[i].concat(It(a)))}return i}function cm(e){return e._firestoreClient||fm(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function fm(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Oc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Ky(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Py(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var hm=function(){function e(t){Nt(this,e),this._byteString=t}return Pt(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Sc.fromBase64String(t))}catch(t){throw new Pl(Rl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Sc.fromUint8Array(t))}}]),e}(),dm=function(){function e(){Nt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Pl(Rl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yl(n)}return Pt(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var pm=Pt((function e(t){Nt(this,e),this._methodName=t})),vm=function(){function e(t,n){if(Nt(this,e),!isFinite(t)||t<-90||t>90)throw new Pl(Rl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Pl(Rl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Pt(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return ql(this._lat,e._lat)||ql(this._long,e._long)}}]),e}(),ym=/^__.*__$/,mm=function(){function e(t,n,r){Nt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Pt(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Dh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ph(e,this.data,t,this.fieldTransforms)}}]),e}(),gm=function(){function e(t,n,r){Nt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Pt(e,[{key:"toMutation",value:function(e,t){return new Dh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function km(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tl()}}var _m=function(){function e(t,n,r,i,a,o){Nt(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Iu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Pt(e,[{key:"path",get:function(){return this.settings.path}},{key:"Tu",get:function(){return this.settings.Tu}},{key:"Eu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"du",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Au:!1});return r.Ru(e),r}},{key:"Vu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Au:!1});return r.Iu(),r}},{key:"mu",value:function(e){return this.Eu({path:void 0,Au:!0})}},{key:"fu",value:function(e){return Mm(e,this.settings.methodName,this.settings.gu||!1,this.path,this.settings.pu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Iu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ru(this.path.get(e))}},{key:"Ru",value:function(e){if(0===e.length)throw this.fu("Document fields must not be empty");if(km(this.Tu)&&ym.test(e))throw this.fu('Document fields cannot begin and end with "__"')}}]),e}(),bm=function(){function e(t,n,r){Nt(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Lp(t)}return Pt(e,[{key:"yu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new _m({Tu:e,methodName:t,pu:n,path:Yl.emptyPath(),Au:!1,gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function wm(e){var t=e._freezeSettings(),n=Lp(e._databaseId);return new bm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Em(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.yu(a.merge||a.mergeFields?2:0,t,n,i);Dm("Data must be an object, but it was:",o,r);var s,u,l=Rm(r,o);if(a.merge)s=new Cc(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var c,f=[],h=tr(a.mergeFields);try{for(h.s();!(c=h.n()).done;){var d=Am(t,c.value,n);if(!o.contains(d))throw new Pl(Rl.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));Fm(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new Cc(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new mm(new Jc(l),s,u)}var Cm=function(e){Sn(n,e);var t=Nn(n);function n(){return Nt(this,n),t.apply(this,arguments)}return Pt(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Tu)throw 1===e.Tu?e.fu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.fu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(pm);var xm=function(e){Sn(n,e);var t=Nn(n);function n(){return Nt(this,n),t.apply(this,arguments)}return Pt(n,[{key:"_toFieldTransform",value:function(e){return new bh(e.path,new dh)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(pm);function Sm(e,t,n,r){var i=e.yu(1,t,n);Dm("Data must be an object, but it was:",i,r);var a=[],o=Jc.empty();mc(r,(function(e,r){var s=Lm(t,e,n);r=Ur(r);var u=i.Vu(s);if(r instanceof Cm)a.push(s);else{var l=Nm(r,u);null!=l&&(a.push(s),o.set(s,l))}}));var s=new Cc(a);return new gm(o,s,i.fieldTransforms)}function Tm(e,t,n,r,i,a){var o=e.yu(1,t,n),s=[Am(t,r,n)],u=[i];if(a.length%2!=0)throw new Pl(Rl.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var l=0;l<a.length;l+=2)s.push(Am(t,a[l])),u.push(a[l+1]);for(var c=[],f=Jc.empty(),h=s.length-1;h>=0;--h)if(!Fm(c,s[h])){var d=s[h],p=u[h];p=Ur(p);var v=o.Vu(d);if(p instanceof Cm)c.push(d);else{var y=Nm(p,v);null!=y&&(c.push(d),f.set(d,y))}}var m=new Cc(c);return new gm(f,m,o.fieldTransforms)}function Im(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Nm(n,e.yu(r?4:3,t))}function Nm(e,t){if(Pm(e=Ur(e)))return Dm("Unsupported field value:",t,e),Rm(e,t);if(e instanceof pm)return function(e,t){if(!km(t.Tu))throw t.fu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.fu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Au&&4!==t.Tu)throw t.fu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=tr(e);try{for(a.s();!(n=a.n()).done;){var o=Nm(n.value,t.mu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ur(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return uh(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Hl.fromDate(e);return{timestampValue:dd(t.serializer,n)}}if(e instanceof Hl){var r=new Hl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:dd(t.serializer,r)}}if(e instanceof vm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof hm)return{bytesValue:pd(t.serializer,e._byteString)};if(e instanceof rm){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.fu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:md(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.fu("Unsupported field value: ".concat(Xy(e)))}(e,t)}function Rm(e,t){var n={};return gc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mc(e,(function(e,r){var i=Nm(r,t.du(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Pm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Hl||e instanceof vm||e instanceof hm||e instanceof rm||e instanceof pm)}function Dm(e,t,n){if(!Pm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Xy(n);throw"an object"===r?t.fu(e+" a custom object"):t.fu(e+" "+r)}}function Am(e,t,n){if((t=Ur(t))instanceof dm)return t._internalPath;if("string"==typeof t)return Lm(e,t);throw Mm("Field path arguments must be of type string or ",e,!1,void 0,n)}var Om=new RegExp("[~\\*/\\[\\]]");function Lm(e,t,n){if(t.search(Om)>=0)throw Mm("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Zn(dm,It(t.split(".")))._internalPath}catch(la){throw Mm("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Mm(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Pl(Rl.INVALID_ARGUMENT,s+e+u)}function Fm(e,t){return e.some((function(e){return e.isEqual(t)}))}var jm=function(){function e(t,n,r,i,a){Nt(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Pt(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new rm(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Um(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Vm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Um=function(e){Sn(n,e);var t=Nn(n);function n(){return Nt(this,n),t.apply(this,arguments)}return Pt(n,[{key:"data",value:function(){return xn(Cn(n.prototype),"data",this).call(this)}}]),n}(jm);function Vm(e,t){return"string"==typeof t?Lm(e,t):t instanceof dm?t._internalPath:t._delegate._internalPath}function zm(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Pl(Rl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Bm=Pt((function e(){Nt(this,e)})),qm=function(e){Sn(n,e);var t=Nn(n);function n(){return Nt(this,n),t.apply(this,arguments)}return Pt(n)}(Bm);function Wm(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Bm&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof Km})).length,n=e.filter((function(e){return e instanceof Hm})).length;if(t>1||t>0&&n>0)throw new Pl(Rl.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=tr(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var Hm=function(e){Sn(n,e);var t=Nn(n);function n(e,r,i){var a;return Nt(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return Pt(n,[{key:"_apply",value:function(e){var t=this._parse(e);return $m(e._query,t),new nm(e.firestore,e.converter,Ff(e._query,t))}},{key:"_parse",value:function(e){var t=wm(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Pl(Rl.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Gm(o,a);var u,l=[],c=tr(o);try{for(c.s();!(u=c.n()).done;){var f=u.value;l.push(Qm(r,e,f))}}catch(h){c.e(h)}finally{c.f()}s={arrayValue:{values:l}}}else s=Qm(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Gm(o,a),s=Im(n,t,o,"in"===a||"not-in"===a);return uf.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(qm);var Km=function(e){Sn(n,e);var t=Nn(n);function n(e,r){var i;return Nt(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return Pt(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:lf.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=tr(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;$m(r,a),r=Ff(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new nm(e.firestore,e.converter,Ff(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Bm);function Qm(e,t,n){if("string"==typeof(n=Ur(n))){if(""===n)throw new Pl(Rl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Af(t)&&-1!==n.indexOf("/"))throw new Pl(Rl.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Gl.fromString(n));if(!Xl.isDocumentKey(r))throw new Pl(Rl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Wc(e,new Xl(r))}if(n instanceof rm)return Wc(e,n._key);throw new Pl(Rl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Xy(n),"."))}function Gm(e,t){if(!Array.isArray(e)||0===e.length)throw new Pl(Rl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function $m(e,t){var n=function(e,t){var n,r=tr(e);try{for(r.s();!(n=r.n()).done;){var i,a=tr(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Pl(Rl.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Pl(Rl.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}var Ym=function(){function e(){Nt(this,e)}return Pt(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Fc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Tl()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return mc(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new vm(Nc(e.latitude),Nc(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Dc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ac(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Ic(e);return new Hl(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Gl.fromString(e);Il(jd(n));var r=new Lc(n.get(1),n.get(3)),i=new Xl(n.popFirst(5));return r.isEqual(t)||Cl("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Xm(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Jm=function(){function e(t,n){Nt(this,e),this.hasPendingWrites=t,this.fromCache=n}return Pt(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Zm=function(e){Sn(n,e);var t=Nn(n);function n(e,r,i,a,o,s){var u;return Nt(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Pt(n,[{key:"exists",value:function(){return xn(Cn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new eg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Vm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(jm),eg=function(e){Sn(n,e);var t=Nn(n);function n(){return Nt(this,n),t.apply(this,arguments)}return Pt(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xn(Cn(n.prototype),"data",this).call(this,e)}}]),n}(Zm),tg=function(){function e(t,n,r,i){Nt(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Jm(i.hasPendingWrites,i.fromCache),this.query=r}return Pt(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new eg(n._firestore,n._userDataWriter,r.key,r,new Jm(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Pl(Rl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new eg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Jm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new eg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Jm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:ng(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function ng(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tl()}}var rg=function(e){Sn(n,e);var t=Nn(n);function n(e){var r;return Nt(this,n),(r=t.call(this)).firestore=e,r}return Pt(n,[{key:"convertBytes",value:function(e){return new hm(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new rm(this.firestore,null,t)}}]),n}(Ym);function ig(e){e=Jy(e,nm);var t=Jy(e.firestore,um),n=cm(t),r=new rg(t);return zm(e._query),Hy(n,e._query).then((function(n){return new tg(t,r,e,n)}))}function ag(e,t,n){e=Jy(e,rm);for(var r=Jy(e.firestore,um),i=wm(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return og(r,[("string"==typeof(t=Ur(t))||t instanceof dm?Tm(i,"updateDoc",e._key,t,n,o):Sm(i,"updateDoc",e._key,t)).toMutation(e._key,Eh.exists(!0))])}function og(e,t){return function(e,t){var n=new Dl;return e.asyncQueue.enqueueAndForget(Jn(Yn().mark((function r(){return Yn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=ry,r.next=3,zy(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(cm(e),t)}function sg(e,t,n){var r=n.docs.get(t._key),i=new rg(e);return new Zm(e,i,t._key,r,new Jm(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){_l=e}(Pi),Si(new Vr("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new um(new Ml(e.getProvider("auth-internal")),new Vl(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Pl(Rl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lc(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ai(gl,"4.3.0",e),Ai(gl,"4.3.0","esm2017")}();var ug,lg=(0,e.createContext)(),cg=function(t){var n=lm(),r=A((0,e.useState)([]),2),i=r[0],a=r[1],o=function(e){return i.some((function(t){return t.id==e}))},s=function(){var e=Jn(Yn().mark((function e(t,r,i){var a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Wm(am(n,"Productos")),console.log(r),e.next=4,ig(a);case 4:return e.sent,o=om(n,"Productos",r),console.log(t),e.next=9,ag(o,{stock:i.stock});case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();console.log(i);var l={carritoItems:i,agregarAlCarrito:function(e,t){o(e.id)?a(i.map((function(n){return n.id===e.id?u(u({},n),{},{cantidad:n.cantidad+t}):n}))):a([].concat(It(i),[u(u({},e),{},{cantidad:t})]))},borrarTodo:function(){a([])},borrarItem:function(e){var t=i.find((function(t){return t.id===e})),n=t.cantidad;a(i.filter((function(t){return t.id!==e}))),s(n,e,t)},carritoCantidad:function(){return i.reduce((function(e,t){return e+t.cantidad}),0)},carritoTotal:function(){return i.reduce((function(e,t){return e+t.precio*t.cantidad}),0)}};return(0,d.jsx)(lg.Provider,{value:l,children:t.children})};function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fg.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(ug||(ug={}));var hg,dg="popstate";function pg(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function vg(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(UC){}}}function yg(e,t){return{usr:e.state,key:e.key,idx:t}}function mg(e,t,n,r){return void 0===n&&(n=null),fg({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?kg(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function gg(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function kg(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function _g(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,l=o.history,c=ug.Pop,f=null,h=d();function d(){return(l.state||{idx:null}).idx}function p(){c=ug.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:c,location:y.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:gg(e);return pg(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,l.replaceState(fg({},l.state,{idx:h}),""));var y={get action(){return c},get location(){return e(o,l)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(dg,p),f=e,function(){o.removeEventListener(dg,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c=ug.Push;var r=mg(y.location,e,t);n&&n(r,e);var i=yg(r,h=d()+1),a=y.createHref(r);try{l.pushState(i,"",a)}catch(l_){if(l_ instanceof DOMException&&"DataCloneError"===l_.name)throw l_;o.location.assign(a)}u&&f&&f({action:c,location:y.location,delta:1})},replace:function(e,t){c=ug.Replace;var r=mg(y.location,e,t);n&&n(r,e);var i=yg(r,h=d()),a=y.createHref(r);l.replaceState(i,"",a),u&&f&&f({action:c,location:y.location,delta:0})},go:function(e){return l.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(hg||(hg={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function bg(e,t,n){void 0===n&&(n="/");var r=Lg(("string"===typeof t?kg(t):t).pathname||"/",n);if(null==r)return null;var i=wg(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Dg(i[o],Og(r));return a}function wg(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(pg(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=Ug([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(pg(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),wg(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:Pg(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=tr(Eg(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function Eg(e){var t=e.split("/");if(0===t.length)return[];var n,r=N(n=t)||Tt(n)||P(n)||D(),i=r[0],a=r.slice(1),o=i.endsWith("?"),s=i.replace(/\?$/,"");if(0===a.length)return o?[s,""]:[s];var u=Eg(a.join("/")),l=[];return l.push.apply(l,It(u.map((function(e){return""===e?s:[s,e].join("/")})))),o&&l.push.apply(l,It(u)),l.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var Cg=/^:\w+$/,xg=3,Sg=2,Tg=1,Ig=10,Ng=-2,Rg=function(e){return"*"===e};function Pg(e,t){var n=e.split("/"),r=n.length;return n.some(Rg)&&(r+=Ng),t&&(r+=Sg),n.filter((function(e){return!Rg(e)})).reduce((function(e,t){return e+(Cg.test(t)?xg:""===t?Tg:Ig)}),r)}function Dg(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=Ag({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var f=s.route;a.push({params:r,pathname:Ug([i,c.pathname]),pathnameBase:Vg(Ug([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=Ug([i,c.pathnameBase]))}return a}function Ag(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);vg("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=A(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1),c=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(l_){return vg(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+l_+")."),e}}(l[n]||"",t),e}),{});return{params:c,pathname:s,pathnameBase:u,pattern:e}}function Og(e){try{return decodeURI(e)}catch(l_){return vg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+l_+")."),e}}function Lg(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Mg(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Fg(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function jg(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=kg(e):(pg(!(i=fg({},e)).pathname||!i.pathname.includes("?"),Mg("?","pathname","search",i)),pg(!i.pathname||!i.pathname.includes("#"),Mg("#","pathname","hash",i)),pg(!i.search||!i.search.includes("#"),Mg("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var l=s.split("/");".."===l[0];)l.shift(),u-=1;i.pathname=l.join("/")}a=u>=0?t[u]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?kg(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:zg(a),hash:Bg(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!f&&!h||(c.pathname+="/"),c}var Ug=function(e){return e.join("/").replace(/\/\/+/g,"/")},Vg=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},zg=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Bg=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},qg=function(e){Sn(n,e);var t=Nn(n);function n(){return Nt(this,n),t.apply(this,arguments)}return Pt(n)}(er(Error));function Wg(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Hg=["post","put","patch","delete"],Kg=(new Set(Hg),["get"].concat(Hg));new Set(Kg),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qg.apply(this,arguments)}var Gg=e.createContext(null);var $g=e.createContext(null);var Yg=e.createContext(null);var Xg=e.createContext(null);var Jg=e.createContext(null);var Zg=e.createContext({outlet:null,matches:[],isDataRoute:!1});var ek=e.createContext(null);function tk(){return null!=e.useContext(Jg)}function nk(){return tk()||pg(!1),e.useContext(Jg).location}function rk(t){e.useContext(Xg).static||e.useLayoutEffect(t)}function ik(){return e.useContext(Zg).isDataRoute?function(){var t=pk(hk.UseNavigateStable).router,n=yk(dk.UseNavigateStable),r=e.useRef(!1);rk((function(){r.current=!0}));var i=e.useCallback((function(e,i){void 0===i&&(i={}),r.current&&("number"===typeof e?t.navigate(e):t.navigate(e,Qg({fromRouteId:n},i)))}),[t,n]);return i}():function(){tk()||pg(!1);var t=e.useContext(Gg),n=e.useContext(Xg),r=n.basename,i=n.navigator,a=e.useContext(Zg).matches,o=nk().pathname,s=JSON.stringify(Fg(a).map((function(e){return e.pathnameBase}))),u=e.useRef(!1);rk((function(){u.current=!0}));var l=e.useCallback((function(e,n){if(void 0===n&&(n={}),u.current)if("number"!==typeof e){var a=jg(e,JSON.parse(s),o,"path"===n.relative);null==t&&"/"!==r&&(a.pathname="/"===a.pathname?r:Ug([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(e)}),[r,i,s,o,t]);return l}()}function ak(t,n){var r=(void 0===n?{}:n).relative,i=e.useContext(Zg).matches,a=nk().pathname,o=JSON.stringify(Fg(i).map((function(e){return e.pathnameBase})));return e.useMemo((function(){return jg(t,JSON.parse(o),a,"path"===r)}),[t,o,a,r])}function ok(t,n,r){tk()||pg(!1);var i,a=e.useContext(Xg).navigator,o=e.useContext(Zg).matches,s=o[o.length-1],u=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),c=(s&&s.route,nk());if(n){var f,h="string"===typeof n?kg(n):n;"/"===l||(null==(f=h.pathname)?void 0:f.startsWith(l))||pg(!1),i=h}else i=c;var d=i.pathname||"/",p=bg(t,{pathname:"/"===l?d:d.slice(l.length)||"/"});var v=fk(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Ug([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:Ug([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&v?e.createElement(Jg.Provider,{value:{location:Qg({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:ug.Pop}},v):v}function sk(){var t=function(){var t,n=e.useContext(ek),r=vk(dk.UseRouteError),i=yk(dk.UseRouteError);if(n)return n;return null==(t=r.errors)?void 0:t[i]}(),n=Wg(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:a},r):null,null)}var uk=e.createElement(sk,null),lk=function(t){Sn(r,t);var n=Nn(r);function r(e){var t;return Nt(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return Pt(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?e.createElement(Zg.Provider,{value:this.props.routeContext},e.createElement(ek.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(e.Component);function ck(t){var n=t.routeContext,r=t.match,i=t.children,a=e.useContext(Gg);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(Zg.Provider,{value:n},i)}function fk(t,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==t){var a;if(null==(a=r)||!a.errors)return null;t=r.matches}var o=t,s=null==(i=r)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||pg(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(t,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,l=null;r&&(l=i.route.errorElement||uk);var c=n.concat(o.slice(0,a+1)),f=function(){var n;return n=u?l:i.route.Component?e.createElement(i.route.Component,null):i.route.element?i.route.element:t,e.createElement(ck,{match:i,routeContext:{outlet:t,matches:c,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?e.createElement(lk,{location:r.location,revalidation:r.revalidation,component:l,error:u,children:f(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):f()}),null)}var hk=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(hk||{}),dk=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dk||{});function pk(t){var n=e.useContext(Gg);return n||pg(!1),n}function vk(t){var n=e.useContext($g);return n||pg(!1),n}function yk(t){var n=function(t){var n=e.useContext(Zg);return n||pg(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||pg(!1),r.route.id}t.startTransition;function mk(e){pg(!1)}function gk(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,a=void 0===i?null:i,o=t.location,s=t.navigationType,u=void 0===s?ug.Pop:s,l=t.navigator,c=t.static,f=void 0!==c&&c;tk()&&pg(!1);var h=r.replace(/^\/*/,"/"),d=e.useMemo((function(){return{basename:h,navigator:l,static:f}}),[h,l,f]);"string"===typeof o&&(o=kg(o));var p=o,v=p.pathname,y=void 0===v?"/":v,m=p.search,g=void 0===m?"":m,k=p.hash,_=void 0===k?"":k,b=p.state,w=void 0===b?null:b,E=p.key,C=void 0===E?"default":E,x=e.useMemo((function(){var e=Lg(y,h);return null==e?null:{location:{pathname:e,search:g,hash:_,state:w,key:C},navigationType:u}}),[h,y,g,_,w,C,u]);return null==x?null:e.createElement(Xg.Provider,{value:d},e.createElement(Jg.Provider,{children:a,value:x}))}function kk(e){var t=e.children,n=e.location;return ok(wk(t),n)}var _k=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(_k||{}),bk=new Promise((function(){}));e.Component;function wk(t,n){void 0===n&&(n=[]);var r=[];return e.Children.forEach(t,(function(t,i){if(e.isValidElement(t)){var a=[].concat(It(n),[i]);if(t.type!==e.Fragment){t.type!==mk&&pg(!1),t.props.index&&t.props.children&&pg(!1);var o={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=wk(t.props.children,a)),r.push(o)}else r.push.apply(r,wk(t.props.children,a))}})),r}function Ek(){return Ek=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ek.apply(this,arguments)}function Ck(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var xk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];var Sk=t.startTransition;function Tk(t){var n=t.basename,r=t.children,i=t.future,a=t.window,o=e.useRef();null==o.current&&(o.current=function(e){return void 0===e&&(e={}),_g((function(e,t){var n=e.location;return mg("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:gg(t)}),null,e)}({window:a,v5Compat:!0}));var s=o.current,u=A(e.useState({action:s.action,location:s.location}),2),l=u[0],c=u[1],f=(i||{}).v7_startTransition,h=e.useCallback((function(e){f&&Sk?Sk((function(){return c(e)})):c(e)}),[c,f]);return e.useLayoutEffect((function(){return s.listen(h)}),[s,h]),e.createElement(gk,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:s})}var Ik="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Nk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rk=e.forwardRef((function(t,n){var r,i=t.onClick,a=t.relative,o=t.reloadDocument,s=t.replace,u=t.state,l=t.target,c=t.to,f=t.preventScrollReset,h=t.unstable_viewTransition,d=Ck(t,xk),p=e.useContext(Xg).basename,v=!1;if("string"===typeof c&&Nk.test(c)&&(r=c,Ik))try{var y=new URL(window.location.href),m=c.startsWith("//")?new URL(y.protocol+c):new URL(c),g=Lg(m.pathname,p);m.origin===y.origin&&null!=g?c=g+m.search+m.hash:v=!0}catch(UC){}var k=function(t,n){var r=(void 0===n?{}:n).relative;tk()||pg(!1);var i=e.useContext(Xg),a=i.basename,o=i.navigator,s=ak(t,{relative:r}),u=s.hash,l=s.pathname,c=s.search,f=l;return"/"!==a&&(f="/"===l?a:Ug([a,l])),o.createHref({pathname:f,search:c,hash:u})}(c,{relative:a}),_=function(t,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,l=r.unstable_viewTransition,c=ik(),f=nk(),h=ak(t,{relative:u});return e.useCallback((function(e){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,i)){e.preventDefault();var n=void 0!==a?a:gg(f)===gg(h);c(t,{replace:n,state:o,preventScrollReset:s,relative:u,unstable_viewTransition:l})}}),[f,c,h,a,o,i,t,s,u,l])}(c,{replace:s,state:u,target:l,preventScrollReset:f,relative:a,unstable_viewTransition:h});return e.createElement("a",Ek({},d,{href:r||k,onClick:v||o?i:function(e){i&&i(e),e.defaultPrevented||_(e)},ref:n,target:l}))}));var Pk,Dk;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pk||(Pk={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Dk||(Dk={}));var Ak=function(){var t=(0,e.useContext)(lg),n=(t.carritoItems,t.carritoCantidad);return(0,d.jsxs)(d.Fragment,{children:[n()>0&&(0,d.jsx)("div",{className:"notificacion","current-count":n()}),(0,d.jsx)(Rk,{to:"/ProyectoFinalReact_MaximilianoTrochon/cart",children:(0,d.jsx)("img",{className:"cart",src:"/ProyectoFinalReact_MaximilianoTrochon/imagenes/cart.png",alt:""})})]})},Ok=["as","bsPrefix","variant","size","active","disabled","className"],Lk=e.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=void 0===i?"primary":i,o=e.size,s=e.active,l=void 0!==s&&s,f=e.disabled,p=void 0!==f&&f,v=e.className,m=c(e,Ok),g=y(r,"btn"),k=A(K(u({tagName:n,disabled:p},m)),2),_=k[0],b=k[1].tagName;return(0,d.jsx)(b,u(u(u({},_),m),{},{ref:t,disabled:p,className:h()(v,g,l&&"active",a&&"".concat(g,"-").concat(a),o&&"".concat(g,"-").concat(o),m.href&&p&&"disabled")}))}));Lk.displayName="Button";var Mk=Lk,Fk=function(e){var t,n=e.data,r=n.id,i=n.nombre,a=n.precio,o=n.urlImagen,s=n.categoria,u=n.stock;return t="Remera"===s?"/ProyectoFinalReact_MaximilianoTrochon/".concat(r):"Accesorio"===s?"/ProyectoFinalReact_MaximilianoTrochon/accesorios/".concat(r):"/ProyectoFinalReact_MaximilianoTrochon/calzado/".concat(r),(0,d.jsx)("div",{className:"producto",children:u>0?(0,d.jsxs)("p",{children:[(0,d.jsx)("img",{src:o})," ",s,": ",i," ($",a,")",(0,d.jsx)(Mk,{as:Rk,to:t,params:{producto:e.data},className:"boton botondetalle",variant:"primary",children:"Ver detalle"})]}):(0,d.jsxs)("p",{children:[(0,d.jsx)("img",{src:o})," ",(0,d.jsxs)("span",{className:"no-disponible",children:[s,": ",i," (no disponible) "]})," ",(0,d.jsx)(Mk,{as:Rk,to:t,className:"boton botondetalle",variant:"primary",children:"Ver detalle"})]})})},jk=function(t){var n=t.categoria,r=(t.greetings,A((0,e.useState)([]),2)),i=r[0],a=r[1],o=lm();(0,e.useEffect)((function(){ig(am(o,"Productos")).then((function(e){a(e.docs.map((function(e){return u({id:e.id},e.data())})))}))}),[]);var s=i.filter((function(e){return e.categoria==n}));return(0,d.jsx)("div",{className:"container itemlist",children:(0,d.jsx)("div",{className:"productos col-10",children:s.map((function(e){return(0,d.jsx)(Fk,{data:e},e.id)}))})})},Uk=function(){return(0,d.jsx)(jk,{categoria:"Accesorio",greetings:"Bienvenidos!"})},Vk=function(){return(0,d.jsx)(jk,{categoria:"Remera",greetings:"Bienvenidos!"})},zk=function(){return(0,d.jsx)(jk,{categoria:"Calzado",greetings:"Bienvenidos!"})},Bk=function(e){e.carrito;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)($n,{bg:"dark","data-bs-theme":"dark",className:"Navbar col-12",children:(0,d.jsxs)(k,{children:[(0,d.jsx)($n.Brand,{children:"Ventasmania"}),(0,d.jsxs)(be,{className:"me-auto",children:[(0,d.jsx)(be.Link,{as:Rk,to:"/ProyectoFinalReact_MaximilianoTrochon/remeras",children:"Remeras"}),(0,d.jsx)(be.Link,{as:Rk,to:"/ProyectoFinalReact_MaximilianoTrochon/calzado",children:"Calzado"}),(0,d.jsx)(be.Link,{as:Rk,to:"/ProyectoFinalReact_MaximilianoTrochon/accesorios",children:"Accesorios"})]}),(0,d.jsx)(Ak,{})]})}),(0,d.jsx)("div",{})]})},qk=function(){var t=A((0,e.useState)(""),2),n=(t[0],t[1],A((0,e.useState)(!1),2)),r=(n[0],n[1],A((0,e.useState)(),2)),i=(r[0],r[1],A((0,e.useState)([]),2)),a=i[0],o=i[1];return(0,e.useEffect)((function(){fetch("".concat("https://randomuser.me/api/?results=3")).then((function(e){return e.json()})).then((function(e){o(e.results)}))}),[]),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:"Comentarios"}),"undefined"===typeof a?(0,d.jsx)("p",{children:"Cargando..."}):(0,d.jsx)("div",{className:"",children:a.map((function(e,t){return(0,d.jsxs)("div",{className:"randomusers col-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{style:{fontWeight:"bold"},children:[e.name.first," ",e.name.last]}),(0,d.jsx)("img",{src:e.picture.medium})]}),(0,d.jsx)("div",{className:"col-9",children:0===t?(0,d.jsx)("p",{children:"Me interesa"}):1===t?(0,d.jsx)("p",{children:"Hola que tal buenas noches. Sigue disponible?"}):(0,d.jsx)("p",{children:"Ofrecen envios?"})})]},t)}))})]})},Wk=function(t){var n=t.stock,r=t.onAdd,i=t.inicial,a=A((0,e.useState)(i),2),o=a[0],s=a[1];return(0,d.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(Mk,{variant:"dark",onClick:function(){o>0&&s(o-1)},children:"-"}),(0,d.jsx)("span",{className:"btn",children:o}),(0,d.jsx)(Mk,{variant:"dark",onClick:function(){o<n&&s(o+1)},children:"+"})]}),(0,d.jsx)(Mk,{className:"mt-2",variant:"dark",disabled:0===o,onClick:function(){return r(o)},children:"Comprar"})]})},Hk="@firebase/database",Kk="1.0.1",Qk="";function Gk(e){Qk=e}var $k=function(){function e(t){Nt(this,e),this.domStorage_=t,this.prefix_="firebase:"}return Pt(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ir(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Tr(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),Yk=function(){function e(){Nt(this,e),this.cache_={},this.isInMemoryStorage=!0}return Pt(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Rr(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),Xk=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new $k(t)}}catch(UC){}return new Yk},Jk=Xk("localStorage"),Zk=Xk("sessionStorage"),e_=new Xr("@firebase/database"),t_=function(){var e=1;return function(){return e++}}(),n_=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,ar(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Mr;n.update(t);var r=n.digest();return ur.encodeByteArray(r)},r_=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Ir(r):r,t+=" "}return t},i_=null,a_=!0,o_=function(e,t){ar(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(e_.logLevel=Wr.VERBOSE,i_=e_.log.bind(e_),t&&Zk.set("logging_enabled",!0)):"function"===typeof e?i_=e:(i_=null,Zk.remove("logging_enabled"))},s_=function(){if(!0===a_&&(a_=!1,null===i_&&!0===Zk.get("logging_enabled")&&o_(!0)),i_){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=r_.apply(null,t);i_(r)}},u_=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];s_.apply(void 0,[e].concat(n))}},l_=function(){var e="FIREBASE INTERNAL ERROR: "+r_.apply(void 0,arguments);e_.error(e)},c_=function(){var e="FIREBASE FATAL ERROR: ".concat(r_.apply(void 0,arguments));throw e_.error(e),new Error(e)},f_=function(){var e="FIREBASE WARNING: "+r_.apply(void 0,arguments);e_.warn(e)},h_=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},d_="[MIN_NAME]",p_="[MAX_NAME]",v_=function(e,t){if(e===t)return 0;if(e===d_||t===p_)return-1;if(t===d_||e===p_)return 1;var n=E_(e),r=E_(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},y_=function(e,t){return e===t?0:e<t?-1:1},m_=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ir(t))},g_=function e(t){if("object"!==typeof t||null===t)return Ir(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Ir(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},k_=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function __(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var b_=function(e){ar(!h_(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),l="";for(a=0;a<64;a+=8){var c=parseInt(u.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var w_=new RegExp("^-?(0*)\\d{1,10}$"),E_=function(e){if(w_.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},C_=function(e){try{e()}catch(UC){setTimeout((function(){var t=UC.stack||"";throw f_("Exception was thrown by user callback.",t),UC}),Math.floor(0))}},x_=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},S_=function(){function e(t,n){var r=this;Nt(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return Pt(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){f_('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),T_=function(){function e(t,n,r){var i=this;Nt(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return Pt(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(s_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',f_(e)}}]),e}(),I_=function(){function e(t){Nt(this,e),this.accessToken=t}return Pt(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();I_.OWNER="owner";var N_="5",R_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,P_="ac",D_="websocket",A_="long_polling",O_=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];Nt(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Jk.get("host:"+t)||this._host}return Pt(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Jk.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function L_(e,t,n){var r;if(ar("string"===typeof t,"typeof type must == string"),ar("object"===typeof n,"typeof params must == object"),t===D_)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==A_)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return __(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var M_=function(){function e(){Nt(this,e),this.counters_={}}return Pt(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Rr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return dr(this.counters_)}}]),e}(),F_={},j_={};function U_(e){var t=e.toString();return F_[t]||(F_[t]=new M_),F_[t]}var V_=function(){function e(t){Nt(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return Pt(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&C_((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),1;n.currentResponseNum++};this.pendingResponses[this.currentResponseNum]&&!r(););}}]),e}(),z_="start",B_=function(){function e(t,n,r,i,a,o,s){var u=this;Nt(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=u_(t),this.stats_=U_(n),this.urlFn=function(e){return u.appCheckToken&&(e[P_]=u.appCheckToken),L_(n,A_,e)}}return Pt(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new V_(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(wr()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new q_((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===z_)n.id=a,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[z_]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=N_,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[P_]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&R_.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Ir(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=cr(t),r=k_(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!wr()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Ir(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!wr()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),q_=function(){function e(t,n,r,i){if(Nt(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,wr())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=t_(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(UC){s_("frame writing exception"),UC.stack&&s_(UC.stack),s_(UC)}}}return Pt(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;wr()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){s_("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(UC){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||s_("No IE domain setting required")}catch(UC){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),W_=null;"undefined"!==typeof MozWebSocket?W_=MozWebSocket:"undefined"!==typeof WebSocket&&(W_=WebSocket);var H_=function(){function e(t,n,r,i,a,o,s){Nt(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=u_(this.connId),this.stats_=U_(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return Pt(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Jk.set("previous_websocket_failure",!0);try{var r;if(wr()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(N_,"/").concat(Qk,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/ProyectoFinalReact_MaximilianoTrochon",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new W_(this.connURL,[],r)}catch(UC){this.log_("Error instantiating WebSocket.");var s=UC.message||UC.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Jk.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Tr(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(ar(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Ir(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=k_(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(UC){this.log_("Exception thrown from WebSocket.send():",UC.message||UC.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=N_,!wr()&&"undefined"!==typeof location&&location.hostname&&R_.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[P_]=r),i&&(a.p=i),L_(e,D_,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==W_&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Jk.isInMemoryStorage||!0===Jk.get("previous_websocket_failure")}}]),e}();H_.responsesRequiredToBeHealthy=2,H_.healthyTimeout=3e4;var K_=function(){function e(t){Nt(this,e),this.initTransports_(t)}return Pt(e,[{key:"initTransports_",value:function(t){var n=H_&&H_.isAvailable(),r=n&&!H_.previouslyFailed();if(t.webSocketOnly&&(n||f_("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[H_];else{var i,a=this.transports_=[],o=tr(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[B_,H_]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();K_.globalTransportInitialized_=!1;var Q_=function(){function e(t,n,r,i,a,o,s,u,l,c){Nt(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=u_("c:"+this.id+":"),this.transportManager_=new K_(n),this.log_("Connection created"),this.start_()}return Pt(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=x_((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=m_("t",e),n=m_("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=m_("t",e),n=m_("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=m_("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?l_("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):l_("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),N_!==n&&f_("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),x_((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):x_((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Jk.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),G_=function(){function e(){Nt(this,e)}return Pt(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),$_=function(){function e(t){Nt(this,e),this.allowedEvents_=t,this.listeners_={},ar(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return Pt(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=It(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){ar(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Y_=function(e){Sn(n,e);var t=Nn(n);function n(){var e;return Nt(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||br()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Pt(n,[{key:"getInitialEvent",value:function(e){return ar("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}($_),X_=32,J_=768,Z_=function(){function e(t,n){if(Nt(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Pt(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function eb(){return new Z_("")}function tb(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function nb(e){return e.pieces_.length-e.pieceNum_}function rb(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Z_(e.pieces_,t)}function ib(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ab(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function ob(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Z_(t,0)}function sb(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Z_)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Z_(n,0)}function ub(e){return e.pieceNum_>=e.pieces_.length}function lb(e,t){var n=tb(e),r=tb(t);if(null===n)return t;if(n===r)return lb(rb(e),rb(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function cb(e,t){if(nb(e)!==nb(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function fb(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(nb(e)>nb(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var hb=Pt((function e(t,n){Nt(this,e),this.errorPrefix_=n,this.parts_=ab(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=jr(this.parts_[r]);db(this)}));function db(e){if(e.byteLength_>J_)throw new Error(e.errorPrefix_+"has a key path longer than "+J_+" bytes ("+e.byteLength_+").");if(e.parts_.length>X_)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+X_+") or object contains a cycle "+pb(e))}function pb(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var vb=function(e){Sn(n,e);var t=Nn(n);function n(){var e,r,i;return Nt(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return Pt(n,[{key:"getInitialEvent",value:function(e){return ar("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}($_),yb=1e3,mb=function(e){Sn(n,e);var t=Nn(n);function n(e,r,i,a,o,s,u,l){var c;if(Nt(this,n),(c=t.call(this)).repoInfo_=e,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=a,c.onServerInfoUpdate_=o,c.authTokenProvider_=s,c.appCheckTokenProvider_=u,c.authOverride_=l,c.id=n.nextPersistentConnectionId_++,c.log_=u_("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=yb,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!wr())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return vb.getInstance().on("visible",c.onVisible_,In(c)),-1===e.host.indexOf("fblocal")&&Y_.getInstance().on("online",c.onOnline_,In(c)),c}return Pt(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Ir(i)),ar(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new kr,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),ar(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ar(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Nr(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Nr(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),ar(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Ir(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):l_("Unrecognized action received from server: "+Ir(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;ar(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yb,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=yb,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=yb),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Jn(Yn().mark((function e(){var t,r,i,a,o,s,u,l,c,f,h,d,p,v,y=this;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,l=function(){u?u.close():(s=!0,i())},c=function(e){ar(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:l,sendRequest:c},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:h=e.sent,d=A(h,2),p=d[0],v=d[1],s?s_("getToken() completed but was canceled"):(s_("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,u=new Q_(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){f_(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&f_(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){s_("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){s_("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Dr(this.interruptReasons_)&&(this.reconnectDelay_=yb,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return g_(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Z_(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){s_("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){s_("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=tr(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=tr(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";wr()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Qk.replace(/\./g,"-")]=1,br()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Y_.getInstance().currentlyOnline();return Dr(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Rr(e,"w")){var n=Pr(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();f_("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(G_);mb.nextPersistentConnectionId_=0,mb.nextConnectionId_=0;var gb,kb=function(){function e(t,n){Nt(this,e),this.name=t,this.node=n}return Pt(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),_b=function(){function e(){Nt(this,e)}return Pt(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new kb(d_,e),r=new kb(d_,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return kb.MIN}}]),e}(),bb=function(e){Sn(n,e);var t=Nn(n);function n(){return Nt(this,n),t.apply(this,arguments)}return Pt(n,[{key:"compare",value:function(e,t){return v_(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw or("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return kb.MIN}},{key:"maxPost",value:function(){return new kb(p_,gb)}},{key:"makePost",value:function(e,t){return ar("string"===typeof e,"KeyIndex indexValue must always be a string."),new kb(e,gb)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return gb},set:function(e){gb=e}}]),n}(_b),wb=new bb,Eb=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Nt(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return Pt(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Cb=function(){function e(t,n,r,i,a){Nt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Tb.EMPTY_NODE,this.right=null!=a?a:Tb.EMPTY_NODE}return Pt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Tb.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Tb.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Cb.RED=!0,Cb.BLACK=!1;var xb,Sb=function(){function e(){Nt(this,e)}return Pt(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Cb(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),Tb=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;Nt(this,e),this.comparator_=t,this.root_=n}return Pt(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Cb.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Cb.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Eb(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Eb(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Eb(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Eb(this.root_,null,this.comparator_,!0,e)}}]),e}();function Ib(e,t){return v_(e.name,t.name)}function Nb(e,t){return v_(e,t)}Tb.EMPTY_NODE=new Sb;var Rb,Pb,Db,Ab=function(e){return"number"===typeof e?"number:"+b_(e):"string:"+e},Ob=function(e){if(e.isLeafNode()){var t=e.val();ar("string"===typeof t||"number"===typeof t||"object"===typeof t&&Rr(t,".sv"),"Priority must be a string or number.")}else ar(e===xb||e.isEmpty(),"priority of unexpected type.");ar(e===xb||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Lb=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;Nt(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,ar(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ob(this.priorityNode_)}return Pt(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return ub(t)?this:".priority"===tb(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=tb(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(ar(".priority"!==r||1===nb(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(rb(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ab(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?b_(this.value_):this.value_,this.lazyHash_=n_(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(ar(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return ar(i>=0,"Unknown leaf type: "+n),ar(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return Rb},set:function(e){Rb=e}}]),e}();Lb.VALUE_TYPE_ORDER=["object","boolean","number","string"];var Mb,Fb,jb=function(e){Sn(n,e);var t=Nn(n);function n(){return Nt(this,n),t.apply(this,arguments)}return Pt(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?v_(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return kb.MIN}},{key:"maxPost",value:function(){return new kb(p_,new Lb("[PRIORITY-POST]",Db))}},{key:"makePost",value:function(e,t){var n=Pb(e);return new kb(t,new Lb("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(_b),Ub=new jb,Vb=Math.log(2),zb=function(){function e(t){Nt(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/Vb,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return Pt(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),Bb=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new Cb(o,a.node,Cb.BLACK,null,null);var u=parseInt(s/2,10)+r,l=t(r,u),c=t(u+1,i);return a=e[u],o=n?n(a):a,new Cb(o,a.node,Cb.BLACK,l,c)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var l=i(a+1,s),c=e[a],f=n?n(c):c;u(new Cb(f,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),f=Math.pow(2,t.count-(l+1));c?s(f,Cb.BLACK):(s(f,Cb.BLACK),s(f,Cb.RED))}return a}(new zb(e.length));return new Tb(r||t,a)},qb={},Wb=function(){function e(t,n){Nt(this,e),this.indexes_=t,this.indexSet_=n}return Pt(e,[{key:"get",value:function(e){var t=Pr(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Tb?t:null}},{key:"hasIndex",value:function(e){return Rr(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){ar(t!==wb,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(kb.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?Bb(i,t.getCompare()):qb;var u=t.toString(),l=Object.assign({},this.indexSet_);l[u]=t;var c=Object.assign({},this.indexes_);return c[u]=r,new e(c,l)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Ar(this.indexes_,(function(e,i){var a=Pr(r.indexSet_,i);if(ar(a,"Missing index implementation for "+i),e===qb){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(kb.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),Bb(o,a.getCompare())}return qb}var l=n.get(t.name),c=e;return l&&(c=c.remove(new kb(t.name,l))),c.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Ar(this.indexes_,(function(e){if(e===qb)return e;var r=n.get(t.name);return r?e.remove(new kb(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return ar(qb&&Ub,"ChildrenNode.ts has not been loaded"),Mb=Mb||new e({".priority":qb},{".priority":Ub})}}]),e}(),Hb=function(){function e(t,n,r){Nt(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Ob(this.priorityNode_),this.children_.isEmpty()&&ar(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Pt(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||Fb}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Fb:t}},{key:"getChild",value:function(e){var t=tb(e);return null===t?this:this.getImmediateChild(t).getChild(rb(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(ar(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new kb(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?Fb:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=tb(e);if(null===n)return t;ar(".priority"!==tb(e)||1===nb(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(rb(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(Ub,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Ab(this.getPriority().val())+":"),this.forEachChild(Ub,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":n_(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new kb(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new kb(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new kb(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,kb.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,kb.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Kb?-1:0}},{key:"withIndex",value:function(t){if(t===wb||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===wb||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Ub),r=t.getIterator(Ub),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===wb?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return Fb||(Fb=new e(new Tb(Nb),null,Wb.Default))}}]),e}();Hb.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Kb=new(function(e){Sn(n,e);var t=Nn(n);function n(){return Nt(this,n),t.call(this,new Tb(Nb),Hb.EMPTY_NODE,Wb.Default)}return Pt(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Hb.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Hb));Object.defineProperties(kb,{MIN:{value:new kb(d_,Hb.EMPTY_NODE)},MAX:{value:new kb(p_,Kb)}}),bb.__EMPTY_NODE=Hb.EMPTY_NODE,Lb.__childrenNodeConstructor=Hb,xb=Kb,function(e){Db=e}(Kb);var Qb=!0;function Gb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Hb.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),ar(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Lb(e,Gb(t));if(e instanceof Array||!Qb){var n=Hb.EMPTY_NODE;return __(e,(function(t,r){if(Rr(e,t)&&"."!==t.substring(0,1)){var i=Gb(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(Gb(t))}var r=[],i=!1;if(__(e,(function(e,t){if("."!==e.substring(0,1)){var n=Gb(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new kb(e,n)))}})),0===r.length)return Hb.EMPTY_NODE;var a=Bb(r,Ib,(function(e){return e.name}),Nb);if(i){var o=Bb(r,Ub.getCompare());return new Hb(a,Gb(t),new Wb({".priority":o},{".priority":Ub}))}return new Hb(a,Gb(t),Wb.Default)}!function(e){Pb=e}(Gb);var $b=function(e){Sn(n,e);var t=Nn(n);function n(e){var r;return Nt(this,n),(r=t.call(this)).indexPath_=e,ar(!ub(e)&&".priority"!==tb(e),"Can't create PathIndex with empty path or .priority key"),r}return Pt(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?v_(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Gb(e),r=Hb.EMPTY_NODE.updateChild(this.indexPath_,n);return new kb(t,r)}},{key:"maxPost",value:function(){var e=Hb.EMPTY_NODE.updateChild(this.indexPath_,Kb);return new kb(p_,e)}},{key:"toString",value:function(){return ab(this.indexPath_,0).join("/")}}]),n}(_b),Yb=function(e){Sn(n,e);var t=Nn(n);function n(){return Nt(this,n),t.apply(this,arguments)}return Pt(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?v_(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return kb.MIN}},{key:"maxPost",value:function(){return kb.MAX}},{key:"makePost",value:function(e,t){var n=Gb(e);return new kb(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(_b),Xb=new Yb;function Jb(e){return{type:"value",snapshotNode:e}}function Zb(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function ew(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function tw(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var nw=function(){function e(){Nt(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ub}return Pt(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return ar(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return ar(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:d_}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return ar(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return ar(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:p_}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return ar(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===Ub}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function rw(e){var t,n={};if(e.isDefault())return n;if(e.index_===Ub?t="$priority":e.index_===Xb?t="$value":e.index_===wb?t="$key":(ar(e.index_ instanceof $b,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Ir(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=Ir(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+Ir(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=Ir(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+Ir(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function iw(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ub&&(t.i=e.index_.toString()),t}var aw=function(e){Sn(n,e);var t=Nn(n);function n(e,r,i,a){var o;return Nt(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=u_("p:rest:"),o.listens_={},o}return Pt(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var l=rw(e._queryParams);this.restRequest_(o+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Pr(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=rw(e._queryParams),r=e._path.toString(),i=new kr;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=A(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+function(e){for(var t=[],n=function(){var e=A(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}(n);t.log_("Sending REST request for "+u);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+u+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Tr(l.responseText)}catch(UC){f_("Failed to parse JSON response for "+u+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&f_("Got unsuccessful REST response for "+u+" Status: "+l.status),r(l.status);r=null}},l.open("GET",u,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(ar(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(G_),ow=function(){function e(){Nt(this,e),this.rootNode_=Hb.EMPTY_NODE}return Pt(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function sw(){return{value:null,children:new Map}}function uw(e,t,n){if(ub(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=tb(t);e.children.has(r)||e.children.set(r,sw()),uw(e.children.get(r),t=rb(t),n)}}function lw(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){lw(r,new Z_(t.toString()+"/"+e),n)}))}var cw,fw=function(){function e(t){Nt(this,e),this.collection_=t,this.last_=null}return Pt(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&__(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),hw=function(){function e(t,n){Nt(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new fw(t);var r=1e4+2e4*Math.random();x_(this.reportStats_.bind(this),Math.floor(r))}return Pt(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;__(t,(function(t,i){i>0&&Rr(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),x_(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function dw(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(cw||(cw={}));var pw,vw=function(){function e(t,n,r){Nt(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=cw.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return Pt(e,[{key:"operationForChild",value:function(t){if(ub(this.path)){if(null!=this.affectedTree.value)return ar(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Z_(t));return new e(eb(),n,this.revert)}return ar(tb(this.path)===t,"operationForChild called for unrelated child."),new e(rb(this.path),this.affectedTree,this.revert)}}]),e}(),yw=function(){function e(t,n,r){Nt(this,e),this.source=t,this.path=n,this.snap=r,this.type=cw.OVERWRITE}return Pt(e,[{key:"operationForChild",value:function(t){return ub(this.path)?new e(this.source,eb(),this.snap.getImmediateChild(t)):new e(this.source,rb(this.path),this.snap)}}]),e}(),mw=function(){function e(t,n,r){Nt(this,e),this.source=t,this.path=n,this.children=r,this.type=cw.MERGE}return Pt(e,[{key:"operationForChild",value:function(t){if(ub(this.path)){var n=this.children.subtree(new Z_(t));return n.isEmpty()?null:n.value?new yw(this.source,eb(),n.value):new e(this.source,eb(),n)}return ar(tb(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,rb(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),gw=function(){function e(t,n,r){Nt(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return Pt(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(ub(e))return this.isFullyInitialized()&&!this.filtered_;var t=tb(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}();function kw(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw or("Should only compare child_ events.");var r=new kb(t.childName,t.snapshotNode),i=new kb(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function _w(e,t){return{eventCache:e,serverCache:t}}function bw(e,t,n,r){return _w(new gw(t,n,r),e.serverCache)}function ww(e,t,n,r){return _w(e.eventCache,new gw(t,n,r))}function Ew(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Cw(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var xw=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(pw||(pw=new Tb(y_)),pw);Nt(this,e),this.value=t,this.children=n}return Pt(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:eb(),value:this.value};if(ub(e))return null;var n=tb(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(rb(e),t);return null!=i?{path:sb(new Z_(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(ub(t))return this;var n=tb(t),r=this.children.get(n);return null!==r?r.subtree(rb(t)):new e(null)}},{key:"set",value:function(t,n){if(ub(t))return new e(n,this.children);var r=tb(t),i=(this.children.get(r)||new e(null)).set(rb(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(ub(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=tb(t),r=this.children.get(n);if(r){var i,a=r.remove(rb(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(ub(e))return this.value;var t=tb(e),n=this.children.get(t);return n?n.get(rb(e)):null}},{key:"setTree",value:function(t,n){if(ub(t))return n;var r,i=tb(t),a=(this.children.get(i)||new e(null)).setTree(rb(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(eb(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(sb(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,eb(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(ub(e))return null;var i=tb(e),a=this.children.get(i);return a?a.findOnPath_(rb(e),sb(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,eb(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(ub(t))return this;this.value&&r(n,this.value);var i=tb(t),a=this.children.get(i);return a?a.foreachOnPath_(rb(t),sb(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(eb(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(sb(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return __(t,(function(e,t){n=n.set(new Z_(e),t)})),n}}]),e}(),Sw=function(){function e(t){Nt(this,e),this.writeTree_=t}return Pt(e,null,[{key:"empty",value:function(){return new e(new xw(null))}}]),e}();function Tw(e,t,n){if(ub(t))return new Sw(new xw(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=lb(i,t);return a=a.updateChild(o,n),new Sw(e.writeTree_.set(i,a))}var s=new xw(n),u=e.writeTree_.setTree(t,s);return new Sw(u)}function Iw(e,t,n){var r=e;return __(n,(function(e,n){r=Tw(r,sb(t,e),n)})),r}function Nw(e,t){if(ub(t))return Sw.empty();var n=e.writeTree_.setTree(t,new xw(null));return new Sw(n)}function Rw(e,t){return null!=Pw(e,t)}function Pw(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(lb(n.path,t)):null}function Dw(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ub,(function(e,n){t.push(new kb(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new kb(e,n.value))})),t}function Aw(e,t){if(ub(t))return e;var n=Pw(e,t);return new Sw(null!=n?new xw(n):e.writeTree_.subtree(t))}function Ow(e){return e.writeTree_.isEmpty()}function Lw(e,t){return Mw(eb(),e.writeTree_,t)}function Mw(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(ar(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Mw(sb(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(sb(e,".priority"),r)),n}function Fw(e,t){return Yw(t,e)}function jw(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));ar(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&Uw(s,r.path)?i=!1:fb(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=zw(e.allWrites,Vw,eb()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Nw(e.visibleWrites,r.path):__(r.children,(function(t){e.visibleWrites=Nw(e.visibleWrites,sb(r.path,t))}));return!0}return!1}function Uw(e,t){if(e.snap)return fb(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&fb(sb(e.path,n),t))return!0;return!1}function Vw(e){return e.visible}function zw(e,t,n){for(var r=Sw.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)fb(n,o)?r=Tw(r,s=lb(n,o),a.snap):fb(o,n)&&(s=lb(o,n),r=Tw(r,eb(),a.snap.getChild(s)));else{if(!a.children)throw or("WriteRecord should have .snap or .children");if(fb(n,o))r=Iw(r,s=lb(n,o),a.children);else if(fb(o,n))if(ub(s=lb(o,n)))r=Iw(r,eb(),a.children);else{var u=Pr(a.children,tb(s));if(u){var l=u.getChild(rb(s));r=Tw(r,eb(),l)}}}}}return r}function Bw(e,t,n,r,i){if(r||i){var a=Aw(e.visibleWrites,t);if(!i&&Ow(a))return n;if(i||null!=n||Rw(a,eb())){return Lw(zw(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(fb(e.path,t)||fb(t,e.path))}),t),n||Hb.EMPTY_NODE)}return null}var o=Pw(e.visibleWrites,t);if(null!=o)return o;var s=Aw(e.visibleWrites,t);return Ow(s)?n:null!=n||Rw(s,eb())?Lw(s,n||Hb.EMPTY_NODE):null}function qw(e,t,n,r){return Bw(e.writeTree,e.treePath,t,n,r)}function Ww(e,t){return function(e,t,n){var r=Hb.EMPTY_NODE,i=Pw(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ub,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=Aw(e.visibleWrites,t);return n.forEachChild(Ub,(function(e,t){var n=Lw(Aw(a,new Z_(e)),t);r=r.updateImmediateChild(e,n)})),Dw(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Dw(Aw(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Hw(e,t,n,r){return function(e,t,n,r,i){ar(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=sb(t,n);if(Rw(e.visibleWrites,a))return null;var o=Aw(e.visibleWrites,a);return Ow(o)?i.getChild(n):Lw(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Kw(e,t){return function(e,t){return Pw(e.visibleWrites,t)}(e.writeTree,sb(e.treePath,t))}function Qw(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=Aw(e.visibleWrites,t),l=Pw(u,eb());if(null!=l)s=l;else{if(null==n)return[];s=Lw(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&c.length<i;)0!==f(d,r)&&c.push(d),d=h.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,a)}function Gw(e,t,n){return function(e,t,n,r){var i=sb(t,n),a=Pw(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Lw(Aw(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function $w(e,t){return Yw(sb(e.treePath,t),e.writeTree)}function Yw(e,t){return{treePath:e,writeTree:t}}var Xw=function(){function e(){Nt(this,e),this.changeMap=new Map}return Pt(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;ar("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ar(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,tw(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,ew(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Zb(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw or("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,tw(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),Jw=new(function(){function e(){Nt(this,e)}return Pt(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Zw=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Nt(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return Pt(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new gw(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Gw(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Cw(this.viewCache_),i=Qw(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function eE(e,t,n,r,i){var a,o,s=new Xw;if(n.type===cw.OVERWRITE){var u=n;u.source.fromUser?a=rE(e,t,u.path,u.snap,r,i,s):(ar(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!ub(u.path),a=nE(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===cw.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var l=sb(n,r);iE(t,tb(l))&&(s=rE(e,s,l,u,i,a,o))})),r.foreach((function(r,u){var l=sb(n,r);iE(t,tb(l))||(s=rE(e,s,l,u,i,a,o))})),s}(e,t,l.path,l.children,r,i,s):(ar(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=oE(e,t,l.path,l.children,r,i,o,s))}else if(n.type===cw.ACK_USER_WRITE){var c=n;a=c.revert?function(e,t,n,r,i,a){var o;if(null!=Kw(r,n))return t;var s,u=new Zw(r,t,i),l=t.eventCache.getNode();if(ub(n)||".priority"===tb(n)){var c;if(t.serverCache.isFullyInitialized())c=qw(r,Cw(t));else{var f=t.serverCache.getNode();ar(f instanceof Hb,"serverChildren would be complete if leaf node"),c=Ww(r,f)}s=e.filter.updateFullNode(l,c,a)}else{var h=tb(n),d=Gw(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=l.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(l,h,d,rb(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(l,h,Hb.EMPTY_NODE,rb(n),u,a):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=qw(r,Cw(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Kw(r,eb()),bw(t,s,o,e.filter.filtersNodes())}(e,t,c.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=Kw(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(ub(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return nE(e,t,n,u.getNode().getChild(n),i,a,s,o);if(ub(n)){var l=new xw(null);return u.getNode().forEachChild(wb,(function(e,t){l=l.set(new Z_(e),t)})),oE(e,t,n,l,i,a,s,o)}return t}var c=new xw(null);return r.foreach((function(e,t){var r=sb(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),oE(e,t,n,c,i,a,s,o)}(e,t,c.path,c.affectedTree,r,i,s)}else{if(n.type!==cw.LISTEN_COMPLETE)throw or("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=ww(t,a.getNode(),a.isFullyInitialized()||ub(n),a.isFiltered());return tE(e,o,n,r,Jw,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Ew(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Jb(Ew(t)))}}(t,a,f),{viewCache:a,changes:f}}function tE(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=Kw(r,n))return t;if(ub(n))if(ar(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Cw(t),c=Ww(r,l instanceof Hb?l:Hb.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{var f=qw(r,Cw(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=tb(n);if(".priority"===h){ar(1===nb(n),"Can't have a priority with additional path components");var d=u.getNode(),p=Hw(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,y=rb(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var m=Hw(r,n,u.getNode(),s);v=null!=m?u.getNode().getImmediateChild(h).updateChild(y,m):u.getNode().getImmediateChild(h)}else v=Gw(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,y,i,a):u.getNode()}}return bw(t,o,u.isFullyInitialized()||ub(n),e.filter.filtersNodes())}function nE(e,t,n,r,i,a,o,s){var u,l=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(ub(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{var h=tb(n);if(!l.isCompleteForPath(n)&&nb(n)>1)return t;var d=rb(n),p=l.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),h,p,d,Jw,null)}var v=ww(t,u,l.isFullyInitialized()||ub(n),c.filtersNodes());return tE(e,v,n,i,new Zw(i,v,a),s)}function rE(e,t,n,r,i,a,o){var s,u,l=t.eventCache,c=new Zw(i,t,a);if(ub(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=bw(t,u,!0,e.filter.filtersNodes());else{var f=tb(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=bw(t,u,l.isFullyInitialized(),l.isFiltered());else{var h,d=rb(n),p=l.getNode().getImmediateChild(f);if(ub(d))h=r;else{var v=c.getCompleteChild(f);h=null!=v?".priority"===ib(d)&&v.getChild(ob(d)).isEmpty()?v:v.updateChild(d,r):Hb.EMPTY_NODE}if(p.equals(h))s=t;else s=bw(t,e.filter.updateChild(l.getNode(),f,h,d,c,o),l.isFullyInitialized(),e.filter.filtersNodes())}}return s}function iE(e,t){return e.eventCache.isCompleteForChild(t)}function aE(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function oE(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=ub(n)?r:new xw(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=aE(0,t.serverCache.getNode().getImmediateChild(n),r);l=nE(e,l,new Z_(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!u){var f=aE(0,t.serverCache.getNode().getImmediateChild(n),r);l=nE(e,l,new Z_(n),f,i,a,o,s)}})),l}var sE;function uE(e,t){var n=Cw(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ub(t)&&!n.getImmediateChild(tb(t)).isEmpty())?n.getChild(t):null}function lE(e,t,n,r){t.type===cw.MERGE&&null!==t.source.queryId&&(ar(Cw(e.viewCache_),"We should always have a full cache before handling merges"),ar(Ew(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=eE(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,ar(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),ar(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),ar(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,cE(e,s.changes,s.viewCache.eventCache.getNode(),null)}function cE(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),kw(e,i,"child_removed",t,r,n),kw(e,i,"child_added",t,r,n),kw(e,i,"child_moved",a,r,n),kw(e,i,"child_changed",t,r,n),kw(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var fE;function hE(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return ar(null!=a,"SyncTree gave us an op for an invalid query."),lE(a,t,n,r)}var o,s=[],u=tr(e.views.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s=s.concat(lE(l,t,n,r))}}catch(c){u.e(c)}finally{u.f()}return s}function dE(e,t){var n,r=null,i=tr(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||uE(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}var pE=Pt((function e(t){Nt(this,e),this.listenProvider_=t,this.syncPointTree_=new xw(null),this.pendingWriteTree_={visibleWrites:Sw.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function vE(e,t,n,r,i){return function(e,t,n,r,i){ar(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Tw(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?_E(e,new yw({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function yE(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(jw(e.pendingWriteTree_,t)){var i=new xw(null);return null!=r.snap?i=i.set(eb(),!0):__(r.children,(function(e){i=i.set(new Z_(e),!0)})),_E(e,new vw(r.path,i,n))}return[]}function mE(e,t,n){return _E(e,new yw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function gE(e,t,n,r){var i=EE(e,r);if(null!=i){var a=CE(i),o=a.path,s=a.queryId,u=lb(o,t);return xE(e,o,new yw(dw(s),u,n))}return[]}function kE(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=dE(n,lb(e,t));if(r)return r}));return Bw(r,t,i,n,!0)}function _E(e,t){return bE(t,e.syncPointTree_,null,Fw(e.pendingWriteTree_,eb()))}function bE(e,t,n,r){if(ub(e.path))return wE(e,t,n,r);var i=t.get(eb());null==n&&null!=i&&(n=dE(i,eb()));var a=[],o=tb(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var l=n?n.getImmediateChild(o):null,c=$w(r,o);a=a.concat(bE(s,u,l,c))}return i&&(a=a.concat(hE(i,e,r,n))),a}function wE(e,t,n,r){var i=t.get(eb());null==n&&null!=i&&(n=dE(i,eb()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=$w(r,t),u=e.operationForChild(t);u&&(a=a.concat(wE(u,i,o,s)))})),i&&(a=a.concat(hE(i,e,r,n))),a}function EE(e,t){return e.tagToQueryMap.get(t)}function CE(e){var t=e.indexOf("$");return ar(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Z_(e.substr(0,t))}}function xE(e,t,n){var r=e.syncPointTree_.get(t);return ar(r,"Missing sync point for query tag that we're tracking"),hE(r,n,Fw(e.pendingWriteTree_,t),null)}var SE=function(){function e(t){Nt(this,e),this.node_=t}return Pt(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),TE=function(){function e(t,n){Nt(this,e),this.syncTree_=t,this.path_=n}return Pt(e,[{key:"getImmediateChild",value:function(t){var n=sb(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return kE(this.syncTree_,this.path_)}}]),e}(),IE=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},NE=function(e,t,n){return e&&"object"===typeof e?(ar(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?RE(e[".sv"],t,n):"object"===typeof e[".sv"]?PE(e[".sv"],t):void ar(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},RE=function(e,t,n){if("timestamp"===e)return n.timestamp;ar(!1,"Unexpected server value: "+e)},PE=function(e,t,n){e.hasOwnProperty("increment")||ar(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&ar(!1,"Unexpected increment value: "+r);var i=t.node();if(ar(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},DE=function(e,t,n,r){return OE(t,new TE(n,e),r)},AE=function(e,t,n){return OE(e,new SE(t),n)};function OE(e,t,n){var r,i=e.getPriority().val(),a=NE(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=NE(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new Lb(s,Gb(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new Lb(a))),u.forEachChild(Ub,(function(e,i){var a=OE(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var LE=Pt((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};Nt(this,e),this.name=t,this.parent=n,this.node=r}));function ME(e,t){for(var n=t instanceof Z_?t:new Z_(t),r=e,i=tb(n);null!==i;){var a=Pr(r.node.children,i)||{children:{},childCount:0};r=new LE(i,r,a),i=tb(n=rb(n))}return r}function FE(e){return e.node.value}function jE(e,t){e.node.value=t,qE(e)}function UE(e){return e.node.childCount>0}function VE(e,t){__(e.node.children,(function(n,r){t(new LE(n,e,r))}))}function zE(e,t,n,r){n&&!r&&t(e),VE(e,(function(e){zE(e,t,!0,r)})),n&&r&&t(e)}function BE(e){return new Z_(null===e.parent?e.name:BE(e.parent)+"/"+e.name)}function qE(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===FE(e)&&!UE(e)}(n),i=Rr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,qE(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,qE(e))}(e.parent,e.name,e)}var WE=/[\[\].#$\/\u0000-\u001F\u007F]/,HE=/[\[\].#$\u0000-\u001F\u007F]/,KE=10485760,QE=function(e){return"string"===typeof e&&0!==e.length&&!WE.test(e)},GE=function(e){return"string"===typeof e&&0!==e.length&&!HE.test(e)},$E=function e(t,n,r){var i=r instanceof Z_?new hb(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+pb(i));if("function"===typeof n)throw new Error(t+"contains a function "+pb(i)+" with contents = "+n.toString());if(h_(n))throw new Error(t+"contains "+n.toString()+" "+pb(i));if("string"===typeof n&&n.length>KE/3&&jr(n)>KE)throw new Error(t+"contains a string greater than "+KE+" utf8 bytes "+pb(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(__(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!QE(n)))throw new Error(t+" contains an invalid key ("+n+") "+pb(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=jr(u),db(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=jr(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+pb(i)+" in addition to actual children.")}},YE=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!QE(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),GE(e)}(n))throw new Error(Fr(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},XE=Pt((function e(){Nt(this,e),this.eventLists_=[],this.recursionDepth_=0}));function JE(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||cb(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function ZE(e,t,n){JE(e,n),eC(e,(function(e){return fb(e,t)||fb(t,e)}))}function eC(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(tC(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function tC(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();i_&&s_("event: "+n.toString()),C_(r)}}}var nC="repo_interrupt",rC=25,iC=function(){function e(t,n,r,i){Nt(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new XE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=sw(),this.transactionQueueTree_=new LE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return Pt(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function aC(e,t,n){if(e.stats_=U_(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new aw(e.repoInfo_,(function(t,n,r,i){uC(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return lC(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ir(n)}catch(UC){throw new Error("Invalid authOverride provided: "+UC)}}e.persistentConnection_=new mb(e.repoInfo_,t,(function(t,n,r,i){uC(e,t,n,r,i)}),(function(t){lC(e,t)}),(function(t){!function(e,t){__(t,(function(t,n){cC(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return j_[n]||(j_[n]=t()),j_[n]}(e.repoInfo_,(function(){return new hw(e.stats_,e.server_)})),e.infoData_=new ow,e.infoSyncTree_=new pE({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=mE(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),cC(e,"connected",!1),e.serverSyncTree_=new pE({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);ZE(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function oC(e){var t=e.infoData_.getNode(new Z_(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function sC(e){return IE({timestamp:oC(e)})}function uC(e,t,n,r,i){e.dataUpdateCount++;var a=new Z_(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=Ar(n,(function(e){return Gb(e)}));o=function(e,t,n,r){var i=EE(e,r);if(i){var a=CE(i),o=a.path,s=a.queryId,u=lb(o,t),l=xw.fromObject(n);return xE(e,o,new mw(dw(s),u,l))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=Gb(n);o=gE(e.serverSyncTree_,a,u,i)}else if(r){var l=Ar(n,(function(e){return Gb(e)}));o=function(e,t,n){var r=xw.fromObject(n);return _E(e,new mw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var c=Gb(n);o=mE(e.serverSyncTree_,a,c)}var f=a;o.length>0&&(f=yC(e,a)),ZE(e.eventQueue_,f,o)}function lC(e,t){cC(e,"connected",t),!1===t&&function(e){dC(e,"onDisconnectEvents");var t=sC(e),n=sw();lw(e.onDisconnect_,eb(),(function(r,i){var a=DE(r,i,e.serverSyncTree_,t);uw(n,r,a)}));var r=[];lw(n,eb(),(function(t,n){r=r.concat(mE(e.serverSyncTree_,t,n));var i=bC(e,t);yC(e,i)})),e.onDisconnect_=sw(),ZE(e.eventQueue_,eb(),r)}(e)}function cC(e,t,n){var r=new Z_("/.info/"+t),i=Gb(n);e.infoData_.updateSnapshot(r,i);var a=mE(e.infoSyncTree_,r,i);ZE(e.eventQueue_,r,a)}function fC(e){return e.nextWriteId_++}function hC(e){e.persistentConnection_&&e.persistentConnection_.interrupt(nC)}function dC(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];s_.apply(void 0,[t].concat(r))}function pC(e,t,n){return kE(e.serverSyncTree_,t,n)||Hb.EMPTY_NODE}function vC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||_C(e,t),FE(t)){var n=gC(e,t);ar(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=pC(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];ar(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=lb(t,u.path);a=a.updateChild(l,u.currentOutputSnapshotRaw)}var c=a.val(!0),f=t;e.server_.put(f.toString(),c,(function(r){dC(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(yE(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);_C(e,ME(e.transactionQueueTree_,t)),vC(e,e.transactionQueueTree_),ZE(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)C_(a[u])}else{if("datastale"===r)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{f_("transaction at "+f.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}yC(e,t)}}),o)}(e,BE(t),n)}else UE(t)&&VE(t,(function(t){vC(e,t)}))}function yC(e,t){var n=mC(e,t),r=BE(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u,l=t[a],c=lb(n,l.path),f=!1;if(ar(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)f=!0,s=l.abortReason,i=i.concat(yE(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=rC)f=!0,s="maxretry",i=i.concat(yE(e.serverSyncTree_,l.currentWriteId,!0));else{var h=pC(e,l.path,o);l.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){$E("transaction failed: Data returned ",d,l.path);var p=Gb(d);"object"===typeof d&&null!=d&&Rr(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=l.currentWriteId,y=sC(e),m=AE(p,h,y);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=m,l.currentWriteId=fC(e),o.splice(o.indexOf(v),1),i=(i=i.concat(vE(e.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally))).concat(yE(e.serverSyncTree_,v,!0))}else f=!0,s="nodata",i=i.concat(yE(e.serverSyncTree_,l.currentWriteId,!0))}ZE(e.eventQueue_,n,i),i=[],f&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},u=0;u<t.length;u++)s(u);_C(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)C_(r[l]);vC(e,e.transactionQueueTree_)}(e,gC(e,n),r),r}function mC(e,t){var n,r=e.transactionQueueTree_;for(n=tb(t);null!==n&&void 0===FE(r);)r=ME(r,n),n=tb(t=rb(t));return r}function gC(e,t){var n=[];return kC(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function kC(e,t,n){var r=FE(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);VE(t,(function(t){kC(e,t,n)}))}function _C(e,t){var n=FE(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,jE(t,n.length>0?n:void 0)}VE(t,(function(t){_C(e,t)}))}function bC(e,t){var n=BE(mC(e,t)),r=ME(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){wC(e,t)})),wC(e,r),zE(r,(function(t){wC(e,t)})),n}function wC(e,t){var n=FE(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(ar(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(ar(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(yE(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?jE(t,void 0):n.length=a+1,ZE(e.eventQueue_,BE(t),i);for(var s=0;s<r.length;s++)C_(r[s])}}var EC=function(e,t){var n=CC(e),r=n.namespace;"firebase.com"===n.domain&&c_(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||c_("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&f_("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new O_(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Z_(n.pathString)}},CC=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(s=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(c,f)),c<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(UC){}t+="/"+i}return t}(e.substring(c,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=tr(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):f_("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(l+1),10)):l=t.length;var d=t.slice(0,l);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},xC="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",SC=(function(){var e=0,t=[]}(),function(){function e(t,n,r,i){Nt(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Pt(e,[{key:"key",get:function(){return ub(this._path)?null:ib(this._path)}},{key:"ref",get:function(){return new TC(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=iw(this._queryParams),t=g_(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return iw(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Ur(t))instanceof e))return!1;var n=this._repo===t._repo,r=cb(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}());var TC=function(e){Sn(n,e);var t=Nn(n);function n(e,r){return Nt(this,n),t.call(this,e,r,new nw,!1)}return Pt(n,[{key:"parent",get:function(){var e=ob(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(SC);!function(e){ar(!sE,"__referenceConstructor has already been defined"),sE=e}(TC),function(e){ar(!fE,"__referenceConstructor has already been defined"),fE=e}(TC);var IC="FIREBASE_DATABASE_EMULATOR_HOST",NC={},RC=!1;function PC(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||c_("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),s_("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=EC(a,i),u=s.repoInfo,l=void 0;"undefined"!==typeof process&&(l={NODE_ENV:"production",PUBLIC_URL:"/ProyectoFinalReact_MaximilianoTrochon",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[IC]),l?(o=!0,a="http://".concat(l,"?ns=").concat(u.namespace),u=(s=EC(a,i)).repoInfo):o=!s.repoInfo.secure;var c=i&&o?new I_(I_.OWNER):new T_(e.name,e.options,t);YE("Invalid Firebase Database URL",s),ub(s.path)||c_("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=NC[t.name];i||(i={},NC[t.name]=i);var a=i[e.toURLString()];a&&c_("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new iC(e,RC,n,r),i[e.toURLString()]=a,a}(u,e,c,new S_(e.name,n));return new DC(f,e)}var DC=function(){function e(t,n){Nt(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Pt(e,[{key:"_repo",get:function(){return this._instanceStarted||(aC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new TC(this._repo,eb())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=NC[t];n&&n[e.key]===e||c_("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),hC(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&c_("Cannot call "+e+" on a deleted database.")}}]),e}();mb.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},mb.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Gk(Pi),Si(new Vr("database",(function(e,t){var n=t.instanceIdentifier;return PC(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Ai(Hk,Kk,e),Ai(Hk,Kk,"esm2017")}();var AC=function(){var t,n=function(){var t=e.useContext(Zg).matches,n=t[t.length-1];return n?n.params:{}}().productId,r=A((0,e.useState)({}),2),i=r[0],a=r[1],o=(0,e.useContext)(lg),s=(o.quitarDeCarrito,o.agregarAlCarrito),l=lm(),c=A((0,e.useState)(""),2),f=c[0],h=c[1],p=A((0,e.useState)(!1),2),v=(p[0],p[1],function(){var e=Jn(Yn().mark((function e(t){var r,a,o;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wm(am(l,"Productos")),e.next=3,ig(r);case 3:return a=e.sent,"",a.forEach((function(e){e.id})),o=om(l,"Productos",n),e.next=9,ag(o,{stock:i.stock-t});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return console.log(f),(0,e.useEffect)((function(){(function(e){e=Jy(e,rm);var t=Jy(e.firestore,um);return Wy(cm(t),e._key).then((function(n){return sg(t,e,n)}))})(om(am(l,"Productos"),n)).then((function(e){a(u({id:e.id},e.data()))})).catch((function(e){return console.log(e)}))}),[]),t="Remera"===i.categoria?"/ProyectoFinalReact_MaximilianoTrochon":"Accesorio"===i.categoria?"/ProyectoFinalReact_MaximilianoTrochon/accesorios":"/ProyectoFinalReact_MaximilianoTrochon/calzado",(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsxs)("div",{className:"col-6 py-1 mt-3 mx-auto itemdetail",children:[(0,d.jsxs)("h1",{children:[i.categoria," ",i.nombre]}),(0,d.jsx)("img",{src:i.urlImagen}),i.stock<0&&null!=i?(0,d.jsx)("p",{style:{color:"red"},children:"Sin stock."}):(0,d.jsxs)("p",{children:["Stock: ",i.stock]}),(0,d.jsxs)("p",{children:["Precio: $",i.precio]}),""===f?(0,d.jsx)(Wk,{inicial:1,stock:i.stock,onAdd:function(e){h(e),s(i,e),v(e)}}):(0,d.jsx)(Rk,{to:"/ProyectoFinalReact_MaximilianoTrochon/cart",className:"btn btn-dark",children:"Ir al Carrito"})]}),(0,d.jsx)(Mk,{className:"boton ",as:Rk,to:t,children:"Volver"}),(0,d.jsx)(qk,{})]})},OC=function(t){var n=t.item,r=(0,e.useContext)(lg).borrarItem;return(0,d.jsxs)("div",{className:"d-flex justify-content-around align-items-center",children:[(0,d.jsx)("img",{src:n.urlImagen,alt:n.nombre,width:"150rem"}),(0,d.jsxs)("p",{children:[n.categoria,": ",n.nombre]}),(0,d.jsxs)("p",{children:["$",n.precio]}),(0,d.jsxs)("p",{children:["Cantidad: ",n.cantidad]}),(0,d.jsxs)("p",{children:["Subtotal $",n.cantidad*n.precio]}),(0,d.jsx)(Mk,{className:"btn btn-danger",onClick:function(){return r(n.id)},children:" Eliminar "})]})},LC=function(){var t=(0,e.useContext)(lg),n=t.carritoItems,r=(t.agregarAlCarrito,t.quitarDeCarrito,t.borrarTodo),i=(t.borrarItem,t.carritoCantidad,t.carritoTotal);return console.log(n),(0,d.jsx)("div",{children:n.length?(0,d.jsxs)("div",{className:"producto",children:[n.map((function(e){return(0,d.jsx)(OC,{item:e},e.id)})),(0,d.jsxs)("p",{children:["Total a pagar: $",i()]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("button",{className:"btn btn-danger",onClick:function(){return r()},children:"Vaciar Carrito"}),(0,d.jsx)(Rk,{className:"btn btn-dark",to:"/ProyectoFinalReact_MaximilianoTrochon/checkout",children:"Terminar compra"})]})]}):(0,d.jsxs)("div",{className:"producto",children:[(0,d.jsx)("h3",{children:"Tu carrito esta vacio."}),(0,d.jsx)(Rk,{className:"btn btn-dark",to:"/ProyectoFinalReact_MaximilianoTrochon/",children:"Volver"})]})})},MC=function(){var t=lm(),n=A((0,e.useState)({}),2),r=n[0],i=n[1],a=A((0,e.useState)(""),2),s=a[0],l=a[1],c=A((0,e.useState)(""),2),f=c[0],h=c[1],p=(0,e.useContext)(lg),v=p.carritoItems,y=p.carritoTotal,m=p.borrarTodo,g=function(e){i(u(u({},r),{},o({},e.target.name,e.target.value)))};return(0,d.jsx)("div",{children:""!==f?(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:"Felicitaciones! Tu orden fue generada con exito"}),(0,d.jsxs)("h2",{children:["Su id de compra es: ",f]}),(0,d.jsx)(Mk,{className:"btn btn-primary",as:Rk,to:"/ProyectoFinalReact_MaximilianoTrochon/",children:"Volver"})]}):(0,d.jsxs)("div",{className:"formulario",children:[(0,d.jsx)("h3",{children:"Llen\xe1 tus datos por favor."}),(0,d.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={usuario:r,item:v,total:y(),fecha:new xm("serverTimestamp")};(function(e,t){var n=Jy(e.firestore,um),r=om(e),i=Xm(e.converter,t);return og(n,[Em(wm(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Eh.exists(!1))]).then((function(){return r}))})(am(t,"Ordenes"),n).then((function(e){h(e.id),m()})).catch((function(e){return console.log(e)}))},children:[(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("label",{className:"form-label",children:"Nombre completo:"}),(0,d.jsx)("input",{type:"text",onChange:g,className:"form-control",placeholder:"Nombre y apellido",name:"name"})]}),(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("label",{className:"form-label",children:"Tel\xe9fono:"}),(0,d.jsx)("input",{type:"numbre",onChange:g,className:"form-control",placeholder:"Celular o fijo",name:"telefono"})]}),(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("label",{className:"form-label",children:"E-mail:"}),(0,d.jsx)("input",{type:"text",onChange:g,className:"form-control",placeholder:"Correo electr\xf3nico",name:"email"})]}),(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("label",{className:"form-label",children:"Repita su E-mail:"}),(0,d.jsx)("input",{type:"text",onChange:function(e){return l(e.target.value)},className:"form-control",placeholder:"Correo electr\xf3nico",name:"email"})]}),(0,d.jsx)("button",{className:"btn btn-dark",disabled:s!=r.email||null===r.name||0===r.telefono,type:"submit",children:"Generar orden"})]})]})})};var FC=function(){return(0,d.jsx)("div",{children:(0,d.jsx)(cg,{children:(0,d.jsxs)(Tk,{children:[(0,d.jsx)("header",{children:(0,d.jsx)(Bk,{})}),(0,d.jsxs)(kk,{children:[(0,d.jsx)(mk,{path:"/ProyectoFinalReact_MaximilianoTrochon/",element:(0,d.jsx)(Vk,{})}),(0,d.jsx)(mk,{path:"/",element:(0,d.jsx)(Vk,{})}),(0,d.jsx)(mk,{path:"/ProyectoFinalReact_MaximilianoTrochon/cart",element:(0,d.jsx)(LC,{})}),(0,d.jsx)(mk,{path:"/ProyectoFinalReact_MaximilianoTrochon/checkout",element:(0,d.jsx)(MC,{})}),(0,d.jsx)(mk,{path:"/ProyectoFinalReact_MaximilianoTrochon/remeras",element:(0,d.jsx)(Vk,{})}),(0,d.jsx)(mk,{path:"/ProyectoFinalReact_MaximilianoTrochon/calzado",element:(0,d.jsx)(zk,{})}),(0,d.jsx)(mk,{path:"/ProyectoFinalReact_MaximilianoTrochon/accesorios",element:(0,d.jsx)(Uk,{})}),(0,d.jsx)(mk,{path:"/ProyectoFinalReact_MaximilianoTrochon/:productId",element:(0,d.jsx)(AC,{})}),(0,d.jsx)(mk,{path:"/ProyectoFinalReact_MaximilianoTrochon/calzado/:productId",element:(0,d.jsx)(AC,{})}),(0,d.jsx)(mk,{path:"/ProyectoFinalReact_MaximilianoTrochon/accesorios/:productId",element:(0,d.jsx)(AC,{})})]})]})})})},jC=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};Ai("firebase","10.5.0","app");Di({apiKey:"AIzaSyAXXRILb3nQPn5qX3m1-Ce5daCkUJkvHyk",authDomain:"finalreact-maximilianotrochon.firebaseapp.com",projectId:"finalreact-maximilianotrochon",storageBucket:"finalreact-maximilianotrochon.appspot.com",messagingSenderId:"742065397373",appId:"1:742065397373:web:491713df9769793e65db14"}),r.createRoot(document.getElementById("root")).render((0,d.jsx)(e.StrictMode,{children:(0,d.jsx)(FC,{})})),jC()}()}();
//# sourceMappingURL=main.c7bbe910.js.map