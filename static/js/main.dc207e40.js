/*! For license information please see main.dc207e40.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,o,s],c=0;(u=new Error(t.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}))};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var s=i||"<<anonymous>>",u=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+u+"` was not specified in `"+s+"`."):null;for(var l=arguments.length,c=Array(l>6?l-6:0),f=6;f<l;f++)c[f-6]=arguments[f];return e.apply(void 0,[n,r,s,a,u].concat(c))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case w:return"Portal";case C:return"Profiler";case x:return"StrictMode";case I:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ee=null,xe=null;function Ce(e){if(e=ki(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=_i(t),we(e.stateNode,e.type,t))}}function Se(e){Ee?xe?xe.push(e):xe=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=xe;if(xe=Ee=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ne(e,t){return e(t)}function Ie(){}var Re=!1;function Pe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ne(e,t,n)}finally{Re=!1,(null!==Ee||null!==xe)&&(Ie(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(c)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){De=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(ce){De=!1}function Le(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,s,u){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Qe=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,wt,Et,xt,Ct,St=!1,Tt=[],Nt=null,It=null,Rt=null,Pt=new Map,Ot=new Map,Dt=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Ct(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){St=!1,null!==Nt&&jt(Nt)&&(Nt=null),null!==It&&jt(It)&&(It=null),null!==Rt&&jt(Rt)&&(Rt=null),Pt.forEach(Ut),Ot.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&zt(Nt,e),null!==It&&zt(It,e),null!==Rt&&zt(Rt,e),Pt.forEach(t),Ot.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Qt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Qt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Qt(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Gt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Mt(Nt,e,t,n,r,i),!0;case"dragenter":return It=Mt(It,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<At.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&_t(a),null===(a=$t(e,t,n,r))&&Wr(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Gt=null;function $t(e,t,n,r){if(Gt=null,null!==(e=gi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),fn=F({},ln,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},ln,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Cn(){return xn}var Sn=F({},fn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),Nn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=an(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Pn),Dn=[9,13,27,32],An=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Mn=c&&"TextEvent"in window&&!Ln,Fn=c&&(!An||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Se(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Qn=null;function Gn(e){jr(e,0)}function $n(e){if(Q(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Qn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Qn)){var t=[];Hn(t,Qn,e,_e(e)),Pe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Qn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==G(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Er={},xr={};function Cr(e){if(Er[e])return Er[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return Er[e]=n[t];return e}c&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Sr=Cr("animationend"),Tr=Cr("animationiteration"),Nr=Cr("animationstart"),Ir=Cr("transitionend"),Rr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Rr.set(e,t),u(t,[e])}for(var Dr=0;Dr<Pr.length;Dr++){var Ar=Pr[Dr];Or(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Or(Sr,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Nr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ir,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=Fe;Me=!1,Fe=null,je||(je=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,l),a=u}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=_e(n),o=[];e:{var s=Rr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=In;break;case Sr:case Tr:case Nr:u=yn;break;case Ir:u=Rn;break;case"scroll":u=hn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&c.push(Hr(p,v,d)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(f=Be(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Nn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==l?s:bi(l),(s=new c(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(h=l,p=0,d=c=u;d;d=Qr(d))p++;for(d=0,v=h;v;v=Qr(v))d++;for(;0<p-d;)c=Qr(c),p--;for(;0<d-p;)h=Qr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Qr(c),h=Qr(h)}c=null}else c=null;null!==u&&Gr(o,s,u,c,!1),null!==l&&null!==f&&Gr(o,f,l,c,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(Wn(s))if(Xn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(An)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!An&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Oe(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=Oe(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function _i(e){return e[di]||null}var wi=[],Ei=-1;function xi(e){return{current:e}}function Ci(e){0>Ei||(e.current=wi[Ei],wi[Ei]=null,Ei--)}function Si(e,t){Ei++,wi[Ei]=e.current,e.current=t}var Ti={},Ni=xi(Ti),Ii=xi(!1),Ri=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ci(Ii),Ci(Ni)}function Ai(e,t,n){if(Ni.current!==Ti)throw Error(a(168));Si(Ni,t),Si(Ii,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ri=Ni.current,Si(Ni,e),Si(Ii,Ii.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ii),Ci(Ni),Si(Ni,e)):Ci(Ii),Si(Ii,n)}var ji=null,Ui=!1,Vi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Qe(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Qi=[],Gi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Qi[Gi++]=Yi,Qi[Gi++]=Xi,Qi[Gi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===$i;)$i=Qi[--Gi],Qi[Gi]=null,Xi=Qi[--Gi],Qi[Gi]=null,Yi=Qi[--Gi],Qi[Gi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ol(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ol(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=li(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=xi(null),ga=null,ka=null,ba=null;function _a(){ba=ka=ga=null}function wa(e){var t=ya.current;Ci(ya),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ca(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Na(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ia(e,r)}function Ia(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Aa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Iu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ia(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ia(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,c=l=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Ra=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=f):c=c.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fu|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Aa(e,a,i))&&(rl(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Aa(e,a,i))&&(rl(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Aa(e,i,r))&&(rl(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ca(a):(i=Oi(t)?Ri:Ni.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ca(a):(a=Oi(t)?Ri:Ni.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ga(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Al(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Ga(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Ll(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ll(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case w:return(t=Ul(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ml(t,e.mode,n,null)).return=e,t;Qa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Qa(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),l;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return ia&&Ji(i,v),l}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),l}function m(i,s,u,l){var c=L(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,l);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?c=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),c;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,l))&&(s=o(g,s,m),null===f?c=g:f.sibling=g,f=g);return ia&&Ji(i,m),c}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?c=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===E){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===O&&Ga(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ka(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===E?((a=Ml(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Ll(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case w:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ul(o,r.mode,u)).return=r,r=a}return s(r);case O:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jl(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=xi(Ja),eo=xi(Ja),to=xi(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Za),Si(Za,t)}function io(){Ci(Za),Ci(eo),Ci(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Si(eo,e),Si(Za,n))}function oo(e){eo.current===e&&(Ci(Za),Ci(eo))}var so=xi(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,_o=0;function wo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function xo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=ls,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Co(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function No(e,t){return"function"===typeof t?t(e):t}function Io(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var f=c.lane;if((po&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=h,s=r):l=l.next=h,vo.lanes|=f,Fu|=f}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Oo(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Ao.bind(null,n,r,i,t),void 0,null),null===Ru)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ao(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fo(e){var t=Ia(e,1);null!==t&&rl(t,e,1,-1)}function jo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ho(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Qo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Go(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Qo.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Fu|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Na(e,t,n,r))){rl(n,e,r,tl()),as(n,t,r)}}function ns(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Na(e,t,i,r))&&(rl(n,e,r,i=tl()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ca,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},ss={readContext:Ca,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:jo,useDebugValue:$o,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ru)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Ao.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Ru.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ca,useCallback:Yo,useContext:Ca,useEffect:Wo,useImperativeHandle:Go,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:Io,useRef:Vo,useState:function(){return Io(No)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[Io(No)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1},ls={readContext:Ca,useCallback:Yo,useContext:Ca,useEffect:Wo,useImperativeHandle:Go,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:Ro,useRef:Vo,useState:function(){return Ro(No)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ro(No)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Ku=r),hs(0,t)},n}function vs(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Qu?Qu=new Set([this]):Qu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sl.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Aa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function _s(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return xa(t,i),r=xo(e,t,n,r,a,i),n=Co(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,_s(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Es(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ll(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,xs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Al(a,r)).ref=t.ref,e.return=t,t.child=e}function xs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Ts(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Au,Du),Du|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Au,Du),Du|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Au,Du),Du|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Au,Du),Du|=r;return _s(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Oi(n)?Ri:Ni.current;return a=Pi(t,a),xa(t,i),n=xo(e,t,n,r,a,i),r=Co(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,_s(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ns(e,t,n,r,i){if(Oi(n)){var a=!0;Mi(t)}else a=!1;if(xa(t,i),null===t.stateNode)Ws(e,t),qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ca(l):l=Pi(t,l=Oi(n)?Ri:Ni.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Wa(t,o,r,l),Ra=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ii.current||Ra?("function"===typeof c&&(Va(t,n,c,r),u=t.memoizedState),(s=Ra||Ba(t,n,s,r,h,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ma(t.type,s),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ca(u):u=Pi(t,u=Oi(n)?Ri:Ni.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Wa(t,o,r,u),Ra=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ii.current||Ra?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(l=Ra||Ba(t,n,l,r,h,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Is(e,t,n,r,a,i)}function Is(e,t,n,r,i,a){Ss(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Hs(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):_s(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Rs(e){var t=e.stateNode;t.pendingContext?Ai(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ai(0,t.context,!1),ro(e,t.containerInfo)}function Ps(e,t,n,r,i){return da(),pa(i),t.flags|=256,_s(e,t,n,r),t.child}var Os,Ds,As,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Fl(u,i,0,null),e=Ml(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ms,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fl({mode:"visible",children:r.children},i,0,null),(o=Ml(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Ru)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ia(e,i),rl(r,e,i,-1))}return ml(),Vs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Nl.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Qi[Gi++]=Yi,Qi[Gi++]=Xi,Qi[Gi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Al(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Al(r,s):(s=Ml(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Fs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Al(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Fl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(_s(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Al(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Al(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qs(t),null;case 1:case 17:return Oi(t.type)&&Di(),Qs(t),null;case 3:return r=t.stateNode,io(),Ci(Ii),Ci(Ni),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sl(aa),aa=null))),Ds(e,t),Qs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)As(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Qs(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Os(e,t,!1,!1),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Ur("scroll",e):null!=c&&k(e,o,c,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Qs(t),null;case 13:if(Ci(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qs(t),o=!1}else null!==aa&&(sl(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):ml())),null!==t.updateQueue&&(t.flags|=4),Qs(t),null);case 4:return io(),Ds(e,t),null===e&&Br(t.stateNode.containerInfo),Qs(t),null;case 10:return wa(t.type._context),Qs(t),null;case 19:if(Ci(so),null===(o=t.memoizedState))return Qs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ks(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ks(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qu&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Qs(t),null}else 2*Xe()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Si(so,r?1&n|2:1&n),t):(Qs(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Du)&&(Qs(t),6&t.subtreeFlags&&(t.flags|=8192)):Qs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $s(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ci(Ii),Ci(Ni),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ci(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(so),null;case 4:return io(),null;case 10:return wa(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},As=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Ur("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cl(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Cl(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Xs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cl(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,du(e,t,n),Xs=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Il.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Cl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),gu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Cl(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Cl(e,e.return,m)}}break;case 1:mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Cl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),ke(u,s);var c=ke(u,o);for(s=0;s<l.length;s+=2){var f=l[s],h=l[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,c)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Cl(e,e.return,m)}}break;case 6:if(mu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Cl(e,e.return,m)}}break;case 3:if(mu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Cl(e,e.return,m)}break;case 4:default:mu(t,e),gu(e);break;case 13:mu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Xe())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(c=Xs)||f,mu(t,e),Xs=c):mu(t,e),gu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Cl(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Zs=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(m){Cl(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Cl(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),gu(e),4&r&&vu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;lu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Cl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ku(e,t,n){Zs=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Ys;var l=Xs;if(Ys=o,(Xs=u)&&!l)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?Eu(i):null!==u?(u.return=o,Zs=u):Eu(i);for(;null!==a;)Zs=a,bu(a,t,n),a=a.sibling;Zs=i,Ys=s,Xs=l}_u(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):_u(e)}}function _u(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&au(t)}catch(d){Cl(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function wu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function Eu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Cl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Cl(t,i,u)}}var a=t.return;try{au(t)}catch(u){Cl(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Cl(t,o,u)}}}catch(u){Cl(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var xu,Cu=Math.ceil,Su=b.ReactCurrentDispatcher,Tu=b.ReactCurrentOwner,Nu=b.ReactCurrentBatchConfig,Iu=0,Ru=null,Pu=null,Ou=0,Du=0,Au=xi(0),Lu=0,Mu=null,Fu=0,ju=0,Uu=0,Vu=null,zu=null,Bu=0,qu=1/0,Wu=null,Hu=!1,Ku=null,Qu=null,Gu=!1,$u=null,Yu=0,Xu=0,Ju=null,Zu=-1,el=0;function tl(){return 0!==(6&Iu)?Xe():-1!==Zu?Zu:Zu=Xe()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Iu)&&0!==Ou?Ou&-Ou:null!==va.transition?(0===el&&(el=vt()),el):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rl(e,t,n,r){if(50<Xu)throw Xu=0,Ju=null,Error(a(185));yt(e,n,r),0!==(2&Iu)&&e===Ru||(e===Ru&&(0===(2&Iu)&&(ju|=n),4===Lu&&ul(e,Ou)),il(e,r),1===n&&0===Iu&&0===(1&t.mode)&&(qu=Xe()+500,Ui&&Bi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Ru?Ou:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(ll.bind(null,e)):zi(ll.bind(null,e)),oi((function(){0===(6&Iu)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rl(n,al.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function al(e,t){if(Zu=-1,el=0,0!==(6&Iu))throw Error(a(327));var n=e.callbackNode;if(El()&&e.callbackNode!==n)return null;var r=ht(e,e===Ru?Ou:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yl(e,r);else{t=r;var i=Iu;Iu|=2;var o=vl();for(Ru===e&&Ou===t||(Wu=null,qu=Xe()+500,dl(e,t));;)try{kl();break}catch(u){pl(e,u)}_a(),Su.current=o,Iu=i,null!==Pu?t=0:(Ru=null,Ou=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Mu,dl(e,0),ul(e,r),il(e,Xe()),n;if(6===t)ul(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yl(e,r))&&(0!==(o=pt(e))&&(r=o,t=ol(e,o))),1===t))throw n=Mu,dl(e,0),ul(e,r),il(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wl(e,zu,Wu);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=Bu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wl.bind(null,e,zu,Wu),t);break}wl(e,zu,Wu);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cu(r/1960))-r)){e.timeoutHandle=ri(wl.bind(null,e,zu,Wu),r);break}wl(e,zu,Wu);break;default:throw Error(a(329))}}}return il(e,Xe()),e.callbackNode===n?al.bind(null,e):null}function ol(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=yl(e,t))&&(t=zu,zu=n,null!==t&&sl(t)),e}function sl(e){null===zu?zu=e:zu.push.apply(zu,e)}function ul(e,t){for(t&=~Uu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Iu))throw Error(a(327));El();var t=ht(e,0);if(0===(1&t))return il(e,Xe()),null;var n=yl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Mu,dl(e,0),ul(e,t),il(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,zu,Wu),il(e,Xe()),null}function cl(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&(qu=Xe()+500,Ui&&Bi())}}function fl(e){null!==$u&&0===$u.tag&&0===(6&Iu)&&El();var t=Iu;Iu|=1;var n=Nu.transition,r=kt;try{if(Nu.transition=null,kt=1,e)return e()}finally{kt=r,Nu.transition=n,0===(6&(Iu=t))&&Bi()}}function hl(){Du=Au.current,Ci(Au)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ci(Ii),Ci(Ni),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ci(so);break;case 10:wa(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Ru=e,Pu=e=Al(e.current,null),Ou=Du=t,Lu=0,Mu=null,Uu=ju=Fu=0,zu=Vu=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function pl(e,t){for(;;){var n=Pu;try{if(_a(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Tu.current=null,null===n||null===n.return){Lu=1,Mu=t,Pu=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Ou,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){ms(o,c,t),ml();break e}l=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(cs(l,u));break e}}o=l=cs(l,u),4!==Lu&&(Lu=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,l,t));break e;case 1:u=l;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Qu||!Qu.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}_l(n)}catch(b){t=b,Pu===n&&null!==n&&(Pu=n=n.return);continue}break}}function vl(){var e=Su.current;return Su.current=os,null===e?os:e}function ml(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Ru||0===(268435455&Fu)&&0===(268435455&ju)||ul(Ru,Ou)}function yl(e,t){var n=Iu;Iu|=2;var r=vl();for(Ru===e&&Ou===t||(Wu=null,dl(e,t));;)try{gl();break}catch(i){pl(e,i)}if(_a(),Iu=n,Su.current=r,null!==Pu)throw Error(a(261));return Ru=null,Ou=0,Lu}function gl(){for(;null!==Pu;)bl(Pu)}function kl(){for(;null!==Pu&&!$e();)bl(Pu)}function bl(e){var t=xu(e.alternate,e,Du);e.memoizedProps=e.pendingProps,null===t?_l(e):Pu=t,Tu.current=null}function _l(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Du)))return void(Pu=n)}else{if(null!==(n=$s(n,t)))return n.flags&=32767,void(Pu=n);if(null===e)return Lu=6,void(Pu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Lu&&(Lu=5)}function wl(e,t,n){var r=kt,i=Nu.transition;try{Nu.transition=null,kt=1,function(e,t,n,r){do{El()}while(null!==$u);if(0!==(6&Iu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ru&&(Pu=Ru=null,Ou=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Rl(tt,(function(){return El(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Nu.transition,Nu.transition=null;var s=kt;kt=1;var u=Iu;Iu|=4,Tu.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(u=s),d===o&&++f===r&&(l=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(_){Cl(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),yu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,ku(n,e,i),Ye(),Iu=u,kt=s,Nu.transition=o}else e.current=n;if(Gu&&(Gu=!1,$u=e,Yu=i),o=e.pendingLanes,0===o&&(Qu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Ku,Ku=null,e;0!==(1&Yu)&&0!==e.tag&&El(),o=e.pendingLanes,0!==(1&o)?e===Ju?Xu++:(Xu=0,Ju=e):Xu=0,Bi()}(e,t,n,r)}finally{Nu.transition=i,kt=r}return null}function El(){if(null!==$u){var e=bt(Yu),t=Nu.transition,n=kt;try{if(Nu.transition=null,kt=16>e?16:e,null===$u)var r=!1;else{if(e=$u,$u=null,Yu=0,0!==(6&Iu))throw Error(a(331));var i=Iu;for(Iu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Zs=c;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(ou(f),f===c){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zs=g;break e}Zs=o.return}}var k=e.current;for(Zs=k;null!==Zs;){var b=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Zs=b;else e:for(s=k;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(w){Cl(u,u.return,w)}if(u===s){Zs=null;break e}var _=u.sibling;if(null!==_){_.return=u.return,Zs=_;break e}Zs=u.return}}if(Iu=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{kt=n,Nu.transition=t}}return!1}function xl(e,t,n){e=Aa(e,t=ps(0,t=cs(n,t),1),1),t=tl(),null!==e&&(yt(e,1,t),il(e,t))}function Cl(e,t,n){if(3===e.tag)xl(e,e,n);else for(;null!==t;){if(3===t.tag){xl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Qu||!Qu.has(r))){t=Aa(t,e=vs(t,e=cs(n,e),1),1),e=tl(),null!==t&&(yt(t,1,e),il(t,e));break}}t=t.return}}function Sl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Ou&n)===n&&(4===Lu||3===Lu&&(130023424&Ou)===Ou&&500>Xe()-Bu?dl(e,0):Uu|=n),il(e,t)}function Tl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=Ia(e,t))&&(yt(e,t,n),il(e,n))}function Nl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tl(e,n)}function Il(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tl(e,n)}function Rl(e,t){return Qe(e,t)}function Pl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ol(e,t,n,r){return new Pl(e,t,n,r)}function Dl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Al(e,t){var n=e.alternate;return null===n?((n=Ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Dl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Ml(n.children,i,o,t);case x:s=8,i|=8;break;case C:return(e=Ol(12,n,t,2|i)).elementType=C,e.lanes=o,e;case I:return(e=Ol(13,n,t,i)).elementType=I,e.lanes=o,e;case R:return(e=Ol(19,n,t,i)).elementType=R,e.lanes=o,e;case D:return Fl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case T:s=9;break e;case N:s=11;break e;case P:s=14;break e;case O:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ol(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ml(e,t,n,r){return(e=Ol(7,e,r,t)).lanes=n,e}function Fl(e,t,n,r){return(e=Ol(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function jl(e,t,n){return(e=Ol(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Ol(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zl(e,t,n,r,i,a,o,s,u){return e=new Vl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ol(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function Bl(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function ql(e,t,n,r,i,a,o,s,u){return(e=zl(n,r,!0,e,0,a,0,s,u)).context=Bl(null),n=e.current,(a=Da(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Aa(n,a,i),e.current.lanes=i,yt(e,i,r),il(e,r),e}function Wl(e,t,n,r){var i=t.current,a=tl(),o=nl(i);return n=Bl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Aa(i,t,o))&&(rl(e,i,o,a),La(e,i,o)),o}function Hl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ql(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Rs(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Si(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Si(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Pi(t,Ni.current);xa(t,n),i=xo(null,t,r,e,i,n);var o=Co();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Is(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),_s(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=Es(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Rs(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ss(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Si(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ii.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Da(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ea(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ea(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}_s(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xa(t,n),r=r(i=Ca(i)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Es(e,t,r,i=ma(r.type,i),n);case 15:return xs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ws(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,xa(t,n),qa(t,r,i),Ha(t,r,i,n),Is(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Cs(e,t,n)}throw Error(a(156,t.tag))};var Gl="function"===typeof reportError?reportError:function(e){console.error(e)};function $l(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hl(o);s.call(e)}}Wl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hl(o);a.call(e)}}var o=ql(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hl(u);s.call(e)}}var u=zl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),fl((function(){Wl(t,u,n,r)})),u}(n,t,e,i,r);return Hl(o)}Yl.prototype.render=$l.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wl(e,t,null,null)},Yl.prototype.unmount=$l.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fl((function(){Wl(null,e,null,null)})),t[pi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),il(t,Xe()),0===(6&Iu)&&(qu=Xe()+500,Bi()))}break;case 13:fl((function(){var t=Ia(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Ql(e,1)}},wt=function(e){if(13===e.tag){var t=Ia(e,134217728);if(null!==t)rl(t,e,134217728,tl());Ql(e,134217728)}},Et=function(e){if(13===e.tag){var t=nl(e),n=Ia(e,t);if(null!==n)rl(n,e,t,tl());Ql(e,t)}},xt=function(){return kt},Ct=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(a(90));Q(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=cl,Ie=fl;var tc={usingClientEntryPoint:!1,Events:[ki,bi,_i,Se,Te,cl]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(a(299));var n=!1,r="",i=Gl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $l(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return fl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Gl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=ql(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(fl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var _=Array.isArray,w=Object.prototype.hasOwnProperty,E={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!x.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:E.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+N(u,0):a,_(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),I(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",_(e))for(var l=0;l<e.length;l++){var c=a+N(s=e[l],l);u+=I(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=I(s=s.value,t,i,c=a+N(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},D={transition:null},A={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:D,ReactCurrentOwner:E};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function _(e){if(m=!1,b(e),!v)if(null!==r(l))v=!0,D(w);else{var t=r(c);null!==t&&A(_,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!I());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(l)&&i(l),b(n)}else i(l);h=r(l)}if(null!==h)var u=!0;else{var f=r(c);null!==f&&A(_,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,x=!1,C=null,S=-1,T=5,N=-1;function I(){return!(t.unstable_now()-N<T)}function R(){if(null!==C){var e=t.unstable_now();N=e;var n=!0;try{n=C(!0,e)}finally{n?E():(x=!1,C=null)}}else x=!1}if("function"===typeof k)E=function(){k(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=R,E=function(){O.postMessage(null)}}else E=function(){y(R,0)};function D(e){C=e,x||(x=!0,E())}function A(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(g(S),S=-1):m=!0,A(_,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,D(w))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},391:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".deeec6c3.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="main:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/ProyectoFinalReact_MaximilianoTrochon/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkmain=self.webpackChunkmain||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(791),t=n.t(e,2),r=n(250);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}function o(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function c(e,t){if(null==e)return{};var n,r,i=l(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var f=n(694),h=n.n(f),d=n(184),p=["xxl","xl","lg","md","sm","xs"],v=e.createContext({prefixes:{},breakpoints:p,minBreakpoint:"xs"});v.Consumer,v.Provider;function m(t,n){var r=(0,e.useContext)(v).prefixes;return t||r[n]||n}var y=["bsPrefix","fluid","as","className"],g=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=void 0!==r&&r,a=e.as,o=void 0===a?"div":a,s=e.className,l=c(e,y),f=m(n,"container"),p="string"===typeof i?"-".concat(i):"-fluid";return(0,d.jsx)(o,u(u({ref:t},l),{},{className:h()(s,i?"".concat(f).concat(p):f)}))}));g.displayName="Container";var k=g;n(573);function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}n(176);function _(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function w(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function E(t,n){return Object.keys(n).reduce((function(r,i){var a,o=r,s=o[_(i)],u=o[i],c=l(o,[_(i),i].map(w)),f=n[i],h=function(t,n,r){var i=(0,e.useRef)(void 0!==t),a=(0,e.useState)(n),o=a[0],s=a[1],u=void 0!==t,l=i.current;return i.current=u,!u&&l&&o!==n&&s(n),[u?t:o,(0,e.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}(u,s,t[f]),d=h[0],p=h[1];return b({},c,((a={})[i]=d,a[f]=p,a))}),t)}function x(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function C(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function S(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}x.__suppressDeprecationWarning=!0,C.__suppressDeprecationWarning=!0,S.__suppressDeprecationWarning=!0;var T=Function.prototype.bind.call(Function.prototype.call,[].slice);function N(e,t){return T(e.querySelectorAll(t))}function I(e){if(Array.isArray(e))return e}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){if(e){if("string"===typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(e,t){return I(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||P(e,t)||O()}function A(){return D((0,e.useReducer)((function(e){return!e}),!1),2)[1]}var L=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var M=function(t,n){return(0,e.useMemo)((function(){return function(e,t){var n=L(e),r=L(t);return function(e){n&&n(e),r&&r(e)}}(t,n)}),[t,n])},F=e.createContext(null);F.displayName="NavContext";var j=F,U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},V=e.createContext(null),z=e.createContext(null),B="data-rr-ui-";function q(e){return"".concat(B).concat(e)}var W=function(t){var n=(0,e.useRef)(t);return(0,e.useEffect)((function(){n.current=t}),[t]),n};function H(t){var n=W(t);return(0,e.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var K=["as","disabled"];function Q(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,s=e.onClick,u=e.tabIndex,l=void 0===u?0:u,c=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var f={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},f];var h=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:h,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),h(e))}},f]}var G=e.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,K),a=D(Q(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,d.jsx)(s,Object.assign({},i,o,{ref:t}))}));G.displayName="Button";var $=G,Y=["as","active","eventKey"];function X(t){var n=t.key,r=t.onClick,i=t.active,a=t.id,o=t.role,s=t.disabled,u=(0,e.useContext)(V),l=(0,e.useContext)(j),c=(0,e.useContext)(z),f=i,h={role:o};if(l){o||"tablist"!==l.role||(h.role="tab");var d=l.getControllerId(null!=n?n:null),p=l.getControlledId(null!=n?n:null);h[q("event-key")]=n,h.id=d||a,!(f=null==i&&null!=n?l.activeKey===n:i)&&(null!=c&&c.unmountOnExit||null!=c&&c.mountOnEnter)||(h["aria-controls"]=p)}return"tab"===h.role&&(h["aria-selected"]=f,f||(h.tabIndex=-1),s&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=H((function(e){s||(null==r||r(e),null!=n&&u&&!e.isPropagationStopped()&&u(n,e))})),[h,{isActive:f}]}var J=e.forwardRef((function(e,t){var n=e.as,r=void 0===n?$:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Y),s=D(X(Object.assign({key:U(a,o.href),active:i},o)),2),u=s[0],l=s[1];return u[q("active")]=l.isActive,(0,d.jsx)(r,Object.assign({},o,u,{ref:t}))}));J.displayName="NavItem";var Z=J,ee=["as","onSelect","activeKey","role","onKeyDown"];var te=function(){},ne=q("event-key"),re=e.forwardRef((function(t,n){var r,i,a=t.as,o=void 0===a?"div":a,s=t.onSelect,u=t.activeKey,l=t.role,c=t.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,ee),h=A(),p=(0,e.useRef)(!1),v=(0,e.useContext)(V),m=(0,e.useContext)(z);m&&(l=l||"tablist",u=m.activeKey,r=m.getControlledId,i=m.getControllerId);var y=(0,e.useRef)(null),g=function(e){var t=y.current;if(!t)return null;var n=N(t,"[".concat(ne,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},k=function(e,t){null!=e&&(null==s||s(e,t),null==v||v(e,t))};(0,e.useEffect)((function(){if(y.current&&p.current){var e=y.current.querySelector("[".concat(ne,"][aria-selected=true]"));null==e||e.focus()}p.current=!1}));var b=M(n,y);return(0,d.jsx)(V.Provider,{value:k,children:(0,d.jsx)(j.Provider,{value:{role:l,activeKey:U(u),getControlledId:r||te,getControllerId:i||te},children:(0,d.jsx)(o,Object.assign({},f,{onKeyDown:function(e){if(null==c||c(e),m){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=g(-1);break;case"ArrowRight":case"ArrowDown":t=g(1);break;default:return}if(t)e.preventDefault(),k(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),p.current=!0,h()}},ref:b,role:l}))})})}));re.displayName="Nav";var ie=Object.assign(re,{Item:Z}),ae=e.createContext(null);ae.displayName="NavbarContext";var oe=ae,se=e.createContext(null);se.displayName="CardHeaderContext";var ue=se,le=["className","bsPrefix","as"],ce=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,a=void 0===i?"div":i,o=c(e,le);return r=m(r,"nav-item"),(0,d.jsx)(a,u({ref:t,className:h()(n,r)},o))}));ce.displayName="NavItem";var fe=ce;function he(){var t=(0,e.useRef)(!0),n=(0,e.useRef)((function(){return t.current}));return(0,e.useEffect)((function(){return t.current=!0,function(){t.current=!1}}),[]),n.current}function de(t){var n=(0,e.useRef)(null);return(0,e.useEffect)((function(){n.current=t})),n.current}var pe="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,ve="undefined"!==typeof document||pe?e.useLayoutEffect:e.useEffect;new WeakMap;var me=["onKeyDown"];var ye=e.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,me),a=D(Q(Object.assign({tagName:"a"},i)),1)[0],o=H((function(e){a.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,d.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,d.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));ye.displayName="Anchor";var ge=ye,ke=["bsPrefix","className","as","active","eventKey","disabled"],be=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?ge:i,o=e.active,s=e.eventKey,l=e.disabled,f=void 0!==l&&l,p=c(e,ke);n=m(n,"nav-link");var v=D(X(u({key:U(s,p.href),active:o,disabled:f},p)),2),y=v[0],g=v[1];return(0,d.jsx)(a,u(u(u({},p),y),{},{ref:t,disabled:f,className:h()(r,n,f&&"disabled",g.isActive&&"active")}))}));be.displayName="NavLink";var _e=be,we=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],Ee=e.forwardRef((function(t,n){var r,i,a,s=E(t,{activeKey:"onSelect"}),l=s.as,f=void 0===l?"div":l,p=s.bsPrefix,v=s.variant,y=s.fill,g=void 0!==y&&y,k=s.justify,b=void 0!==k&&k,_=s.navbar,w=s.navbarScroll,x=s.className,C=s.activeKey,S=c(s,we),T=m(p,"nav"),N=!1,I=(0,e.useContext)(oe),R=(0,e.useContext)(ue);return I?(i=I.bsPrefix,N=null==_||_):R&&(a=R.cardHeaderBsPrefix),(0,d.jsx)(ie,u({as:f,ref:n,activeKey:C,className:h()(x,(r={},o(r,T,!N),o(r,"".concat(i,"-nav"),N),o(r,"".concat(i,"-nav-scroll"),N&&w),o(r,"".concat(a,"-").concat(v),!!a),o(r,"".concat(T,"-").concat(v),!!v),o(r,"".concat(T,"-fill"),g),o(r,"".concat(T,"-justified"),b),r))},S))}));Ee.displayName="Nav";var xe=Object.assign(Ee,{Item:fe,Link:_e}),Ce=["bsPrefix","className","as"],Se=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=c(e,Ce);n=m(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,d.jsx)(o,u(u({},a),{},{ref:t,className:h()(r,n)}))}));Se.displayName="NavbarBrand";var Te=Se;function Ne(e){return e&&e.ownerDocument||document}function Ie(e,t){return function(e){var t=Ne(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Re=/([A-Z])/g;var Pe=/^ms-/;function Oe(e){return function(e){return e.replace(Re,"-$1").toLowerCase()}(e).replace(Pe,"-ms-")}var De=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Ae=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Oe(t))||Ie(e).getPropertyValue(Oe(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!De.test(e))}(i)?n+=Oe(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(Oe(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function Le(e,t){return Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Le(e,t)}var Me=n(164),Fe=!1,je=e.createContext(null),Ue="unmounted",Ve="exited",ze="entering",Be="entered",qe="exiting",We=function(t){var n,r;function i(e,n){var r;r=t.call(this,e,n)||this;var i,a=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?a?(i=Ve,r.appearStatus=ze):i=Be:i=e.unmountOnExit||e.mountOnEnter?Ue:Ve,r.state={status:i},r.nextCallback=null,r}r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,Le(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Ue?{status:Ve}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==ze&&n!==Be&&(t=ze):n!==ze&&n!==Be||(t=qe)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===ze){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Me.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ve&&this.setState({status:Ue})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Me.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||Fe?this.safeSetState({status:Be},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:ze},(function(){t.props.onEntering(a,o),t.onTransitionEnd(u,(function(){t.safeSetState({status:Be},(function(){t.props.onEntered(a,o)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Me.findDOMNode(this);t&&!Fe?(this.props.onExit(r),this.safeSetState({status:qe},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Ve},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Ve},(function(){e.props.onExited(r)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Me.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var t=this.state.status;if(t===Ue)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,l(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(je.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},i}(e.Component);function He(){}We.contextType=je,We.propTypes={},We.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:He,onEntering:He,onEntered:He,onExit:He,onExiting:He,onExited:He},We.UNMOUNTED=Ue,We.EXITED=Ve,We.ENTERING=ze,We.ENTERED=Be,We.EXITING=qe;var Ke=We,Qe=!("undefined"===typeof window||!window.document||!window.document.createElement),Ge=!1,$e=!1;try{var Ye={get passive(){return Ge=!0},get once(){return $e=Ge=!0}};Qe&&(window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,!0))}catch(bT){}var Xe=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!$e){var i=r.once,a=r.capture,o=n;!$e&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,Ge?r:a)}e.addEventListener(t,n,r)};var Je=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var Ze=function(e,t,n,r){return Xe(e,t,n,r),function(){Je(e,t,n,r)}};function et(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=Ze(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function tt(e,t,n,r){null==n&&(n=function(e){var t=Ae(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=et(e,n,r),a=Ze(e,"transitionend",t);return function(){i(),a()}}function nt(e,t){var n=Ae(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function rt(e,t){var n=nt(e,"transitionDuration"),r=nt(e,"transitionDelay"),i=tt(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var it=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function at(e){e.offsetHeight}var ot,st=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],ut=e.forwardRef((function(t,n){var r=t.onEnter,i=t.onEntering,a=t.onEntered,o=t.onExit,s=t.onExiting,l=t.onExited,f=t.addEndListener,h=t.children,p=t.childRef,v=c(t,st),m=(0,e.useRef)(null),y=M(m,p),g=function(e){var t;y((t=e)&&"setState"in t?Me.findDOMNode(t):null!=t?t:null)},k=function(e){return function(t){e&&m.current&&e(m.current,t)}},b=(0,e.useCallback)(k(r),[r]),_=(0,e.useCallback)(k(i),[i]),w=(0,e.useCallback)(k(a),[a]),E=(0,e.useCallback)(k(o),[o]),x=(0,e.useCallback)(k(s),[s]),C=(0,e.useCallback)(k(l),[l]),S=(0,e.useCallback)(k(f),[f]);return(0,d.jsx)(Ke,u(u({ref:n},v),{},{onEnter:b,onEntered:w,onEntering:_,onExit:E,onExited:C,onExiting:x,addEndListener:S,nodeRef:m,children:"function"===typeof h?function(e,t){return h(e,u(u({},t),{},{ref:g}))}:e.cloneElement(h,{ref:g})}))})),lt=ut,ct=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","in","timeout","mountOnEnter","unmountOnExit","appear","getDimensionValue"],ft={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function ht(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=ft[e];return n+parseInt(Ae(t,r[0]),10)+parseInt(Ae(t,r[1]),10)}var dt=(o(ot={},Ve,"collapse"),o(ot,qe,"collapsing"),o(ot,ze,"collapsing"),o(ot,Be,"collapse show"),ot),pt=e.forwardRef((function(t,n){var r=t.onEnter,i=t.onEntering,a=t.onEntered,o=t.onExit,s=t.onExiting,l=t.className,f=t.children,p=t.dimension,v=void 0===p?"height":p,m=t.in,y=void 0!==m&&m,g=t.timeout,k=void 0===g?300:g,b=t.mountOnEnter,_=void 0!==b&&b,w=t.unmountOnExit,E=void 0!==w&&w,x=t.appear,C=void 0!==x&&x,S=t.getDimensionValue,T=void 0===S?ht:S,N=c(t,ct),I="function"===typeof v?v():v,R=(0,e.useMemo)((function(){return it((function(e){e.style[I]="0"}),r)}),[I,r]),P=(0,e.useMemo)((function(){return it((function(e){var t="scroll".concat(I[0].toUpperCase()).concat(I.slice(1));e.style[I]="".concat(e[t],"px")}),i)}),[I,i]),O=(0,e.useMemo)((function(){return it((function(e){e.style[I]=null}),a)}),[I,a]),D=(0,e.useMemo)((function(){return it((function(e){e.style[I]="".concat(T(I,e),"px"),at(e)}),o)}),[o,T,I]),A=(0,e.useMemo)((function(){return it((function(e){e.style[I]=null}),s)}),[I,s]);return(0,d.jsx)(lt,u(u({ref:n,addEndListener:rt},N),{},{"aria-expanded":N.role?y:null,onEnter:R,onEntering:P,onEntered:O,onExit:D,onExiting:A,childRef:f.ref,in:y,timeout:k,mountOnEnter:_,unmountOnExit:E,appear:C,children:function(t,n){return e.cloneElement(f,u(u({},n),{},{className:h()(l,f.props.className,dt[t],"width"===I&&"collapse-horizontal")}))}}))})),vt=pt,mt=["children","bsPrefix"],yt=e.forwardRef((function(t,n){var r=t.children,i=t.bsPrefix,a=c(t,mt);i=m(i,"navbar-collapse");var o=(0,e.useContext)(oe);return(0,d.jsx)(vt,u(u({in:!(!o||!o.expanded)},a),{},{children:(0,d.jsx)("div",{ref:n,className:i,children:r})}))}));yt.displayName="NavbarCollapse";var gt=yt,kt=["bsPrefix","className","children","label","as","onClick"],bt=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,a=t.children,o=t.label,s=void 0===o?"Toggle navigation":o,l=t.as,f=void 0===l?"button":l,p=t.onClick,v=c(t,kt);r=m(r,"navbar-toggler");var y=(0,e.useContext)(oe)||{},g=y.onToggle,k=y.expanded,b=H((function(e){p&&p(e),g&&g()}));return"button"===f&&(v.type="button"),(0,d.jsx)(f,u(u({},v),{},{ref:n,onClick:b,"aria-label":s,className:h()(i,r,!k&&"collapsed"),children:a||(0,d.jsx)("span",{className:"".concat(r,"-icon")})}))}));bt.displayName="NavbarToggle";var _t=bt,wt=new WeakMap,Et=function(e,t){if(e&&t){var n=wt.get(t)||new Map;wt.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function xt(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window,r=Et(t,n),i=D((0,e.useState)((function(){return!!r&&r.matches})),2),a=i[0],o=i[1];return ve((function(){var e=Et(t,n);if(!e)return o(!1);var r=wt.get(n),i=function(){o(e.matches)};return e.refCount++,e.addListener(i),i(),function(){e.removeListener(i),e.refCount--,e.refCount<=0&&(null==r||r.delete(e.media)),e=void 0}}),[t]),a}var Ct=function(t){var n=Object.keys(t);function r(e,t){return e===t?t:e?"".concat(e," and ").concat(t):t}function i(e){var r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(e),i=t[r];return i="number"===typeof i?"".concat(i-.2,"px"):"calc(".concat(i," - 0.2px)"),"(max-width: ".concat(i,")")}return function(n,a,s){var u;"object"===typeof n?(u=n,s=a,a=!0):u=o({},n,a=a||!0);var l=(0,e.useMemo)((function(){return Object.entries(u).reduce((function(e,n){var a=D(n,2),o=a[0],s=a[1];return"up"!==s&&!0!==s||(e=r(e,function(e){var n=t[e];return"number"===typeof n&&(n="".concat(n,"px")),"(min-width: ".concat(n,")")}(o))),"down"!==s&&!0!==s||(e=r(e,i(o))),e}),"")}),[JSON.stringify(u)]);return xt(l,s)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),St=Ct;function Tt(e){void 0===e&&(e=Ne());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(bT){return e.body}}function Nt(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function It(t){var n=function(t){var n=(0,e.useRef)(t);return n.current=t,n}(t);(0,e.useEffect)((function(){return function(){return n.current()}}),[])}function Rt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Pt(e){return function(e){if(Array.isArray(e))return R(e)}(e)||Rt(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function At(e,t,n){return t&&Dt(e.prototype,t),n&&Dt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Lt=q("modal-open"),Mt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;Ot(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return At(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=o({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(Ae(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(Lt,""),Ae(r,t)}},{key:"reset",value:function(){var e=this;Pt(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(Lt),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),Ft=Mt,jt=(0,e.createContext)(Qe?window:void 0);jt.Provider;function Ut(){return(0,e.useContext)(jt)}var Vt=function(e,t){return Qe?null==e?(t||Ne()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null};var zt=function(t){var n=t.children,r=t.in,i=t.onExited,a=t.mountOnEnter,o=t.unmountOnExit,s=(0,e.useRef)(null),u=(0,e.useRef)(r),l=H(i);(0,e.useEffect)((function(){r?u.current=!0:l(s.current)}),[r,l]);var c=M(s,n.ref),f=(0,e.cloneElement)(n,{ref:c});return r?f:o||!u.current&&a?null:f};function Bt(t){var n=t.children,r=t.in,i=t.onExited,a=t.onEntered,o=t.transition,s=D((0,e.useState)(!r),2),u=s[0],l=s[1];r&&u&&l(!1);var c=function(t){var n=t.in,r=t.onTransition,i=(0,e.useRef)(null),a=(0,e.useRef)(!0),o=H(r);return ve((function(){if(i.current){var e=!1;return o({in:n,element:i.current,initial:a.current,isStale:function(){return e}}),function(){e=!0}}}),[n,o]),ve((function(){return a.current=!1,function(){a.current=!0}}),[]),i}({in:!!r,onTransition:function(e){Promise.resolve(o(e)).then((function(){e.isStale()||(e.in?null==a||a(e.element,e.initial):(l(!0),null==i||i(e.element)))}),(function(t){throw e.in||l(!0),t}))}}),f=M(c,n.ref);return u&&!r?null:(0,e.cloneElement)(n,{ref:f})}function qt(e,t,n){return e?(0,d.jsx)(e,Object.assign({},n)):t?(0,d.jsx)(Bt,Object.assign({},n,{transition:t})):(0,d.jsx)(zt,Object.assign({},n))}var Wt,Ht=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Kt(t){var n=Ut(),r=t||function(e){return Wt||(Wt=new Ft({ownerDocument:null==e?void 0:e.document})),Wt}(n),i=(0,e.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,e.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,e.useCallback)((function(e){i.current.backdrop=e}),[])})}var Qt=(0,e.forwardRef)((function(t,n){var r=t.show,i=void 0!==r&&r,a=t.role,o=void 0===a?"dialog":a,s=t.className,u=t.style,l=t.children,c=t.backdrop,f=void 0===c||c,h=t.keyboard,p=void 0===h||h,v=t.onBackdropClick,m=t.onEscapeKeyDown,y=t.transition,g=t.runTransition,k=t.backdropTransition,b=t.runBackdropTransition,_=t.autoFocus,w=void 0===_||_,E=t.enforceFocus,x=void 0===E||E,C=t.restoreFocus,S=void 0===C||C,T=t.restoreFocusOptions,N=t.renderDialog,I=t.renderBackdrop,R=void 0===I?function(e){return(0,d.jsx)("div",Object.assign({},e))}:I,P=t.manager,O=t.container,A=t.onShow,L=t.onHide,M=void 0===L?function(){}:L,F=t.onExit,j=t.onExited,U=t.onExiting,V=t.onEnter,z=t.onEntering,B=t.onEntered,q=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,Ht),W=Ut(),K=function(t,n){var r=Ut(),i=D((0,e.useState)((function(){return Vt(t,null==r?void 0:r.document)})),2),a=i[0],o=i[1];if(!a){var s=Vt(t);s&&o(s)}return(0,e.useEffect)((function(){n&&a&&n(a)}),[n,a]),(0,e.useEffect)((function(){var e=Vt(t);e!==a&&o(e)}),[t,a]),a}(O),Q=Kt(P),G=he(),$=de(i),Y=D((0,e.useState)(!i),2),X=Y[0],J=Y[1],Z=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,(function(){return Q}),[Q]),Qe&&!$&&i&&(Z.current=Tt(null==W?void 0:W.document)),i&&X&&J(!1);var ee=H((function(){if(Q.add(),oe.current=Ze(document,"keydown",ie),ae.current=Ze(document,"focus",(function(){return setTimeout(ne)}),!0),A&&A(),w){var e,t,n=Tt(null!=(e=null==(t=Q.dialog)?void 0:t.ownerDocument)?e:null==W?void 0:W.document);Q.dialog&&n&&!Nt(Q.dialog,n)&&(Z.current=n,Q.dialog.focus())}})),te=H((function(){var e;(Q.remove(),null==oe.current||oe.current(),null==ae.current||ae.current(),S)&&(null==(e=Z.current)||null==e.focus||e.focus(T),Z.current=null)}));(0,e.useEffect)((function(){i&&K&&ee()}),[i,K,ee]),(0,e.useEffect)((function(){X&&te()}),[X,te]),It((function(){te()}));var ne=H((function(){if(x&&G()&&Q.isTopModal()){var e=Tt(null==W?void 0:W.document);Q.dialog&&e&&!Nt(Q.dialog,e)&&Q.dialog.focus()}})),re=H((function(e){e.target===e.currentTarget&&(null==v||v(e),!0===f&&M())})),ie=H((function(e){p&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&Q.isTopModal()&&(null==m||m(e),e.defaultPrevented||M())})),ae=(0,e.useRef)(),oe=(0,e.useRef)();if(!K)return null;var se=Object.assign({role:o,ref:Q.setDialogRef,"aria-modal":"dialog"===o||void 0},q,{style:u,className:s,tabIndex:-1}),ue=N?N(se):(0,d.jsx)("div",Object.assign({},se,{children:e.cloneElement(l,{role:"document"})}));ue=qt(y,g,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!i,onExit:F,onExiting:U,onExited:function(){J(!0),null==j||j.apply(void 0,arguments)},onEnter:V,onEntering:z,onEntered:B,children:ue});var le=null;return f&&(le=R({ref:Q.setBackdropRef,onClick:re}),le=qt(k,b,{in:!!i,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:le})),(0,d.jsx)(d.Fragment,{children:Me.createPortal((0,d.jsxs)(d.Fragment,{children:[le,ue]}),K)})}));Qt.displayName="Modal";var Gt,$t=Object.assign(Qt,{Manager:Ft}),Yt=["className","children","transitionClasses","onEnter"],Xt=(o(Gt={},ze,"show"),o(Gt,Be,"show"),Gt),Jt=e.forwardRef((function(t,n){var r=t.className,i=t.children,a=t.transitionClasses,o=void 0===a?{}:a,s=t.onEnter,l=u({in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},c(t,Yt)),f=(0,e.useCallback)((function(e,t){at(e),null==s||s(e,t)}),[s]);return(0,d.jsx)(lt,u(u({ref:n,addEndListener:rt},l),{},{onEnter:f,childRef:i.ref,children:function(t,n){return e.cloneElement(i,u(u({},n),{},{className:h()("fade",r,i.props.className,Xt[t],o[t])}))}}))}));Jt.displayName="Fade";var Zt=Jt,en=["className","bsPrefix","as"],tn=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,a=void 0===i?"div":i,o=c(e,en);return r=m(r,"offcanvas-body"),(0,d.jsx)(a,u({ref:t,className:h()(n,r)},o))}));tn.displayName="OffcanvasBody";var nn,rn=tn,an=["bsPrefix","className","children","in","mountOnEnter","unmountOnExit","appear"],on=(o(nn={},ze,"show"),o(nn,Be,"show"),nn),sn=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,a=t.children,o=t.in,s=void 0!==o&&o,l=t.mountOnEnter,f=void 0!==l&&l,p=t.unmountOnExit,v=void 0!==p&&p,y=t.appear,g=void 0!==y&&y,k=c(t,an);return r=m(r,"offcanvas"),(0,d.jsx)(lt,u(u({ref:n,addEndListener:rt,in:s,mountOnEnter:f,unmountOnExit:v,appear:g},k),{},{childRef:a.ref,children:function(t,n){return e.cloneElement(a,u(u({},n),{},{className:h()(i,a.props.className,(t===ze||t===qe)&&"".concat(r,"-toggling"),on[t])}))}}))}));sn.displayName="OffcanvasToggling";var un=sn,ln=e.createContext({onHide:function(){}}),cn=n(7),fn=n.n(cn),hn=["className","variant","aria-label"],dn={"aria-label":fn().string,onClick:fn().func,variant:fn().oneOf(["white"])},pn=e.forwardRef((function(e,t){var n=e.className,r=e.variant,i=e["aria-label"],a=void 0===i?"Close":i,o=c(e,hn);return(0,d.jsx)("button",u({ref:t,type:"button",className:h()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":a},o))}));pn.displayName="CloseButton",pn.propTypes=dn;var vn=pn,mn=["closeLabel","closeVariant","closeButton","onHide","children"],yn=e.forwardRef((function(t,n){var r=t.closeLabel,i=void 0===r?"Close":r,a=t.closeVariant,o=t.closeButton,s=void 0!==o&&o,l=t.onHide,f=t.children,h=c(t,mn),p=(0,e.useContext)(ln),v=H((function(){null==p||p.onHide(),null==l||l()}));return(0,d.jsxs)("div",u(u({ref:n},h),{},{children:[f,s&&(0,d.jsx)(vn,{"aria-label":i,variant:a,onClick:v})]}))})),gn=yn,kn=["bsPrefix","className","closeLabel","closeButton"],bn=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.closeLabel,a=void 0===i?"Close":i,o=e.closeButton,s=void 0!==o&&o,l=c(e,kn);return n=m(n,"offcanvas-header"),(0,d.jsx)(gn,u(u({ref:t},l),{},{className:h()(r,n),closeLabel:a,closeButton:s}))}));bn.displayName="OffcanvasHeader";var _n,wn=bn,En=["className","bsPrefix","as"],xn=(_n="h5",e.forwardRef((function(e,t){return(0,d.jsx)("div",u(u({},e),{},{ref:t,className:h()(e.className,_n)}))}))),Cn=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,a=void 0===i?xn:i,o=c(e,En);return r=m(r,"offcanvas-title"),(0,d.jsx)(a,u({ref:t,className:h()(n,r)},o))}));Cn.displayName="OffcanvasTitle";var Sn=Cn;function Tn(e){return Tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tn(e)}function Nn(){return Nn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Tn(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Nn.apply(this,arguments)}function In(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Le(e,t)}function Rn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(bT){return!1}}function Pn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function On(e){var t=Rn();return function(){var n,r=Tn(e);if(t){var a=Tn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pn(e)}(this,n)}}function Dn(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var An,Ln=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Mn=".sticky-top",Fn=".navbar-toggler",jn=function(e){In(n,e);var t=On(n);function n(){return Ot(this,n),t.apply(this,arguments)}return At(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,Ae(t,o({},e,"".concat(parseFloat(Ae(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Ae(t,o({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;Nn(Tn(n.prototype),"setContainerStyle",this).call(this,e);var r=this.getElement();if(function(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}(r,"modal-open"),e.scrollBarWidth){var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";N(r,Ln).forEach((function(n){return t.adjustAndStore(i,n,e.scrollBarWidth)})),N(r,Mn).forEach((function(n){return t.adjustAndStore(a,n,-e.scrollBarWidth)})),N(r,Fn).forEach((function(n){return t.adjustAndStore(a,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;Nn(Tn(n.prototype),"removeContainerStyle",this).call(this,e);var r=this.getElement();!function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=Dn(e.className,t):e.setAttribute("class",Dn(e.className&&e.className.baseVal||"",t))}(r,"modal-open");var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";N(r,Ln).forEach((function(e){return t.restore(i,e)})),N(r,Mn).forEach((function(e){return t.restore(a,e)})),N(r,Fn).forEach((function(e){return t.restore(a,e)}))}}]),n}(Ft);var Un=jn,Vn=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager","renderStaticNode"];function zn(e){return(0,d.jsx)(un,u({},e))}function Bn(e){return(0,d.jsx)(Zt,u({},e))}var qn=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,a=t.children,o=t["aria-labelledby"],s=t.placement,l=void 0===s?"start":s,f=t.responsive,p=t.show,v=void 0!==p&&p,y=t.backdrop,g=void 0===y||y,k=t.keyboard,b=void 0===k||k,_=t.scroll,w=void 0!==_&&_,E=t.onEscapeKeyDown,x=t.onShow,C=t.onHide,S=t.container,T=t.autoFocus,N=void 0===T||T,I=t.enforceFocus,R=void 0===I||I,P=t.restoreFocus,O=void 0===P||P,A=t.restoreFocusOptions,L=t.onEntered,M=t.onExit,F=t.onExiting,j=t.onEnter,U=t.onEntering,V=t.onExited,z=t.backdropClassName,B=t.manager,q=t.renderStaticNode,W=void 0!==q&&q,K=c(t,Vn),Q=(0,e.useRef)();r=m(r,"offcanvas");var G=((0,e.useContext)(oe)||{}).onToggle,$=D((0,e.useState)(!1),2),Y=$[0],X=$[1],J=St(f||"xs","up");(0,e.useEffect)((function(){X(f?v&&!J:v)}),[v,f,J]);var Z=H((function(){null==G||G(),null==C||C()})),ee=(0,e.useMemo)((function(){return{onHide:Z}}),[Z]);var te=(0,e.useCallback)((function(e){return(0,d.jsx)("div",u(u({},e),{},{className:h()("".concat(r,"-backdrop"),z)}))}),[z,r]),ne=function(e){return(0,d.jsx)("div",u(u(u({},e),K),{},{className:h()(i,f?"".concat(r,"-").concat(f):r,"".concat(r,"-").concat(l)),"aria-labelledby":o,children:a}))};return(0,d.jsxs)(d.Fragment,{children:[!Y&&(f||W)&&ne({}),(0,d.jsx)(ln.Provider,{value:ee,children:(0,d.jsx)($t,{show:Y,ref:n,backdrop:g,container:S,keyboard:b,autoFocus:N,enforceFocus:R&&!w,restoreFocus:O,restoreFocusOptions:A,onEscapeKeyDown:E,onShow:x,onHide:Z,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==j||j.apply(void 0,[e].concat(n))},onEntering:U,onEntered:L,onExit:M,onExiting:F,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==V||V.apply(void 0,n)},manager:B||(w?(Q.current||(Q.current=new Un({handleContainerOverflow:!1})),Q.current):function(e){return An||(An=new jn(e)),An}()),transition:zn,backdropTransition:Bn,renderBackdrop:te,renderDialog:ne})})]})}));qn.displayName="Offcanvas";var Wn=Object.assign(qn,{Body:rn,Header:wn,Title:Sn}),Hn=e.forwardRef((function(t,n){var r=(0,e.useContext)(oe);return(0,d.jsx)(Wn,u(u({ref:n,show:!(null==r||!r.expanded)},t),{},{renderStaticNode:!0}))}));Hn.displayName="NavbarOffcanvas";var Kn=Hn,Qn=["className","bsPrefix","as"],Gn=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,a=void 0===i?"span":i,o=c(e,Qn);return r=m(r,"navbar-text"),(0,d.jsx)(a,u({ref:t,className:h()(n,r)},o))}));Gn.displayName="NavbarText";var $n=Gn,Yn=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],Xn=e.forwardRef((function(t,n){var r=E(t,{expanded:"onToggle"}),i=r.bsPrefix,a=r.expand,o=void 0===a||a,s=r.variant,l=void 0===s?"light":s,f=r.bg,p=r.fixed,v=r.sticky,y=r.className,g=r.as,k=void 0===g?"nav":g,b=r.expanded,_=r.onToggle,w=r.onSelect,x=r.collapseOnSelect,C=void 0!==x&&x,S=c(r,Yn),T=m(i,"navbar"),N=(0,e.useCallback)((function(){null==w||w.apply(void 0,arguments),C&&b&&(null==_||_(!1))}),[w,C,b,_]);void 0===S.role&&"nav"!==k&&(S.role="navigation");var I="".concat(T,"-expand");"string"===typeof o&&(I="".concat(I,"-").concat(o));var R=(0,e.useMemo)((function(){return{onToggle:function(){return null==_?void 0:_(!b)},bsPrefix:T,expanded:!!b,expand:o}}),[T,b,o,_]);return(0,d.jsx)(oe.Provider,{value:R,children:(0,d.jsx)(V.Provider,{value:N,children:(0,d.jsx)(k,u(u({ref:n},S),{},{className:h()(y,T,o&&I,l&&"".concat(T,"-").concat(l),f&&"bg-".concat(f),v&&"sticky-".concat(v),p&&"fixed-".concat(p))}))})})}));Xn.displayName="Navbar";var Jn=Object.assign(Xn,{Brand:Te,Collapse:gt,Offcanvas:Kn,Text:$n,Toggle:_t});function Zn(){Zn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),s=new P(r||[]);return a(o,"_invoke",{value:T(e,n,s)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var d="suspendedStart",p="suspendedYield",v="executing",m="completed",y={};function g(){}function k(){}function b(){}var _={};c(_,s,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(O([])));E&&E!==n&&r.call(E,s)&&(_=E);var x=b.prototype=g.prototype=Object.create(_);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,s,u){var l=h(e[a],e,o);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==i(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,u)}))}u(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function T(t,n,r){var i=d;return function(a,o){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=N(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var l=h(t,n,r);if("normal"===l.type){if(i=r.done?m:p,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function N(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=h(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(i(t)+" is not iterable")}return k.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:k,configurable:!0}),k.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},C(S.prototype),c(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new S(f(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(x),c(x,l,"Generator"),c(x,s,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function er(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(Vw){return void n(Vw)}s.done?t(u):Promise.resolve(u).then(r,i)}function tr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){er(a,r,i,o,s,"next",e)}function s(e){er(a,r,i,o,s,"throw",e)}o(void 0)}))}}function nr(e,t,n){return nr=Rn()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Le(i,n.prototype),i},nr.apply(null,arguments)}function rr(e){var t="function"===typeof Map?new Map:void 0;return rr=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(bT){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return nr(e,arguments,Tn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Le(n,e)},rr(e)}function ir(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=P(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}var ar=!1,or=!1,sr="${JSCORE_VERSION}",ur=function(e,t){if(!e)throw lr(t)},lr=function(e){return new Error("Firebase Database ("+sr+") INTERNAL ASSERT FAILED: "+e)},cr=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},fr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|l>>6,d=63&l;u||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(cr(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new hr;var l=a<<2|o>>4;if(r.push(l),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},hr=function(e){In(n,e);var t=On(n);function n(){var e;return Ot(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return At(n)}(rr(Error)),dr=function(e){var t=cr(e);return fr.encodeByteArray(t,!0)},pr=function(e){return dr(e).replace(/\./g,"")},vr=function(e){try{return fr.decodeString(e,!0)}catch(bT){console.error("base64Decode failed: ",bT)}return null};function mr(e){return yr(void 0,e)}function yr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=yr(e[n],t[n]));return e}var gr=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},kr=function(){try{return gr()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/ProyectoFinalReact_MaximilianoTrochon",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(bT){return}var t=e&&vr(e[1]);return t&&JSON.parse(t)}}()}catch(bT){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(bT))}},br=function(e){var t=function(e){var t,n;return null===(n=null===(t=kr())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},_r=function(){var e;return null===(e=kr())||void 0===e?void 0:e.config},wr=function(){function e(){var t=this;Ot(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return At(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Er(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function xr(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Er())}function Cr(){return!0===ar||!0===or}function Sr(){try{return"object"===typeof indexedDB}catch(bT){return!1}}var Tr=function(e){In(n,e);var t=On(n);function n(e,r,i){var a;return Ot(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Pn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Pn(a),Nr.prototype.create),a}return At(n)}(rr(Error)),Nr=function(){function e(t,n,r){Ot(this,e),this.service=t,this.serviceName=n,this.errors=r}return At(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ir,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Tr(n,a,t)}}]),e}();var Ir=/\{\$([^}]+)}/g;function Rr(e){return JSON.parse(e)}function Pr(e){return JSON.stringify(e)}var Or=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Rr(vr(a[0])||""),n=Rr(vr(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(bT){}return{header:t,claims:n,data:r,signature:i}};function Dr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ar(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Lr(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Mr(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Fr(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(jr(s)&&jr(u)){if(!Fr(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function jr(e){return null!==e&&"object"===typeof e}var Ur=function(){function e(){Ot(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return At(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,l=this.chain_[0],c=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^c&(f^h),u=1518500249):(s=c^f^h,u=1859775393):p<60?(s=c&f|h&(c|f),u=2400959708):(s=c^f^h,u=3395469782);var v=(l<<5|l>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(c<<30|c>>>2),c=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function Vr(e,t){return"".concat(e," failed: ").concat(t," argument ")}var zr=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Br(e){return e&&e._delegate?e._delegate:e}var qr=function(){function e(t,n,r){Ot(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return At(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Wr="[DEFAULT]",Hr=function(){function e(t,n){Ot(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return At(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new wr;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(bT){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(bT){if(r)return null;throw bT}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch(bT){}var t,n=ir(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=D(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(bT){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=tr(Zn().mark((function e(){var t;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Pt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Pt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=ir(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=D(i.value,2),u=s[0],l=s[1];r===this.normalizeInstanceIdentifier(u)&&l.resolve(a)}}catch(c){o.e(c)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ir(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Wr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wr;return this.component?this.component.multipleInstances?e:Wr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Kr,Qr,Gr=function(){function e(t){Ot(this,e),this.name=t,this.providers=new Map}return At(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Hr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),$r=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Qr||(Qr={}));var Yr={debug:Qr.DEBUG,verbose:Qr.VERBOSE,info:Qr.INFO,warn:Qr.WARN,error:Qr.ERROR,silent:Qr.SILENT},Xr=Qr.INFO,Jr=(o(Kr={},Qr.DEBUG,"log"),o(Kr,Qr.VERBOSE,"log"),o(Kr,Qr.INFO,"info"),o(Kr,Qr.WARN,"warn"),o(Kr,Qr.ERROR,"error"),Kr),Zr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Jr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ei=function(){function e(t){Ot(this,e),this.name=t,this._logLevel=Xr,this._logHandler=Zr,this._userLogHandler=null,$r.push(this)}return At(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Qr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Yr[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Qr.DEBUG].concat(t)),this._logHandler.apply(this,[this,Qr.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Qr.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Qr.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Qr.INFO].concat(t)),this._logHandler.apply(this,[this,Qr.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Qr.WARN].concat(t)),this._logHandler.apply(this,[this,Qr.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Qr.ERROR].concat(t)),this._logHandler.apply(this,[this,Qr.ERROR].concat(t))}}]),e}();var ti,ni,ri=function(e,t){return t.some((function(t){return e instanceof t}))};var ii=new WeakMap,ai=new WeakMap,oi=new WeakMap,si=new WeakMap,ui=new WeakMap;var li={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ai.get(e);if("objectStoreNames"===t)return e.objectStoreNames||oi.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hi(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function ci(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ni||(ni=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(di(this),n),hi(ii.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hi(e.apply(di(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[di(this),t].concat(r));return oi.set(a,t.sort?t.sort():[t]),hi(a)}}function fi(e){return"function"===typeof e?ci(e):(e instanceof IDBTransaction&&function(e){if(!ai.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));ai.set(e,t)}}(e),ri(e,ti||(ti=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,li):e)}function hi(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(hi(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&ii.set(t,e)})).catch((function(){})),ui.set(t,e),t}(e);if(si.has(e))return si.get(e);var t=fi(e);return t!==e&&(si.set(e,t),ui.set(t,e)),t}var di=function(e){return ui.get(e)};var pi,vi,mi=["get","getKey","getAll","getAllKeys","count"],yi=["put","add","delete","clear"],gi=new Map;function ki(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(gi.get(t))return gi.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=yi.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||mi.includes(n))){var a=function(){var e=tr(Zn().mark((function e(t){var a,o,s,u,l,c,f=arguments;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=f[c];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return gi.set(t,a),a}}}li=function(e){return u(u({},e),{},{get:function(t,n,r){return ki(t,n)||e.get(t,n,r)},has:function(t,n){return!!ki(t,n)||e.has(t,n)}})}(li);var bi=function(){function e(t){Ot(this,e),this.container=t}return At(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var _i="@firebase/app",wi="0.9.20",Ei=new ei("@firebase/app"),xi="[DEFAULT]",Ci=(o(pi={},_i,"fire-core"),o(pi,"@firebase/app-compat","fire-core-compat"),o(pi,"@firebase/analytics","fire-analytics"),o(pi,"@firebase/analytics-compat","fire-analytics-compat"),o(pi,"@firebase/app-check","fire-app-check"),o(pi,"@firebase/app-check-compat","fire-app-check-compat"),o(pi,"@firebase/auth","fire-auth"),o(pi,"@firebase/auth-compat","fire-auth-compat"),o(pi,"@firebase/database","fire-rtdb"),o(pi,"@firebase/database-compat","fire-rtdb-compat"),o(pi,"@firebase/functions","fire-fn"),o(pi,"@firebase/functions-compat","fire-fn-compat"),o(pi,"@firebase/installations","fire-iid"),o(pi,"@firebase/installations-compat","fire-iid-compat"),o(pi,"@firebase/messaging","fire-fcm"),o(pi,"@firebase/messaging-compat","fire-fcm-compat"),o(pi,"@firebase/performance","fire-perf"),o(pi,"@firebase/performance-compat","fire-perf-compat"),o(pi,"@firebase/remote-config","fire-rc"),o(pi,"@firebase/remote-config-compat","fire-rc-compat"),o(pi,"@firebase/storage","fire-gcs"),o(pi,"@firebase/storage-compat","fire-gcs-compat"),o(pi,"@firebase/firestore","fire-fst"),o(pi,"@firebase/firestore-compat","fire-fst-compat"),o(pi,"fire-js","fire-js"),o(pi,"firebase","fire-js-all"),pi),Si=new Map,Ti=new Map;function Ni(e,t){try{e.container.addComponent(t)}catch(bT){Ei.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),bT)}}function Ii(e){var t=e.name;if(Ti.has(t))return Ei.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ti.set(t,e);var n,r=ir(Si.values());try{for(r.s();!(n=r.n()).done;){Ni(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ri(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Pi=(o(vi={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),o(vi,"bad-app-name","Illegal App name: '{$appName}"),o(vi,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),o(vi,"app-deleted","Firebase App named '{$appName}' already deleted"),o(vi,"no-options","Need to provide options, when not being deployed to hosting via source."),o(vi,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),o(vi,"invalid-log-argument","First argument to `onLog` must be null or a function."),o(vi,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),o(vi,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),o(vi,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),o(vi,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),vi),Oi=new Nr("app","Firebase",Pi),Di=function(){function e(t,n,r){var i=this;Ot(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qr("app",(function(){return i}),"PUBLIC"))}return At(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}}]),e}(),Ai="10.5.0";function Li(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:xi,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Oi.create("bad-app-name",{appName:String(i)});if(n||(n=_r()),!n)throw Oi.create("no-options");var a=Si.get(i);if(a){if(Fr(n,a.options)&&Fr(r,a.config))return a;throw Oi.create("duplicate-app",{appName:i})}var o,s=new Gr(i),u=ir(Ti.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s.addComponent(l)}}catch(f){u.e(f)}finally{u.f()}var c=new Di(n,r,s);return Si.set(i,c),c}function Mi(e,t,n){var r,i=null!==(r=Ci[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ei.warn(s.join(" "))}Ii(new qr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Fi="firebase-heartbeat-database",ji=1,Ui="firebase-heartbeat-store",Vi=null;function zi(){return Vi||(Vi=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=hi(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(hi(s.result),e.oldVersion,e.newVersion,hi(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(Fi,ji,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ui)}}).catch((function(e){throw Oi.create("idb-open",{originalErrorMessage:e.message})}))),Vi}function Bi(e){return qi.apply(this,arguments)}function qi(){return qi=tr(Zn().mark((function e(t){var n,r,i;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zi();case 3:return n=e.sent,e.next=6,n.transaction(Ui).objectStore(Ui).get(Ki(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Tr?Ei.warn(e.t0.message):(i=Oi.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Ei.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),qi.apply(this,arguments)}function Wi(e,t){return Hi.apply(this,arguments)}function Hi(){return Hi=tr(Zn().mark((function e(t,n){var r,i,a,o;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zi();case 3:return r=e.sent,i=r.transaction(Ui,"readwrite"),a=i.objectStore(Ui),e.next=8,a.put(n,Ki(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Tr?Ei.warn(e.t0.message):(o=Oi.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Ei.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Hi.apply(this,arguments)}function Ki(e){return"".concat(e.name,"!").concat(e.options.appId)}var Qi=function(){function e(t){var n=this;Ot(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Xi(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return At(e,[{key:"triggerHeartbeat",value:function(){var e=tr(Zn().mark((function e(){var t,n,r;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Gi(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=tr(Zn().mark((function e(){var t,n,r,i,a;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Gi(),n=$i(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=pr(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Gi(){return(new Date).toISOString().substring(0,10)}function $i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=ir(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ji(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),Ji(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Yi,Xi=function(){function e(t){Ot(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return At(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=tr(Zn().mark((function e(){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Sr()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Vw){t(Vw)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=tr(Zn().mark((function e(){var t;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Bi(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=tr(Zn().mark((function e(t){var n,r;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Wi(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=tr(Zn().mark((function e(t){var n,r;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Wi(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Pt(r.heartbeats),Pt(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ji(e){return pr(JSON.stringify({version:2,heartbeats:e})).length}Yi="",Ii(new qr("platform-logger",(function(e){return new bi(e)}),"PRIVATE")),Ii(new qr("heartbeat",(function(e){return new Qi(e)}),"PRIVATE")),Mi(_i,wi,Yi),Mi(_i,wi,"esm2017"),Mi("fire-js","");var Zi,ea="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ta={},na=na||{},ra=ea||self;function ia(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function aa(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var oa="closure_uid_"+(1e9*Math.random()>>>0),sa=0;function ua(e,t,n){return e.call.apply(e.bind,arguments)}function la(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ca(e,t,n){return(ca=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ua:la).apply(null,arguments)}function fa(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ha(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function da(){this.s=this.s,this.o=this.o}da.prototype.s=!1,da.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,oa)&&e[oa]||(e[oa]=++sa))},da.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var pa=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function va(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ma(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(ia(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function ya(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ya.prototype.h=function(){this.defaultPrevented=!0};var ga=function(){if(!ra.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ra.addEventListener("test",(function(){}),t),ra.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function ka(e){return/^[\s\xa0]*$/.test(e)}function ba(){var e=ra.navigator;return e&&(e=e.userAgent)?e:""}function _a(e){return-1!=ba().indexOf(e)}function wa(e){return wa[" "](e),e}wa[" "]=function(){};var Ea,xa,Ca=_a("Opera"),Sa=_a("Trident")||_a("MSIE"),Ta=_a("Edge"),Na=Ta||Sa,Ia=_a("Gecko")&&!(-1!=ba().toLowerCase().indexOf("webkit")&&!_a("Edge"))&&!(_a("Trident")||_a("MSIE"))&&!_a("Edge"),Ra=-1!=ba().toLowerCase().indexOf("webkit")&&!_a("Edge");function Pa(){var e=ra.document;return e?e.documentMode:void 0}e:{var Oa="",Da=function(){var e=ba();return Ia?/rv:([^\);]+)(\)|;)/.exec(e):Ta?/Edge\/([\d\.]+)/.exec(e):Sa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ra?/WebKit\/(\S+)/.exec(e):Ca?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Da&&(Oa=Da?Da[1]:""),Sa){var Aa=Pa();if(null!=Aa&&Aa>parseFloat(Oa)){Ea=String(Aa);break e}}Ea=Oa}if(ra.document&&Sa){var La=Pa();xa=La||(parseInt(Ea,10)||void 0)}else xa=void 0;var Ma=xa;function Fa(e,t){if(ya.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ia){e:{try{wa(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ja[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Fa.$.h.call(this)}}ha(Fa,ya);var ja={2:"touch",3:"pen",4:"mouse"};Fa.prototype.h=function(){Fa.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ua="closure_listenable_"+(1e6*Math.random()|0),Va=0;function za(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Va,this.fa=this.ia=!1}function Ba(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function qa(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Wa(e){var t={};for(var n in e)t[n]=e[n];return t}var Ha="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ka(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Ha.length;a++)n=Ha[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Qa(e){this.src=e,this.g={},this.h=0}function Ga(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=pa(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Ba(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $a(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Qa.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=$a(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new za(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Ya="closure_lm_"+(1e6*Math.random()|0),Xa={};function Ja(e,t,n,r,i){if(r&&r.once)return eo(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ja(e,t[a],n,r,i);return null}return n=so(n),e&&e[Ua]?e.O(t,n,aa(r)?!!r.capture:!!r,i):Za(e,t,n,!1,r,i)}function Za(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=aa(i)?!!i.capture:!!i,s=ao(e);if(s||(e[Ya]=s=new Qa(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=io;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ga||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ro(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function eo(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)eo(e,t[a],n,r,i);return null}return n=so(n),e&&e[Ua]?e.P(t,n,aa(r)?!!r.capture:!!r,i):Za(e,t,n,!0,r,i)}function to(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)to(e,t[a],n,r,i);else r=aa(r)?!!r.capture:!!r,n=so(n),e&&e[Ua]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$a(a=e.g[t],n,r,i))&&(Ba(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ao(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$a(t,n,r,i)),(n=-1<e?t[e]:null)&&no(n))}function no(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ua])Ga(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ro(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ao(t))?(Ga(n,e),0==n.h&&(n.src=null,t[Ya]=null)):Ba(e)}}}function ro(e){return e in Xa?Xa[e]:Xa[e]="on"+e}function io(e,t){if(e.fa)e=!0;else{t=new Fa(t,this);var n=e.listener,r=e.la||e.src;e.ia&&no(e),e=n.call(r,t)}return e}function ao(e){return(e=e[Ya])instanceof Qa?e:null}var oo="__closure_events_fn_"+(1e9*Math.random()>>>0);function so(e){return"function"===typeof e?e:(e[oo]||(e[oo]=function(t){return e.handleEvent(t)}),e[oo])}function uo(){da.call(this),this.i=new Qa(this),this.S=this,this.J=null}function lo(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new ya(t,e);else if(t instanceof ya)t.target=t.target||e;else{var i=t;Ka(t=new ya(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=co(o,r,!0,t)&&i}if(i=co(o=t.g=e,r,!0,t)&&i,i=co(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=co(o=t.g=n[a],r,!1,t)&&i}function co(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Ga(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}ha(uo,da),uo.prototype[Ua]=!0,uo.prototype.removeEventListener=function(e,t,n,r){to(this,e,t,n,r)},uo.prototype.N=function(){if(uo.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ba(n[r]);delete t.g[e],t.h--}}this.J=null},uo.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},uo.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var fo=ra.JSON.stringify,ho=function(){function e(t,n){Ot(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return At(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function po(){var e=wo,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var vo=function(){function e(){Ot(this,e),this.h=this.g=null}return At(e,[{key:"add",value:function(e,t){var n=mo.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),mo=new ho((function(){return new yo}),(function(e){return e.reset()})),yo=function(){function e(){Ot(this,e),this.next=this.g=this.h=null}return At(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function go(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function ko(e){ra.setTimeout((function(){throw e}),0)}var bo,_o=!1,wo=new vo,Eo=function(){var e=ra.Promise.resolve(void 0);bo=function(){e.then(xo)}},xo=function(){for(var e;e=po();){try{e.h.call(e.g)}catch(n){ko(n)}var t=mo;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_o=!1};function Co(e,t){uo.call(this),this.h=e||1,this.g=t||ra,this.j=ca(this.qb,this),this.l=Date.now()}function So(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function To(e,t,n){if("function"===typeof e)n&&(e=ca(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ca(e.handleEvent,e)}return 2147483647<Number(t)?-1:ra.setTimeout(e,t||0)}function No(e){e.g=To((function(){e.g=null,e.i&&(e.i=!1,No(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ha(Co,uo),(Zi=Co.prototype).ga=!1,Zi.T=null,Zi.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),lo(this,"tick"),this.ga&&(So(this),this.start()))}},Zi.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Zi.N=function(){Co.$.N.call(this),So(this),delete this.g};var Io=function(e){In(n,e);var t=On(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return At(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:No(this)}},{key:"N",value:function(){Nn(Tn(n.prototype),"N",this).call(this),this.g&&(ra.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(da);function Ro(e){da.call(this),this.h=e,this.g={}}ha(Ro,da);var Po=[];function Oo(e,t,n,r){Array.isArray(n)||(n&&(Po[0]=n.toString()),n=Po);for(var i=0;i<n.length;i++){var a=Ja(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Do(e){qa(e.g,(function(e,t){this.g.hasOwnProperty(t)&&no(e)}),e),e.g={}}function Ao(){this.g=!0}function Lo(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return fo(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Ro.prototype.N=function(){Ro.$.N.call(this),Do(this)},Ro.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ao.prototype.Ea=function(){this.g=!1},Ao.prototype.info=function(){};var Mo={},Fo=null;function jo(){return Fo=Fo||new uo}function Uo(e){ya.call(this,Mo.Ta,e)}function Vo(e){var t=jo();lo(t,new Uo(t))}function zo(e,t){ya.call(this,Mo.STAT_EVENT,e),this.stat=t}function Bo(e){var t=jo();lo(t,new zo(t,e))}function qo(e,t){ya.call(this,Mo.Ua,e),this.size=t}function Wo(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ra.setTimeout((function(){e()}),t)}Mo.Ta="serverreachability",ha(Uo,ya),Mo.STAT_EVENT="statevent",ha(zo,ya),Mo.Ua="timingevent",ha(qo,ya);var Ho={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ko={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Qo(){}function Go(e){return e.h||(e.h=e.i())}function $o(){}Qo.prototype.h=null;var Yo,Xo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Jo(){ya.call(this,"d")}function Zo(){ya.call(this,"c")}function es(){}function ts(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ro(this),this.P=rs,e=Na?125:void 0,this.V=new Co(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ns}function ns(){this.i=null,this.g="",this.h=!1}ha(Jo,ya),ha(Zo,ya),ha(es,Qo),es.prototype.g=function(){return new XMLHttpRequest},es.prototype.i=function(){return{}},Yo=new es;var rs=45e3,is={},as={};function os(e,t,n){e.L=1,e.v=Cs(bs(t)),e.s=n,e.S=!0,ss(e,null)}function ss(e,t){e.G=Date.now(),fs(e),e.A=bs(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),js(n.i,"t",r),e.C=0,n=e.l.J,e.h=new ns,e.g=Uu(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Io(ca(e.Pa,e,e.g),e.O)),Oo(e.U,e.g,"readystatechange",e.nb),t=e.I?Wa(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Vo(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function us(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function ls(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=cs(e,n))==as){4==t&&(e.o=4,Bo(14),i=!1),Lo(e.j,e.m,null,"[Incomplete Response]");break}if(r==is){e.o=4,Bo(15),Lo(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Lo(e.j,e.m,r,null),ms(e,r)}us(e)&&r!=as&&r!=is&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Bo(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Pu(t),t.M=!0,Bo(11))):(Lo(e.j,e.m,n,"[Invalid Chunked Response]"),vs(e),ps(e))}function cs(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?as:(n=Number(t.substring(n,r)),isNaN(n)?is:(r+=1)+n>t.length?as:(t=t.slice(r,r+n),e.C=r+n,t))}function fs(e){e.Y=Date.now()+e.P,hs(e,e.P)}function hs(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Wo(ca(e.lb,e),t)}function ds(e){e.B&&(ra.clearTimeout(e.B),e.B=null)}function ps(e){0==e.l.H||e.J||Au(e.l,e)}function vs(e){ds(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,So(e.V),Do(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function ms(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Hs(n.i,e)))if(!e.K&&Hs(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Du(n),Eu(n)}Ru(n),Bo(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Wo(ca(n.ib,n),6e3));if(1>=Ws(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Mu(n,11)}else if((e.K||n.g==e)&&Du(n),!ka(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.i;f.g||-1==c.indexOf("spdy")&&-1==c.indexOf("quic")&&-1==c.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Ks(f,f.h),f.h=null))}if(r.F){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,xs(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=ju(r,r.J?r.pa:null,r.Y),d.K){Qs(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(ds(p),fs(p)),r.g=d}else Iu(r);0<n.j.length&&Cu(n)}else"stop"!=a[0]&&"close"!=a[0]||Mu(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Mu(n,7):wu(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Vo()}catch(a){}}function ys(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ia(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(ia(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(ia(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Zi=ts.prototype).setTimeout=function(e){this.P=e},Zi.nb=function(e){e=e.target;var t=this.M;t&&3==mu(e)?t.l():this.Pa(e)},Zi.Pa=function(e){try{if(e==this.g)e:{var t=mu(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Na||this.g&&(this.h.h||this.g.ja()||yu(this.g)))){this.J||4!=t||7==n||Vo(),ds(this);var r=this.g.da();this.ca=r;t:if(us(this)){var i=yu(this.g);e="";var a=i.length,o=4==mu(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){vs(this),ps(this);var s="";break t}this.h.i=new ra.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ka(u)){var c=u;break t}}c=null}if(!(r=c)){this.i=!1,this.o=3,Bo(12),vs(this),ps(this);break e}Lo(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ms(this,r)}this.S?(ls(this,t,s),Na&&this.i&&3==t&&(Oo(this.U,this.V,"tick",this.mb),this.V.start())):(Lo(this.j,this.m,s,null),ms(this,s)),4==t&&vs(this),this.i&&!this.J&&(4==t?Au(this.l,this):(this.i=!1,fs(this)))}else(function(e){var t={};e=(e.g&&2<=mu(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!ka(e[n])){var r=go(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Bo(12)):(this.o=0,Bo(13)),vs(this),ps(this)}}}catch(t){}},Zi.mb=function(){if(this.g){var e=mu(this.g),t=this.g.ja();this.C<t.length&&(ds(this),ls(this,e,t),this.i&&4!=e&&fs(this))}},Zi.cancel=function(){this.J=!0,vs(this)},Zi.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Vo(),Bo(17)),vs(this),this.o=2,ps(this)):hs(this,this.Y-e)};var gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ks(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ks){this.h=e.h,_s(this,e.j),this.s=e.s,this.g=e.g,ws(this,e.m),this.l=e.l;var t=e.i,n=new As;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Es(this,n),this.o=e.o}else e&&(t=String(e).match(gs))?(this.h=!1,_s(this,t[1]||"",!0),this.s=Ss(t[2]||""),this.g=Ss(t[3]||"",!0),ws(this,t[4]),this.l=Ss(t[5]||"",!0),Es(this,t[6]||"",!0),this.o=Ss(t[7]||"")):(this.h=!1,this.i=new As(null,this.h))}function bs(e){return new ks(e)}function _s(e,t,n){e.j=n?Ss(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ws(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Es(e,t,n){t instanceof As?(e.i=t,function(e,t){t&&!e.j&&(Ls(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ms(this,t),js(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ts(t,Os)),e.i=new As(t,e.h))}function xs(e,t,n){e.i.set(t,n)}function Cs(e){return xs(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ss(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ts(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ns),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ns(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ks.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ts(t,Is,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ts(t,Is,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ts(n,"/"==n.charAt(0)?Ps:Rs,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ts(n,Ds)),e.join("")};var Is=/[#\/\?@]/g,Rs=/[#\?:]/g,Ps=/[#\?]/g,Os=/[#\?@]/g,Ds=/#/g;function As(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ls(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ms(e,t){Ls(e),t=Us(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Fs(e,t){return Ls(e),t=Us(e,t),e.g.has(t)}function js(e,t,n){Ms(e,t),0<n.length&&(e.i=null,e.g.set(Us(e,t),va(n)),e.h+=n.length)}function Us(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Zi=As.prototype).add=function(e,t){Ls(this),this.i=null,e=Us(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Zi.forEach=function(e,t){Ls(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Zi.ta=function(){Ls(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Zi.Z=function(e){Ls(this);var t=[];if("string"===typeof e)Fs(this,e)&&(t=t.concat(this.g.get(Us(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Zi.set=function(e,t){return Ls(this),this.i=null,Fs(this,e=Us(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Zi.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Zi.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Vs=At((function e(t,n){Ot(this,e),this.g=t,this.map=n}));function zs(e){this.l=e||Bs,ra.PerformanceNavigationTiming?e=0<(e=ra.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ra.g&&ra.g.Ka&&ra.g.Ka()&&ra.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Bs=10;function qs(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ws(e){return e.h?1:e.g?e.g.size:0}function Hs(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ks(e,t){e.g?e.g.add(t):e.h=t}function Qs(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Gs(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ir(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return va(e.i)}zs.prototype.cancel=function(){if(this.i=Gs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ir(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var $s,Ys=function(){function e(){Ot(this,e)}return At(e,[{key:"stringify",value:function(e){return ra.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return ra.JSON.parse(e,void 0)}}]),e}();function Xs(){this.g=new Ys}function Js(e,t,n){var r=n||"";try{ys(e,(function(e,n){var i=e;aa(e)&&(i=fo(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(bT){throw t.push(r+"type="+encodeURIComponent("_badmap")),bT}}function Zs(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function eu(e){this.l=e.ec||null,this.j=e.ob||!1}function tu(e,t){uo.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=nu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ha(eu,Qo),eu.prototype.g=function(){return new tu(this.l,this.j)},eu.prototype.i=($s={},function(){return $s}),ha(tu,uo);var nu=0;function ru(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function iu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,au(e)}function au(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Zi=tu.prototype).open=function(e,t){if(this.readyState!=nu)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,au(this)},Zi.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ra).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Zi.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,iu(this)),this.readyState=nu},Zi.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,au(this)),this.g&&(this.readyState=3,au(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof ra.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ru(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Zi.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?iu(this):au(this),3==this.readyState&&ru(this)}},Zi.Za=function(e){this.g&&(this.response=this.responseText=e,iu(this))},Zi.Ya=function(e){this.g&&(this.response=e,iu(this))},Zi.ka=function(){this.g&&iu(this)},Zi.setRequestHeader=function(e,t){this.v.append(e,t)},Zi.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Zi.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(tu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ou=ra.JSON.parse;function su(e){uo.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=uu,this.L=this.M=!1}ha(su,uo);var uu="",lu=/^https?$/i,cu=["POST","PUT"];function fu(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,hu(e),pu(e)}function hu(e){e.F||(e.F=!0,lo(e,"complete"),lo(e,"error"))}function du(e){if(e.h&&"undefined"!=typeof na&&(!e.C[1]||4!=mu(e)||2!=e.da()))if(e.v&&4==mu(e))To(e.La,0,e);else if(lo(e,"readystatechange"),4==mu(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(gs)[1]||null;!a&&ra.self&&ra.self.location&&(a=ra.self.location.protocol.slice(0,-1)),i=!lu.test(a?a.toLowerCase():"")}t=i}if(t)lo(e,"complete"),lo(e,"success");else{e.m=6;try{var o=2<mu(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",hu(e)}}finally{pu(e)}}}function pu(e,t){if(e.g){vu(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||lo(e,"ready");try{n.onreadystatechange=r}catch(bT){}}}function vu(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ra.clearTimeout(e.A),e.A=null)}function mu(e){return e.g?e.g.readyState:0}function yu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case uu:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(xl){return null}}function gu(e){var t="";return qa(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function ku(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=gu(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):xs(e,t,n))}function bu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function _u(e){this.Ga=0,this.j=[],this.l=new Ao,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=bu("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=bu("baseRetryDelayMs",5e3,e),this.hb=bu("retryDelaySeedMs",1e4,e),this.eb=bu("forwardChannelMaxRetries",2,e),this.xa=bu("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new zs(e&&e.concurrentRequestLimit),this.Ja=new Xs,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function wu(e){if(xu(e),3==e.H){var t=e.W++,n=bs(e.I);if(xs(n,"SID",e.K),xs(n,"RID",t),xs(n,"TYPE","terminate"),Tu(e,n),(t=new ts(e,e.l,t)).L=2,t.v=Cs(bs(n)),n=!1,ra.navigator&&ra.navigator.sendBeacon)try{n=ra.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&ra.Image&&((new Image).src=t.v,n=!0),n||(t.g=Uu(t.l,null),t.g.ha(t.v)),t.G=Date.now(),fs(t)}Fu(e)}function Eu(e){e.g&&(Pu(e),e.g.cancel(),e.g=null)}function xu(e){Eu(e),e.u&&(ra.clearTimeout(e.u),e.u=null),Du(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ra.clearTimeout(e.m),e.m=null)}function Cu(e){if(!qs(e.i)&&!e.m){e.m=!0;var t=e.Na;bo||Eo(),_o||(bo(),_o=!0),wo.add(t,e),e.C=0}}function Su(e,t){var n;n=t?t.m:e.W++;var r=bs(e.I);xs(r,"SID",e.K),xs(r,"RID",n),xs(r,"AID",e.V),Tu(e,r),e.o&&e.s&&ku(r,e.o,e.s),n=new ts(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Nu(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Ks(e.i,n),os(n,r,t)}function Tu(e,t){e.na&&qa(e.na,(function(e,n){xs(t,n,e)})),e.h&&ys({},(function(e,n){xs(t,n,e)}))}function Nu(e,t,n){n=Math.min(e.j.length,n);var r=e.h?ca(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var l=i[u].g,c=i[u].map;if(0>(l-=a))a=Math.max(0,i[u].g-100),s=!1;else try{Js(c,o,"req"+l+"_")}catch(f){r&&r(c)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function Iu(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;bo||Eo(),_o||(bo(),_o=!0),wo.add(t,e),e.A=0}}function Ru(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Wo(ca(e.Ma,e),Lu(e,e.A)),e.A++,!0)}function Pu(e){null!=e.B&&(ra.clearTimeout(e.B),e.B=null)}function Ou(e){e.g=new ts(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=bs(e.wa);xs(t,"RID","rpc"),xs(t,"SID",e.K),xs(t,"AID",e.V),xs(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&xs(t,"TO",e.qa),xs(t,"TYPE","xmlhttp"),Tu(e,t),e.o&&e.s&&ku(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Cs(bs(t)),n.s=null,n.S=!0,ss(n,e)}function Du(e){null!=e.v&&(ra.clearTimeout(e.v),e.v=null)}function Au(e,t){var n=null;if(e.g==t){Du(e),Pu(e),e.g=null;var r=2}else{if(!Hs(e.i,t))return;n=t.F,Qs(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;lo(r=jo(),new qo(r,n)),Cu(e)}else Iu(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Ws(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Wo(ca(e.Na,e,t),Lu(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ru(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Mu(e,5);break;case 4:Mu(e,10);break;case 3:Mu(e,6);break;default:Mu(e,2)}}function Lu(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Mu(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=ca(e.pb,e);n||(n=new ks("//www.google.com/images/cleardot.gif"),ra.location&&"http"==ra.location.protocol||_s(n,"https"),Cs(n)),function(e,t){var n=new Ao;if(ra.Image){var r=new Image;r.onload=fa(Zs,n,r,"TestLoadImage: loaded",!0,t),r.onerror=fa(Zs,n,r,"TestLoadImage: error",!1,t),r.onabort=fa(Zs,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=fa(Zs,n,r,"TestLoadImage: timeout",!1,t),ra.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Bo(2);e.H=0,e.h&&e.h.za(t),Fu(e),xu(e)}function Fu(e){if(e.H=0,e.ma=[],e.h){var t=Gs(e.i);0==t.length&&0==e.j.length||(ma(e.ma,t),ma(e.ma,e.j),e.i.i.length=0,va(e.j),e.j.length=0),e.h.ya()}}function ju(e,t,n){var r=n instanceof ks?bs(n):new ks(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ws(r,r.m);else{var i=ra.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new ks(null);r&&_s(a,r),t&&(a.g=t),i&&ws(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&xs(r,n,t),xs(r,"VER",e.ra),Tu(e,r),r}function Uu(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new su(new eu({ob:!0})):new su(e.va)).Oa(e.J),t}function Vu(){}function zu(){if(Sa&&!(10<=Number(Ma)))throw Error("Environmental error: no available transport.")}function Bu(e,t){uo.call(this),this.g=new _u(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ka(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ka(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Hu(this)}function qu(e){Jo.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Wu(){Zo.call(this),this.status=1}function Hu(e){this.g=e}function Ku(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Qu(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Gu(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Zi=su.prototype).Oa=function(e){this.M=e},Zi.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yo.g(),this.C=this.u?Go(this.u):Go(Yo),this.g.onreadystatechange=ca(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void fu(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=ir(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=ra.FormData&&e instanceof ra.FormData,!(0<=pa(cu,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,l=ir(n);try{for(l.s();!(u=l.n()).done;){var c=D(u.value,2),f=c[0],h=c[1];this.g.setRequestHeader(f,h)}}catch(d){l.e(d)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{vu(this),0<this.B&&((this.L=function(e){return Sa&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ca(this.ua,this)):this.A=To(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){fu(this,s)}},Zi.ua=function(){"undefined"!=typeof na&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lo(this,"timeout"),this.abort(8))},Zi.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,lo(this,"complete"),lo(this,"abort"),pu(this))},Zi.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pu(this,!0)),su.$.N.call(this)},Zi.La=function(){this.s||(this.G||this.v||this.l?du(this):this.kb())},Zi.kb=function(){du(this)},Zi.isActive=function(){return!!this.g},Zi.da=function(){try{return 2<mu(this)?this.g.status:-1}catch($s){return-1}},Zi.ja=function(){try{return this.g?this.g.responseText:""}catch($s){return""}},Zi.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ou(t)}},Zi.Ia=function(){return this.m},Zi.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Zi=_u.prototype).ra=8,Zi.H=1,Zi.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new ts(this,this.l,e),n=this.s;if(this.U&&(n?Ka(n=Wa(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Nu(this,t,r),xs(i=bs(this.I),"RID",e),xs(i,"CVER",22),this.F&&xs(i,"X-HTTP-Session-Id",this.F),Tu(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(gu(n)))+"&"+r:this.o&&ku(i,this.o,n)),Ks(this.i,t),this.bb&&xs(i,"TYPE","init"),this.P?(xs(i,"$req",r),xs(i,"SID","null"),t.aa=!0,os(t,i,null)):os(t,i,r),this.H=2}}else 3==this.H&&(e?Su(this,e):0==this.j.length||qs(this.i)||Su(this))},Zi.Ma=function(){if(this.u=null,Ou(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Wo(ca(this.jb,this),e)}},Zi.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Bo(10),Eu(this),Ou(this))},Zi.ib=function(){null!=this.v&&(this.v=null,Eu(this),Ru(this),Bo(19))},Zi.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Bo(2)):(this.l.info("Failed to ping google.com"),Bo(1))},Zi.isActive=function(){return!!this.h&&this.h.isActive(this)},(Zi=Vu.prototype).Ba=function(){},Zi.Aa=function(){},Zi.za=function(){},Zi.ya=function(){},Zi.isActive=function(){return!0},Zi.Va=function(){},zu.prototype.g=function(e,t){return new Bu(e,t)},ha(Bu,uo),Bu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Bo(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=ju(e,null,e.Y),Cu(e)},Bu.prototype.close=function(){wu(this.g)},Bu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=fo(e),e=n);t.j.push(new Vs(t.fb++,e)),3==t.H&&Cu(t)},Bu.prototype.N=function(){this.g.h=null,delete this.j,wu(this.g),delete this.g,Bu.$.N.call(this)},ha(qu,Jo),ha(Wu,Zo),ha(Hu,Vu),Hu.prototype.Ba=function(){lo(this.g,"a")},Hu.prototype.Aa=function(e){lo(this.g,new qu(e))},Hu.prototype.za=function(e){lo(this.g,new Wu)},Hu.prototype.ya=function(){lo(this.g,"b")},ha(Ku,(function(){this.blockSize=-1})),Ku.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ku.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Qu(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Qu(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Qu(this,r),i=0;break}}this.h=i,this.i+=t},Ku.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var $u={};function Yu(e){return-128<=e&&128>e?function(e,t){var n=$u;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Gu([0|e],0>e?-1:0)})):new Gu([0|e],0>e?-1:0)}function Xu(e){if(isNaN(e)||!isFinite(e))return Zu;if(0>e)return il(Xu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Ju;return new Gu(t,0)}var Ju=4294967296,Zu=Yu(0),el=Yu(1),tl=Yu(16777216);function nl(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function rl(e){return-1==e.h}function il(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Gu(n,~e.h).add(el)}function al(e,t){return e.add(il(t))}function ol(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function sl(e,t){this.g=e,this.h=t}function ul(e,t){if(nl(t))throw Error("division by zero");if(nl(e))return new sl(Zu,Zu);if(rl(e))return t=ul(il(e),t),new sl(il(t.g),il(t.h));if(rl(t))return t=ul(e,il(t)),new sl(il(t.g),t.h);if(30<e.g.length){if(rl(e)||rl(t))throw Error("slowDivide_ only works with positive integers.");for(var n=el,r=t;0>=r.X(e);)n=ll(n),r=ll(r);var i=cl(n,1),a=cl(r,1);for(r=cl(r,2),n=cl(n,2);!nl(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=cl(r,1),n=cl(n,1)}return t=al(e,i.R(t)),new sl(i,t)}for(i=Zu;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Xu(n)).R(t);rl(o)||0<o.X(e);)o=(a=Xu(n-=r)).R(t);nl(a)&&(a=el),i=i.add(a),e=al(e,o)}return new sl(i,e)}function ll(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Gu(n,e.h)}function cl(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Gu(i,e.h)}(Zi=Gu.prototype).ea=function(){if(rl(this))return-il(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Ju+r)*t,t*=Ju}return e},Zi.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(nl(this))return"0";if(rl(this))return"-"+il(this).toString(e);for(var t=Xu(Math.pow(e,6)),n=this,r="";;){var i=ul(n,t).g,a=((0<(n=al(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(nl(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Zi.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Zi.X=function(e){return rl(e=al(this,e))?-1:nl(e)?0:1},Zi.abs=function(){return rl(this)?il(this):this},Zi.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Gu(n,-2147483648&n[n.length-1]?-1:0)},Zi.R=function(e){if(nl(this)||nl(e))return Zu;if(rl(this))return rl(e)?il(this).R(il(e)):il(il(this).R(e));if(rl(e))return il(this.R(il(e)));if(0>this.X(tl)&&0>e.X(tl))return Xu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,ol(n,2*r+2*i),n[2*r+2*i+1]+=a*u,ol(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,ol(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,ol(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Gu(n,0)},Zi.gb=function(e){return ul(this,e).h},Zi.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Gu(n,this.h&e.h)},Zi.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Gu(n,this.h|e.h)},Zi.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Gu(n,this.h^e.h)},zu.prototype.createWebChannel=zu.prototype.g,Bu.prototype.send=Bu.prototype.u,Bu.prototype.open=Bu.prototype.m,Bu.prototype.close=Bu.prototype.close,Ho.NO_ERROR=0,Ho.TIMEOUT=8,Ho.HTTP_ERROR=6,Ko.COMPLETE="complete",$o.EventType=Xo,Xo.OPEN="a",Xo.CLOSE="b",Xo.ERROR="c",Xo.MESSAGE="d",uo.prototype.listen=uo.prototype.O,su.prototype.listenOnce=su.prototype.P,su.prototype.getLastError=su.prototype.Sa,su.prototype.getLastErrorCode=su.prototype.Ia,su.prototype.getStatus=su.prototype.da,su.prototype.getResponseJson=su.prototype.Wa,su.prototype.getResponseText=su.prototype.ja,su.prototype.send=su.prototype.ha,su.prototype.setWithCredentials=su.prototype.Oa,Ku.prototype.digest=Ku.prototype.l,Ku.prototype.reset=Ku.prototype.reset,Ku.prototype.update=Ku.prototype.j,Gu.prototype.add=Gu.prototype.add,Gu.prototype.multiply=Gu.prototype.R,Gu.prototype.modulo=Gu.prototype.gb,Gu.prototype.compare=Gu.prototype.X,Gu.prototype.toNumber=Gu.prototype.ea,Gu.prototype.toString=Gu.prototype.toString,Gu.prototype.getBits=Gu.prototype.D,Gu.fromNumber=Xu,Gu.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return il(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Xu(Math.pow(n,8)),i=Zu,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=Xu(Math.pow(n,o)),i=i.R(o).add(Xu(s))):i=(i=i.R(r)).add(Xu(s))}return i};var fl=ta.createWebChannelTransport=function(){return new zu},hl=ta.getStatEventTarget=function(){return jo()},dl=ta.ErrorCode=Ho,pl=ta.EventType=Ko,vl=ta.Event=Mo,ml=ta.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},yl=(ta.FetchXmlHttpFactory=eu,ta.WebChannel=$o),gl=ta.XhrIo=su,kl=ta.Md5=Ku,bl=ta.Integer=Gu,_l="@firebase/firestore",wl=function(){function e(t){Ot(this,e),this.uid=t}return At(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();wl.UNAUTHENTICATED=new wl(null),wl.GOOGLE_CREDENTIALS=new wl("google-credentials-uid"),wl.FIRST_PARTY=new wl("first-party-uid"),wl.MOCK_USER=new wl("mock-user");var El="10.5.0",xl=new ei("@firebase/firestore");function Cl(){return xl.logLevel}function Sl(e){if(xl.logLevel<=Qr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Il);xl.debug.apply(xl,["Firestore (".concat(El,"): ").concat(e)].concat(Pt(i)))}}function Tl(e){if(xl.logLevel<=Qr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Il);xl.error.apply(xl,["Firestore (".concat(El,"): ").concat(e)].concat(Pt(i)))}}function Nl(e){if(xl.logLevel<=Qr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Il);xl.warn.apply(xl,["Firestore (".concat(El,"): ").concat(e)].concat(Pt(i)))}}function Il(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Rl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(El,") INTERNAL ASSERTION FAILED: ")+e;throw Tl(t),new Error(t)}function Pl(e,t){e||Rl()}function Ol(e,t){return e}var Dl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Al=function(e){In(n,e);var t=On(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return At(n)}(Tr),Ll=At((function e(){var t=this;Ot(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Ml=At((function e(t,n){Ot(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Fl=function(){function e(){Ot(this,e)}return At(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(wl.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),jl=function(){function e(t){Ot(this,e),this.token=t,this.changeListener=null}return At(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Ul=function(){function e(t){Ot(this,e),this.t=t,this.currentUser=wl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return At(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Ll;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Ll,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(tr(Zn().mark((function e(){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Sl("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Sl("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ll)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Sl("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Pl("string"==typeof n.accessToken),new Ml(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Pl(null===e||"string"==typeof e),new wl(e)}}]),e}(),Vl=function(){function e(t,n,r){Ot(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=wl.FIRST_PARTY,this.I=new Map}return At(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),zl=function(){function e(t,n,r){Ot(this,e),this.l=t,this.h=n,this.P=r}return At(e,[{key:"getToken",value:function(){return Promise.resolve(new Vl(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(wl.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Bl=At((function e(t){Ot(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),ql=function(){function e(t){Ot(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return At(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Sl("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,Sl("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Sl("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):Sl("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Pl("string"==typeof t.token),e.R=t.token,new Bl(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Wl(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Hl=function(){function e(){Ot(this,e)}return At(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Wl(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Kl(e,t){return e<t?-1:e>t?1:0}function Ql(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Gl=function(){function e(t,n){if(Ot(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Al(Dl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Al(Dl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Al(Dl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Al(Dl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return At(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Kl(this.nanoseconds,e.nanoseconds):Kl(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),$l=function(){function e(t){Ot(this,e),this.timestamp=t}return At(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Gl(0,0))}},{key:"max",value:function(){return new e(new Gl(253402300799,999999999))}}]),e}(),Yl=function(){function e(t,n,r){Ot(this,e),void 0===n?n=0:n>t.length&&Rl(),void 0===r?r=t.length-n:r>t.length-n&&Rl(),this.segments=t,this.offset=n,this.len=r}return At(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Xl=function(e){In(n,e);var t=On(n);function n(){return Ot(this,n),t.apply(this,arguments)}return At(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Al(Dl.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Pt(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Yl),Jl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zl=function(e){In(n,e);var t=On(n);function n(){return Ot(this,n),t.apply(this,arguments)}return At(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Jl.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Al(Dl.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Al(Dl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Al(Dl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Al(Dl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Yl),ec=function(){function e(t){Ot(this,e),this.path=t}return At(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Xl.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Xl.fromString(t))}},{key:"fromName",value:function(t){return new e(Xl.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Xl.emptyPath())}},{key:"comparator",value:function(e,t){return Xl.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Xl(t.slice()))}}]),e}(),tc=At((function e(t,n,r,i){Ot(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));tc.UNKNOWN_ID=-1;function nc(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=$l.fromTimestamp(1e9===r?new Gl(n+1,0):new Gl(n,r));return new ic(i,ec.empty(),t)}function rc(e){return new ic(e.readTime,e.key,-1)}var ic=function(){function e(t,n,r){Ot(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return At(e,null,[{key:"min",value:function(){return new e($l.min(),ec.empty(),-1)}},{key:"max",value:function(){return new e($l.max(),ec.empty(),-1)}}]),e}();function ac(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=ec.comparator(e.documentKey,t.documentKey))?n:Kl(e.largestBatchId,t.largestBatchId)}var oc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sc=function(){function e(){Ot(this,e),this.onCommittedListeners=[]}return At(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function uc(e){return lc.apply(this,arguments)}function lc(){return(lc=tr(Zn().mark((function e(t){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Dl.FAILED_PRECONDITION&&t.message===oc){e.next=2;break}throw t;case 2:Sl("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cc=function(){function e(t){var n=this;Ot(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return At(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Rl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ir(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function fc(e){return"IndexedDbTransactionError"===e.name}var hc=function(){function e(t,n){var r=this;Ot(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return At(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function dc(e){return null==e}function pc(e){return 0===e&&1/e==-1/0}function vc(e){return"number"==typeof e&&Number.isInteger(e)&&!pc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}hc.ae=-1;var mc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),yc=([].concat(Pt(mc),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),gc=yc;[].concat(gc,["indexConfiguration","indexState","indexEntries"]);function kc(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function bc(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function _c(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var wc=function(){function e(t,n){Ot(this,e),this.comparator=t,this.root=n||xc.EMPTY}return At(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,xc.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xc.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ec(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ec(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ec(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ec(this.root,e,this.comparator,!0)}}]),e}(),Ec=function(){function e(t,n,r,i){Ot(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return At(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),xc=function(){function e(t,n,r,i,a){Ot(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return At(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Rl();if(this.right.isRed())throw Rl();var e=this.left.check();if(e!==this.right.check())throw Rl();return e+(this.isRed()?0:1)}}]),e}();xc.EMPTY=null,xc.RED=!0,xc.BLACK=!1,xc.EMPTY=new(function(){function e(){Ot(this,e),this.size=0}return At(e,[{key:"key",get:function(){throw Rl()}},{key:"value",get:function(){throw Rl()}},{key:"color",get:function(){throw Rl()}},{key:"left",get:function(){throw Rl()}},{key:"right",get:function(){throw Rl()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new xc(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Cc=function(){function e(t){Ot(this,e),this.comparator=t,this.data=new wc(this.comparator)}return At(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Sc(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Sc(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Sc=function(){function e(t){Ot(this,e),this.iter=t}return At(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Tc=function(){function e(t){Ot(this,e),this.fields=t,t.sort(Zl.comparator)}return At(e,[{key:"unionWith",value:function(t){var n,r=new Cc(Zl.comparator),i=ir(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,s=ir(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(l){s.e(l)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=ir(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ql(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Nc=function(e){In(n,e);var t=On(n);function n(){var e;return Ot(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return At(n)}(rr(Error));var Ic=function(e){function t(e){Ot(this,t),this.binaryString=e}return At(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Kl(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Nc("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Ic.EMPTY_BYTE_STRING=new Ic("");var Rc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pc(e){if(Pl(!!e),"string"==typeof e){var t=0,n=Rc.exec(e);if(Pl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Oc(e.seconds),nanos:Oc(e.nanos)}}function Oc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Dc(e){return"string"==typeof e?Ic.fromBase64String(e):Ic.fromUint8Array(e)}function Ac(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Lc(e){var t=e.mapValue.fields.__previous_value__;return Ac(t)?Lc(t):t}function Mc(e){var t=Pc(e.mapValue.fields.__local_write_time__.timestampValue);return new Gl(t.seconds,t.nanos)}var Fc=At((function e(t,n,r,i,a,o,s,u,l){Ot(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=l})),jc=function(){function e(t,n){Ot(this,e),this.projectId=t,this.database=n||"(default)"}return At(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Uc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ac(e)?4:Zc(e)?9007199254740991:10:Rl()}function zc(e,t){if(e===t)return!0;var n=Vc(e);if(n!==Vc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Mc(e).isEqual(Mc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Pc(e.timestampValue),r=Pc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Dc(e.bytesValue).isEqual(Dc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Oc(e.geoPointValue.latitude)===Oc(t.geoPointValue.latitude)&&Oc(e.geoPointValue.longitude)===Oc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Oc(e.integerValue)===Oc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Oc(e.doubleValue),r=Oc(t.doubleValue);return n===r?pc(n)===pc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ql(e.arrayValue.values||[],t.arrayValue.values||[],zc);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(kc(n)!==kc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!zc(n[i],r[i])))return!1;return!0}(e,t);default:return Rl()}}function Bc(e,t){return void 0!==(e.values||[]).find((function(e){return zc(e,t)}))}function qc(e,t){if(e===t)return 0;var n=Vc(e),r=Vc(t);if(n!==r)return Kl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Kl(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Oc(e.integerValue||e.doubleValue),r=Oc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Wc(e.timestampValue,t.timestampValue);case 4:return Wc(Mc(e),Mc(t));case 5:return Kl(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Dc(e),r=Dc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Kl(n[i],r[i]);if(0!==a)return a}return Kl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Kl(Oc(e.latitude),Oc(t.latitude));return 0!==n?n:Kl(Oc(e.longitude),Oc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=qc(n[i],r[i]);if(a)return a}return Kl(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Uc.mapValue&&t===Uc.mapValue)return 0;if(e===Uc.mapValue)return 1;if(t===Uc.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Kl(r[o],a[o]);if(0!==s)return s;var u=qc(n[r[o]],i[a[o]]);if(0!==u)return u}return Kl(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Rl()}}function Wc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Kl(e,t);var n=Pc(e),r=Pc(t),i=Kl(n.seconds,r.seconds);return 0!==i?i:Kl(n.nanos,r.nanos)}function Hc(e){return Kc(e)}function Kc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Pc(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Dc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ec.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ir(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Kc(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ir(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Kc(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Rl()}function Qc(e){return!!e&&"integerValue"in e}function Gc(e){return!!e&&"arrayValue"in e}function $c(e){return!!e&&"nullValue"in e}function Yc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Xc(e){return!!e&&"mapValue"in e}function Jc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return bc(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Jc(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Jc(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Zc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var ef=function(){function e(t){Ot(this,e),this.value=t}return At(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Xc(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jc(t)}},{key:"setAll",value:function(e){var t=this,n=Zl.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Jc(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Xc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return zc(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Xc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){bc(t,(function(t,n){return e[t]=n}));var r,i=ir(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Jc(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function tf(e){var t=[];return bc(e.fields,(function(e,n){var r=new Zl([e]);if(Xc(n)){var i=tf(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ir(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Tc(t)}var nf=function(){function e(t,n,r,i,a,o,s){Ot(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return At(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual($l.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=ef.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=ef.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=$l.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,$l.min(),$l.min(),$l.min(),ef.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,$l.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,$l.min(),$l.min(),ef.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,$l.min(),$l.min(),ef.empty(),2)}}]),e}(),rf=At((function e(t,n){Ot(this,e),this.position=t,this.inclusive=n}));function af(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ec.comparator(ec.fromName(o.referenceValue),n.key):qc(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function of(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!zc(e.position[n],t.position[n]))return!1;return!0}var sf=At((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Ot(this,e),this.field=t,this.dir=n}));function uf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var lf=At((function e(){Ot(this,e)})),cf=function(e){In(n,e);var t=On(n);function n(e,r,i){var a;return Ot(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return At(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(qc(t,this.value)):null!==t&&Vc(this.value)===Vc(t)&&this.matchesComparison(qc(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Rl()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new gf(e,t,r):"array-contains"===t?new wf(e,r):"in"===t?new Ef(e,r):"not-in"===t?new xf(e,r):"array-contains-any"===t?new Cf(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new kf(e,n):new bf(e,n)}}]),n}(lf),ff=function(e){In(n,e);var t=On(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return At(n,[{key:"matches",value:function(e){return hf(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(lf);function hf(e){return"and"===e.op}function df(e){return pf(e)&&hf(e)}function pf(e){var t,n=ir(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof ff)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function vf(e){if(e instanceof cf)return e.field.canonicalString()+e.op.toString()+Hc(e.value);if(df(e))return e.filters.map((function(e){return vf(e)})).join(",");var t=e.filters.map((function(e){return vf(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function mf(e,t){return e instanceof cf?function(e,t){return t instanceof cf&&e.op===t.op&&e.field.isEqual(t.field)&&zc(e.value,t.value)}(e,t):e instanceof ff?function(e,t){return t instanceof ff&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&mf(n,t.filters[r])}),!0)}(e,t):void Rl()}function yf(e){return e instanceof cf?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Hc(e.value))}(e):e instanceof ff?function(e){return e.op.toString()+" {"+e.getFilters().map(yf).join(" ,")+"}"}(e):"Filter"}var gf=function(e){In(n,e);var t=On(n);function n(e,r,i){var a;return Ot(this,n),(a=t.call(this,e,r,i)).key=ec.fromName(i.referenceValue),a}return At(n,[{key:"matches",value:function(e){var t=ec.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(cf),kf=function(e){In(n,e);var t=On(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this,e,"in",r)).keys=_f("in",r),i}return At(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(cf),bf=function(e){In(n,e);var t=On(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this,e,"not-in",r)).keys=_f("not-in",r),i}return At(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(cf);function _f(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ec.fromName(e.referenceValue)}))}var wf=function(e){In(n,e);var t=On(n);function n(e,r){return Ot(this,n),t.call(this,e,"array-contains",r)}return At(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Gc(t)&&Bc(t.arrayValue,this.value)}}]),n}(cf),Ef=function(e){In(n,e);var t=On(n);function n(e,r){return Ot(this,n),t.call(this,e,"in",r)}return At(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Bc(this.value.arrayValue,t)}}]),n}(cf),xf=function(e){In(n,e);var t=On(n);function n(e,r){return Ot(this,n),t.call(this,e,"not-in",r)}return At(n,[{key:"matches",value:function(e){if(Bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Bc(this.value.arrayValue,t)}}]),n}(cf),Cf=function(e){In(n,e);var t=On(n);function n(e,r){return Ot(this,n),t.call(this,e,"array-contains-any",r)}return At(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Gc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Bc(t.value.arrayValue,e)}))}}]),n}(cf),Sf=At((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Ot(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.le=null}));function Tf(e){return new Sf(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Nf(e){var t=Ol(e);if(null===t.le){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return vf(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),dc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Hc(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Hc(e)})).join(",")),t.le=n}return t.le}function If(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!uf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!mf(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!of(e.startAt,t.startAt)&&of(e.endAt,t.endAt)}function Rf(e){return ec.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Pf=At((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Ot(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.he=null,this.Pe=null,this.Ie=null,this.startAt,this.endAt}));function Of(e,t,n,r,i,a,o,s){return new Pf(e,t,n,r,i,a,o,s)}function Df(e){return new Pf(e)}function Af(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Lf(e){return null!==e.collectionGroup}function Mf(e){var t=Ol(e);if(null===t.he){t.he=[];var n,r=new Set,i=ir(t.explicitOrderBy);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.he.push(a),r.add(a.field.canonicalString())}}catch(u){i.e(u)}finally{i.f()}var o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",s=function(e){var t=new Cc(Zl.comparator);return e.filters.forEach((function(e){e.getFlattenedFilters().forEach((function(e){e.isInequality()&&(t=t.add(e.field))}))})),t}(t);s.forEach((function(e){r.has(e.canonicalString())||e.isKeyField()||t.he.push(new sf(e,o))})),r.has(Zl.keyField().canonicalString())||t.he.push(new sf(Zl.keyField(),o))}return t.he}function Ff(e){var t=Ol(e);return t.Pe||(t.Pe=jf(t,Mf(e))),t.Pe}function jf(e,t){if("F"===e.limitType)return Tf(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new sf(e.field,t)}));var n=e.endAt?new rf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new rf(e.startAt.position,e.startAt.inclusive):null;return Tf(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function Uf(e,t,n){return new Pf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Vf(e,t){return If(Ff(e),Ff(t))&&e.limitType===t.limitType}function zf(e){return"".concat(Nf(Ff(e)),"|lt:").concat(e.limitType)}function Bf(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return yf(e)})).join(", "),"]")),dc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Hc(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Hc(e)})).join(",")),"Target(".concat(t,")")}(Ff(e)),"; limitType=").concat(e.limitType,")")}function qf(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ec.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ir(Mf(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ir(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=af(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Mf(e),t))&&!(e.endAt&&!function(e,t,n){var r=af(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Mf(e),t))}(e,t)}function Wf(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Hf(e){return function(t,n){var r,i=!1,a=ir(Mf(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Kf(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Kf(e,t,n){var r=e.field.isKeyField()?ec.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?qc(r,i):Rl()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Rl()}}var Qf=function(){function e(t,n){Ot(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return At(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ir(n);try{for(i.s();!(r=i.n()).done;){var a=D(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){bc(this.inner,(function(t,n){var r,i=ir(n);try{for(i.s();!(r=i.n()).done;){var a=D(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return _c(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Gf=new wc(ec.comparator);function $f(){return Gf}var Yf=new wc(ec.comparator);function Xf(){for(var e=Yf,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Jf(e){var t=Yf;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Zf(){return th()}function eh(){return th()}function th(){return new Qf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var nh=new wc(ec.comparator),rh=new Cc(ec.comparator);function ih(){for(var e=rh,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var ah=new Cc(Kl);function oh(){return ah}function sh(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pc(t)?"-0":t}}function uh(e){return{integerValue:""+e}}function lh(e,t){return vc(t)?uh(t):sh(e,t)}var ch=At((function e(){Ot(this,e),this._=void 0}));function fh(e,t,n){return e instanceof ph?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ac(t)&&(t=Lc(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof vh?mh(e,t):e instanceof yh?gh(e,t):function(e,t){var n=dh(e,t),r=bh(n)+bh(e.Te);return Qc(n)&&Qc(e.Te)?uh(r):sh(e.serializer,r)}(e,t)}function hh(e,t,n){return e instanceof vh?mh(e,t):e instanceof yh?gh(e,t):n}function dh(e,t){return e instanceof kh?function(e){return Qc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var ph=function(e){In(n,e);var t=On(n);function n(){return Ot(this,n),t.apply(this,arguments)}return At(n)}(ch),vh=function(e){In(n,e);var t=On(n);function n(e){var r;return Ot(this,n),(r=t.call(this)).elements=e,r}return At(n)}(ch);function mh(e,t){var n,r=_h(t),i=ir(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return zc(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var yh=function(e){In(n,e);var t=On(n);function n(e){var r;return Ot(this,n),(r=t.call(this)).elements=e,r}return At(n)}(ch);function gh(e,t){var n,r=_h(t),i=ir(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!zc(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var kh=function(e){In(n,e);var t=On(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this)).serializer=e,i.Te=r,i}return At(n)}(ch);function bh(e){return Oc(e.integerValue||e.doubleValue)}function _h(e){return Gc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var wh=At((function e(t,n){Ot(this,e),this.field=t,this.transform=n}));var Eh=At((function e(t,n){Ot(this,e),this.version=t,this.transformResults=n})),xh=function(){function e(t,n){Ot(this,e),this.updateTime=t,this.exists=n}return At(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Ch(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Sh=At((function e(){Ot(this,e)}));function Th(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Uh(e.key,xh.none()):new Oh(e.key,e.data,xh.none());var n,r=e.data,i=ef.empty(),a=new Cc(Zl.comparator),o=ir(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(l){o.e(l)}finally{o.f()}return new Dh(e.key,i,new Tc(a.toArray()),xh.none())}function Nh(e,t,n){e instanceof Oh?function(e,t,n){var r=e.value.clone(),i=Lh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Dh?function(e,t,n){if(Ch(e.precondition,t)){var r=Lh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ah(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ih(e,t,n,r){return e instanceof Oh?function(e,t,n,r){if(!Ch(e.precondition,t))return n;var i=e.value.clone(),a=Mh(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Dh?function(e,t,n,r){if(!Ch(e.precondition,t))return n;var i=Mh(e.fieldTransforms,r,t),a=t.data;return a.setAll(Ah(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Ch(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Rh(e,t){var n,r=null,i=ir(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=dh(a.transform,o||null);null!=s&&(null===r&&(r=ef.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Ph(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ql(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof vh&&t instanceof vh||e instanceof yh&&t instanceof yh?Ql(e.elements,t.elements,zc):e instanceof kh&&t instanceof kh?zc(e.Te,t.Te):e instanceof ph&&t instanceof ph}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Oh=function(e){In(n,e);var t=On(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Ot(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return At(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Sh),Dh=function(e){In(n,e);var t=On(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Ot(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return At(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Sh);function Ah(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Lh(e,t,n){var r=new Map;Pl(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,hh(o,s,n[i]))}return r}function Mh(e,t,n){var r,i=new Map,a=ir(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,fh(s,u,t))}}catch(l){a.e(l)}finally{a.f()}return i}var Fh,jh,Uh=function(e){In(n,e);var t=On(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return At(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Sh),Vh=function(e){In(n,e);var t=On(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return At(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Sh),zh=function(){function e(t,n,r,i){Ot(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return At(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Nh(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=ir(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Ih(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=ir(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Ih(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=eh();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=Th(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument($l.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ih())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ql(this.mutations,e.mutations,(function(e,t){return Ph(e,t)}))&&Ql(this.baseMutations,e.baseMutations,(function(e,t){return Ph(e,t)}))}}]),e}(),Bh=function(){function e(t,n,r,i){Ot(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return At(e,null,[{key:"from",value:function(t,n,r){Pl(t.mutations.length===r.length);for(var i=nh,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),qh=function(){function e(t,n){Ot(this,e),this.largestBatchId=t,this.mutation=n}return At(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Wh=At((function e(t,n){Ot(this,e),this.count=t,this.unchangedNames=n}));function Hh(e){switch(e){default:return Rl();case Dl.CANCELLED:case Dl.UNKNOWN:case Dl.DEADLINE_EXCEEDED:case Dl.RESOURCE_EXHAUSTED:case Dl.INTERNAL:case Dl.UNAVAILABLE:case Dl.UNAUTHENTICATED:return!1;case Dl.INVALID_ARGUMENT:case Dl.NOT_FOUND:case Dl.ALREADY_EXISTS:case Dl.PERMISSION_DENIED:case Dl.FAILED_PRECONDITION:case Dl.ABORTED:case Dl.OUT_OF_RANGE:case Dl.UNIMPLEMENTED:case Dl.DATA_LOSS:return!0}}function Kh(e){if(void 0===e)return Tl("GRPC error has no .code"),Dl.UNKNOWN;switch(e){case Fh.OK:return Dl.OK;case Fh.CANCELLED:return Dl.CANCELLED;case Fh.UNKNOWN:return Dl.UNKNOWN;case Fh.DEADLINE_EXCEEDED:return Dl.DEADLINE_EXCEEDED;case Fh.RESOURCE_EXHAUSTED:return Dl.RESOURCE_EXHAUSTED;case Fh.INTERNAL:return Dl.INTERNAL;case Fh.UNAVAILABLE:return Dl.UNAVAILABLE;case Fh.UNAUTHENTICATED:return Dl.UNAUTHENTICATED;case Fh.INVALID_ARGUMENT:return Dl.INVALID_ARGUMENT;case Fh.NOT_FOUND:return Dl.NOT_FOUND;case Fh.ALREADY_EXISTS:return Dl.ALREADY_EXISTS;case Fh.PERMISSION_DENIED:return Dl.PERMISSION_DENIED;case Fh.FAILED_PRECONDITION:return Dl.FAILED_PRECONDITION;case Fh.ABORTED:return Dl.ABORTED;case Fh.OUT_OF_RANGE:return Dl.OUT_OF_RANGE;case Fh.UNIMPLEMENTED:return Dl.UNIMPLEMENTED;case Fh.DATA_LOSS:return Dl.DATA_LOSS;default:return Rl()}}(jh=Fh||(Fh={}))[jh.OK=0]="OK",jh[jh.CANCELLED=1]="CANCELLED",jh[jh.UNKNOWN=2]="UNKNOWN",jh[jh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jh[jh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jh[jh.NOT_FOUND=5]="NOT_FOUND",jh[jh.ALREADY_EXISTS=6]="ALREADY_EXISTS",jh[jh.PERMISSION_DENIED=7]="PERMISSION_DENIED",jh[jh.UNAUTHENTICATED=16]="UNAUTHENTICATED",jh[jh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jh[jh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jh[jh.ABORTED=10]="ABORTED",jh[jh.OUT_OF_RANGE=11]="OUT_OF_RANGE",jh[jh.UNIMPLEMENTED=12]="UNIMPLEMENTED",jh[jh.INTERNAL=13]="INTERNAL",jh[jh.UNAVAILABLE=14]="UNAVAILABLE",jh[jh.DATA_LOSS=15]="DATA_LOSS";var Qh=null;function Gh(){return new TextEncoder}var $h=new bl([4294967295,4294967295],0);function Yh(e){var t=Gh().encode(e),n=new kl;return n.update(t),new Uint8Array(n.digest())}function Xh(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new bl([n,r],0),new bl([i,a],0)]}var Jh=function(){function e(t,n,r){if(Ot(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zh("Invalid padding: ".concat(n));if(r<0)throw new Zh("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Zh("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Zh("Invalid padding when bitmap length is 0: ".concat(n));this.Ee=8*t.length-n,this.de=bl.fromNumber(this.Ee)}return At(e,[{key:"Ae",value:function(e,t,n){var r=e.add(t.multiply(bl.fromNumber(n)));return 1===r.compare($h)&&(r=new bl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}},{key:"Re",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Ee)return!1;for(var t=D(Xh(Yh(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ae(n,r,i);if(!this.Re(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Ee)for(var t=D(Xh(Yh(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ae(n,r,i);this.Ve(a)}}},{key:"Ve",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Zh=function(e){In(n,e);var t=On(n);function n(){var e;return Ot(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return At(n)}(rr(Error)),ed=function(){function e(t,n,r,i,a){Ot(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return At(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,td.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e($l.min(),i,new wc(Kl),$f(),ih())}}]),e}(),td=function(){function e(t,n,r,i,a){Ot(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return At(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,ih(),ih(),ih())}}]),e}(),nd=At((function e(t,n,r,i){Ot(this,e),this.me=t,this.removedTargetIds=n,this.key=r,this.fe=i})),rd=At((function e(t,n){Ot(this,e),this.targetId=t,this.ge=n})),id=At((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ic.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ot(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),ad=function(){function e(){Ot(this,e),this.pe=0,this.ye=ud(),this.we=Ic.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}return At(e,[{key:"current",get:function(){return this.Se}},{key:"resumeToken",get:function(){return this.we}},{key:"De",get:function(){return 0!==this.pe}},{key:"Ce",get:function(){return this.be}},{key:"ve",value:function(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}},{key:"Fe",value:function(){var e=ih(),t=ih(),n=ih();return this.ye.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Rl()}})),new td(this.we,this.Se,e,t,n)}},{key:"Me",value:function(){this.be=!1,this.ye=ud()}},{key:"xe",value:function(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}},{key:"Oe",value:function(e){this.be=!0,this.ye=this.ye.remove(e)}},{key:"Ne",value:function(){this.pe+=1}},{key:"Be",value:function(){this.pe-=1}},{key:"Le",value:function(){this.be=!0,this.Se=!0}}]),e}(),od=function(){function e(t){Ot(this,e),this.ke=t,this.qe=new Map,this.Qe=$f(),this.Ke=sd(),this.$e=new wc(Kl)}return At(e,[{key:"Ue",value:function(e){var t,n=ir(e.me);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.fe&&e.fe.isFoundDocument()?this.We(r,e.fe):this.Ge(r,e.key,e.fe)}}catch(s){n.e(s)}finally{n.f()}var i,a=ir(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Ge(o,e.key,e.fe)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ze",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.je(n);switch(e.state){case 0:t.He(n)&&r.ve(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.ve(e.resumeToken);break;case 2:r.Be(),r.De||t.removeTarget(n);break;case 3:t.He(n)&&(r.Le(),r.ve(e.resumeToken));break;case 4:t.He(n)&&(t.Je(n),r.ve(e.resumeToken));break;default:Rl()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((function(e,r){n.He(r)&&t(r)}))}},{key:"Ye",value:function(e){var t=e.targetId,n=e.ge.count,r=this.Ze(t);if(r){var i=r.target;if(Rf(i))if(0===n){var a=new ec(i.path);this.Ge(t,a,nf.newNoDocument(a,$l.min()))}else Pl(1===n);else{var o=this.Xe(t);if(o!==n){var s=this.et(e),u=s?this.tt(s,e,o):1;if(0!==u){this.Je(t);var l=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.$e=this.$e.insert(t,l)}null==Qh||Qh.nt(function(e,t,n,r,i){var a,o,s,u,l,c,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(u=null===(s=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==u?u:0,padding:null!==(c=null===(l=null==h?void 0:h.bits)||void 0===l?void 0:l.padding)&&void 0!==c?c:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(o,e.ge,this.ke.rt(),s,u))}}}}},{key:"et",value:function(e){var t=e.ge.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,s=i.padding,u=void 0===s?0:s,l=t.hashCount,c=void 0===l?0:l;try{n=Dc(o).toUint8Array()}catch(e){if(e instanceof Nc)return Nl("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new Jh(n,u,c)}catch(e){return Nl(e instanceof Zh?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Ee?null:r}},{key:"tt",value:function(e,t,n){return t.ge.count===n-this.it(e,t.targetId)?0:2}},{key:"it",value:function(e,t){var n=this,r=this.ke.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.ke.rt(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.Ge(t,r,null),i++)})),i}},{key:"st",value:function(e){var t=this,n=new Map;this.qe.forEach((function(r,i){var a=t.Ze(i);if(a){if(r.current&&Rf(a.target)){var o=new ec(a.target.path);null!==t.Qe.get(o)||t.ot(i,o)||t.Ge(i,o,nf.newNoDocument(o,e))}r.Ce&&(n.set(i,r.Fe()),r.Me())}}));var r=ih();this.Ke.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ze(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Qe.forEach((function(t,n){return n.setReadTime(e)}));var i=new ed(e,n,this.$e,this.Qe,r);return this.Qe=$f(),this.Ke=sd(),this.$e=new wc(Kl),i}},{key:"We",value:function(e,t){if(this.He(e)){var n=this.ot(e,t.key)?2:0;this.je(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.Ke=this.Ke.insert(t.key,this._t(t.key).add(e))}}},{key:"Ge",value:function(e,t,n){if(this.He(e)){var r=this.je(e);this.ot(e,t)?r.xe(t,1):r.Oe(t),this.Ke=this.Ke.insert(t,this._t(t).delete(e)),n&&(this.Qe=this.Qe.insert(t,n))}}},{key:"removeTarget",value:function(e){this.qe.delete(e)}},{key:"Xe",value:function(e){var t=this.je(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ne",value:function(e){this.je(e).Ne()}},{key:"je",value:function(e){var t=this.qe.get(e);return t||(t=new ad,this.qe.set(e,t)),t}},{key:"_t",value:function(e){var t=this.Ke.get(e);return t||(t=new Cc(Kl),this.Ke=this.Ke.insert(e,t)),t}},{key:"He",value:function(e){var t=null!==this.Ze(e);return t||Sl("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ze",value:function(e){var t=this.qe.get(e);return t&&t.De?null:this.ke.ut(e)}},{key:"Je",value:function(e){var t=this;this.qe.set(e,new ad),this.ke.getRemoteKeysForTarget(e).forEach((function(n){t.Ge(e,n,null)}))}},{key:"ot",value:function(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}]),e}();function sd(){return new wc(ec.comparator)}function ud(){return new wc(ec.comparator)}var ld={asc:"ASCENDING",desc:"DESCENDING"},cd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fd={and:"AND",or:"OR"},hd=At((function e(t,n){Ot(this,e),this.databaseId=t,this.useProto3Json=n}));function dd(e,t){return e.useProto3Json||dc(t)?t:{value:t}}function pd(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function vd(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function md(e,t){return pd(e,t.toTimestamp())}function yd(e){return Pl(!!e),$l.fromTimestamp(function(e){var t=Pc(e);return new Gl(t.seconds,t.nanos)}(e))}function gd(e,t){return function(e){return new Xl(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function kd(e){var t=Xl.fromString(e);return Pl(Ud(t)),t}function bd(e,t){return gd(e.databaseId,t.path)}function _d(e,t){var n=kd(t);if(n.get(1)!==e.databaseId.projectId)throw new Al(Dl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Al(Dl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ec(Cd(n))}function wd(e,t){return gd(e.databaseId,t)}function Ed(e){var t=kd(e);return 4===t.length?Xl.emptyPath():Cd(t)}function xd(e){return new Xl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Cd(e){return Pl(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Sd(e,t,n){return{name:bd(e,t),fields:n.value.mapValue.fields}}function Td(e,t){var n;if(t instanceof Oh)n={update:Sd(e,t.key,t.value)};else if(t instanceof Uh)n={delete:bd(e,t.key)};else if(t instanceof Dh)n={update:Sd(e,t.key,t.data),updateMask:jd(t.fieldMask)};else{if(!(t instanceof Vh))return Rl();n={verify:bd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof ph)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof vh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof kh)return{fieldPath:t.field.canonicalString(),increment:n.Te};throw Rl()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:md(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Rl()}(e,t.precondition)),n}function Nd(e,t){return{documents:[wd(e,t.path)]}}function Id(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=wd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=wd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Fd(ff.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ld(e.field),direction:Od(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=dd(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Rd(e){var t=Ed(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Pl(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Pd(e);return t instanceof ff&&df(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=function(e){return e.map((function(e){return function(e){return new sf(Md(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var u=null;n.limit&&(u=function(e){var t;return dc(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new rf(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new rf(n,t)}(n.endAt)),Of(t,i,s,o,u,"F",l,c)}function Pd(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Md(e.unaryFilter.field);return cf.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Md(e.unaryFilter.field);return cf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Md(e.unaryFilter.field);return cf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Md(e.unaryFilter.field);return cf.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Rl()}}(e):void 0!==e.fieldFilter?function(e){return cf.create(Md(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rl()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ff.create(e.compositeFilter.filters.map((function(e){return Pd(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Rl()}}(e.compositeFilter.op))}(e):Rl()}function Od(e){return ld[e]}function Dd(e){return cd[e]}function Ad(e){return fd[e]}function Ld(e){return{fieldPath:e.canonicalString()}}function Md(e){return Zl.fromServerFormat(e.fieldPath)}function Fd(e){return e instanceof cf?function(e){if("=="===e.op){if(Yc(e.value))return{unaryFilter:{field:Ld(e.field),op:"IS_NAN"}};if($c(e.value))return{unaryFilter:{field:Ld(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Yc(e.value))return{unaryFilter:{field:Ld(e.field),op:"IS_NOT_NAN"}};if($c(e.value))return{unaryFilter:{field:Ld(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ld(e.field),op:Dd(e.op),value:e.value}}}(e):e instanceof ff?function(e){var t=e.getFilters().map((function(e){return Fd(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Ad(e.op),filters:t}}}(e):Rl()}function jd(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ud(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Vd=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:$l.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:$l.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ic.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Ot(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return At(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),zd=At((function e(t){Ot(this,e),this.ct=t}));function Bd(e){var t=Rd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Uf(t,t.limit,"L"):t}var qd=function(){function e(){Ot(this,e)}return At(e,[{key:"Pt",value:function(e,t){this.It(e,t),t.Tt()}},{key:"It",value:function(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Oc(e.integerValue));else if("doubleValue"in e){var n=Oc(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),pc(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Et(t,20),"string"==typeof r?t.At(r):(t.At("".concat(r.seconds||"")),t.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Dc(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?Zc(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Rl()}},{key:"Rt",value:function(e,t){this.Et(t,25),this.St(e,t)}},{key:"St",value:function(e,t){t.At(e)}},{key:"yt",value:function(e,t){var n=e.fields||{};this.Et(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Rt(a,t),this.It(n[a],t)}}},{key:"wt",value:function(e,t){var n=e.values||[];this.Et(t,50);var r,i=ir(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.It(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"gt",value:function(e,t){var n=this;this.Et(t,37),ec.fromName(e).path.forEach((function(e){n.Et(t,60),n.St(e,t)}))}},{key:"Et",value:function(e,t){e.dt(t)}},{key:"Vt",value:function(e){e.dt(2)}}]),e}();qd.bt=new qd;var Wd=function(){function e(){Ot(this,e),this._n=new Hd}return At(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this._n.add(t),cc.resolve()}},{key:"getCollectionParents",value:function(e,t){return cc.resolve(this._n.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return cc.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return cc.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return cc.resolve()}},{key:"createTargetIndexes",value:function(e,t){return cc.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return cc.resolve(null)}},{key:"getIndexType",value:function(e,t){return cc.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return cc.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return cc.resolve(null)}},{key:"getMinOffset",value:function(e,t){return cc.resolve(ic.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return cc.resolve(ic.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return cc.resolve()}},{key:"updateIndexEntries",value:function(e,t){return cc.resolve()}}]),e}(),Hd=function(){function e(){Ot(this,e),this.index={}}return At(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Cc(Xl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Cc(Xl.comparator)).toArray()}}]),e}();new Uint8Array(0);var Kd=function(){function e(t,n,r){Ot(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return At(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Kd.DEFAULT_COLLECTION_PERCENTILE=10,Kd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kd.DEFAULT=new Kd(41943040,Kd.DEFAULT_COLLECTION_PERCENTILE,Kd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kd.DISABLED=new Kd(-1,0,0);var Qd=function(){function e(t){Ot(this,e),this.On=t}return At(e,[{key:"next",value:function(){return this.On+=2,this.On}}],[{key:"Nn",value:function(){return new e(0)}},{key:"Bn",value:function(){return new e(-1)}}]),e}();var Gd=function(){function e(){Ot(this,e),this.changes=new Qf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return At(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,nf.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?cc.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var $d=At((function e(t,n){Ot(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Yd=function(){function e(t,n,r,i){Ot(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return At(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Ih(r.mutation,e,Tc.empty(),Gl.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,ih()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ih(),i=Zf();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Xf();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Zf();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,ih())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=$f(),a=th(),o=th();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Dh)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Ih(o.mutation,t,o.mutation.getFieldMask(),Gl.now())):a.set(t.key,Tc.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new $d(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=th(),i=new wc((function(e,t){return e-t})),a=ih();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=ir(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Tc.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||ih()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,l=i.value,c=eh();l.forEach((function(e){if(!a.has(e)){var n=Th(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,c))};s.hasNext();)u();return cc.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return ec.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Lf(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):cc.resolve(Zf()),s=-1,u=a;return o.next((function(t){return cc.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?cc.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,ih())})).next((function(e){return{batchId:s,changes:Jf(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new ec(t)).next((function(e){var t=Xf();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=Xf();return this.indexManager.getCollectionParents(e,a).next((function(s){return cc.forEach(s,(function(s){var u=function(e,t){return new Pf(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(a));return i.getDocumentsMatchingCollectionQuery(e,u,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,nf.newInvalidDocument(r)))}));var n=Xf();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&Ih(a.mutation,r,Tc.empty(),Gl.now()),qf(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),Xd=function(){function e(t){Ot(this,e),this.serializer=t,this.cr=new Map,this.lr=new Map}return At(e,[{key:"getBundleMetadata",value:function(e,t){return cc.resolve(this.cr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:yd(e.createTime)}}(t)),cc.resolve()}},{key:"getNamedQuery",value:function(e,t){return cc.resolve(this.lr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Bd(e.bundledQuery),readTime:yd(e.readTime)}}(t)),cc.resolve()}}]),e}(),Jd=function(){function e(){Ot(this,e),this.overlays=new wc(ec.comparator),this.hr=new Map}return At(e,[{key:"getOverlay",value:function(e,t){return cc.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Zf();return cc.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ht(e,t,i)})),cc.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.hr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.hr.delete(n)),cc.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Zf(),i=t.length+1,a=new ec(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return cc.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new wc((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Zf(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Zf(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return cc.resolve(u)}},{key:"ht",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new qh(t,n));var a=this.hr.get(t);void 0===a&&(a=ih(),this.hr.set(t,a)),this.hr.set(t,a.add(n.key))}}]),e}(),Zd=function(){function e(){Ot(this,e),this.Pr=new Cc(ep.Ir),this.Tr=new Cc(ep.Er)}return At(e,[{key:"isEmpty",value:function(){return this.Pr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new ep(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}},{key:"dr",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ar(new ep(e,t))}},{key:"Rr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Vr",value:function(e){var t=this,n=new ec(new Xl([])),r=new ep(n,e),i=new ep(n,e+1),a=[];return this.Tr.forEachInRange([r,i],(function(e){t.Ar(e),a.push(e.key)})),a}},{key:"mr",value:function(){var e=this;this.Pr.forEach((function(t){return e.Ar(t)}))}},{key:"Ar",value:function(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}},{key:"gr",value:function(e){var t=new ec(new Xl([])),n=new ep(t,e),r=new ep(t,e+1),i=ih();return this.Tr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new ep(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),ep=function(){function e(t,n){Ot(this,e),this.key=t,this.pr=n}return At(e,null,[{key:"Ir",value:function(e,t){return ec.comparator(e.key,t.key)||Kl(e.pr,t.pr)}},{key:"Er",value:function(e,t){return Kl(e.pr,t.pr)||ec.comparator(e.key,t.key)}}]),e}(),tp=function(){function e(t,n){Ot(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Cc(ep.Ir)}return At(e,[{key:"checkEmpty",value:function(e){return cc.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new zh(i,t,n,r);this.mutationQueue.push(a);var o,s=ir(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.wr=this.wr.add(new ep(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return cc.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return cc.resolve(this.Sr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.br(n),i=r<0?0:r;return cc.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return cc.resolve(0===this.mutationQueue.length?-1:this.yr-1)}},{key:"getAllMutationBatches",value:function(e){return cc.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new ep(t,0),i=new ep(t,Number.POSITIVE_INFINITY),a=[];return this.wr.forEachInRange([r,i],(function(e){var t=n.Sr(e.pr);a.push(t)})),cc.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Cc(Kl);return t.forEach((function(e){var t=new ep(e,0),i=new ep(e,Number.POSITIVE_INFINITY);n.wr.forEachInRange([t,i],(function(e){r=r.add(e.pr)}))})),cc.resolve(this.Dr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ec.isDocumentKey(i)||(i=i.child(""));var a=new ep(new ec(i),0),o=new Cc(Kl);return this.wr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),a),cc.resolve(this.Dr(o))}},{key:"Dr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Sr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Pl(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.wr;return cc.forEach(t.mutations,(function(i){var a=new ep(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.wr=r}))}},{key:"Mn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new ep(t,0),r=this.wr.firstAfterOrEqual(n);return cc.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,cc.resolve()}},{key:"Cr",value:function(e,t){return this.br(e)}},{key:"br",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Sr",value:function(e){var t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),np=function(){function e(t){Ot(this,e),this.vr=t,this.docs=new wc(ec.comparator),this.size=0}return At(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return cc.resolve(n?n.document.mutableCopy():nf.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=$f();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():nf.newInvalidDocument(e))})),cc.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=$f(),a=t.path,o=new ec(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),l=u.key,c=u.value.document;if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||ac(rc(c),n)<=0||(r.has(c.key)||qf(t,c))&&(i=i.insert(c.key,c.mutableCopy()))}return cc.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Rl()}},{key:"Fr",value:function(e,t){return cc.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new rp(this)}},{key:"getSize",value:function(e){return cc.resolve(this.size)}}]),e}(),rp=function(e){In(n,e);var t=On(n);function n(e){var r;return Ot(this,n),(r=t.call(this)).ar=e,r}return At(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.ar.addEntry(e,i)):t.ar.removeEntry(r)})),cc.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.ar.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.ar.getEntries(e,t)}}]),n}(Gd),ip=function(){function e(t){Ot(this,e),this.persistence=t,this.Mr=new Qf((function(e){return Nf(e)}),If),this.lastRemoteSnapshotVersion=$l.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Zd,this.targetCount=0,this.Br=Qd.Nn()}return At(e,[{key:"forEachTarget",value:function(e,t){return this.Mr.forEach((function(e,n){return t(n)})),cc.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return cc.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return cc.resolve(this.Or)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Br.next(),cc.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),cc.resolve()}},{key:"qn",value:function(e){this.Mr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Br=new Qd(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.qn(t),this.targetCount+=1,cc.resolve()}},{key:"updateTargetData",value:function(e,t){return this.qn(t),cc.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,cc.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Mr.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Mr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),cc.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return cc.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Mr.get(t)||null;return cc.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Nr.dr(t,n),cc.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Nr.Rr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),cc.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Nr.Vr(t),cc.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Nr.gr(t);return cc.resolve(n)}},{key:"containsKey",value:function(e,t){return cc.resolve(this.Nr.containsKey(t))}}]),e}(),ap=function(){function e(t,n){var r=this;Ot(this,e),this.Lr={},this.overlays={},this.kr=new hc(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new ip(this),this.indexManager=new Wd,this.remoteDocumentCache=function(e){return new np(e)}((function(e){return r.referenceDelegate.Kr(e)})),this.serializer=new zd(n),this.$r=new Xd(this.serializer)}return At(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.qr=!1,Promise.resolve()}},{key:"started",get:function(){return this.qr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Jd,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Lr[e.toKey()];return n||(n=new tp(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,n){var r=this;Sl("MemoryPersistence","Starting transaction:",e);var i=new op(this.kr.next());return this.referenceDelegate.Ur(),n(i).next((function(e){return r.referenceDelegate.Wr(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gr",value:function(e,t){return cc.or(Object.values(this.Lr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),op=function(e){In(n,e);var t=On(n);function n(e){var r;return Ot(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return At(n)}(sc),sp=function(){function e(t){Ot(this,e),this.persistence=t,this.zr=new Zd,this.jr=null}return At(e,[{key:"Jr",get:function(){if(this.jr)return this.jr;throw Rl()}},{key:"addReference",value:function(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),cc.resolve()}},{key:"removeReference",value:function(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),cc.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Jr.add(t.toString()),cc.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.zr.Vr(t.targetId).forEach((function(e){return n.Jr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Jr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ur",value:function(){this.jr=new Set}},{key:"Wr",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return cc.forEach(this.Jr,(function(r){var i=ec.fromPath(r);return t.Yr(e,i).next((function(e){e||n.removeEntry(i,$l.min())}))})).next((function(){return t.jr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Yr(e,t).next((function(e){e?n.Jr.delete(t.toString()):n.Jr.add(t.toString())}))}},{key:"Kr",value:function(e){return 0}},{key:"Yr",value:function(e,t){var n=this;return cc.or([function(){return cc.resolve(n.zr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gr(e,t)}])}}],[{key:"Hr",value:function(t){return new e(t)}}]),e}();var up=function(){function e(t,n,r,i){Ot(this,e),this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}return At(e,null,[{key:"Ki",value:function(t,n){var r,i=ih(),a=ih(),o=ir(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),lp=function(){function e(){Ot(this,e),this._documentReadCount=0}return At(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),cp=function(){function e(){Ot(this,e),this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=8}return At(e,[{key:"initialize",value:function(e,t){this.zi=e,this.indexManager=t,this.$i=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.ji(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.Hi(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new lp;return i.Ji(e,t,n).next((function(r){if(a.result=r,i.Ui)return i.Yi(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"Yi",value:function(e,t,n,r){return n.documentReadCount<this.Wi?(Cl()<=Qr.DEBUG&&Sl("QueryEngine","SDK will not create cache indexes for query:",Bf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),cc.resolve()):(Cl()<=Qr.DEBUG&&Sl("QueryEngine","Query:",Bf(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Cl()<=Qr.DEBUG&&Sl("QueryEngine","The SDK decides to create cache indexes for query:",Bf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ff(t))):cc.resolve())}},{key:"ji",value:function(e,t){var n=this;if(Af(t))return cc.resolve(null);var r=Ff(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Uf(t,null,"F"),r=Ff(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=ih.apply(void 0,Pt(i));return n.zi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Zi(t,i);return n.Xi(t,o,a,r.readTime)?n.ji(e,Uf(t,null,"F")):n.es(e,o,t,r)}))}))})))}))}},{key:"Hi",value:function(e,t,n,r){var i=this;return Af(t)||r.isEqual($l.min())?cc.resolve(null):this.zi.getDocuments(e,n).next((function(a){var o=i.Zi(t,a);return i.Xi(t,o,n,r)?cc.resolve(null):(Cl()<=Qr.DEBUG&&Sl("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Bf(t)),i.es(e,o,t,nc(r,-1)).next((function(e){return e})))}))}},{key:"Zi",value:function(e,t){var n=new Cc(Hf(e));return t.forEach((function(t,r){qf(e,r)&&(n=n.add(r))})),n}},{key:"Xi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ji",value:function(e,t,n){return Cl()<=Qr.DEBUG&&Sl("QueryEngine","Using full collection scan to execute query:",Bf(t)),this.zi.getDocumentsMatchingQuery(e,t,ic.min(),n)}},{key:"es",value:function(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),fp=function(){function e(t,n,r,i){Ot(this,e),this.persistence=t,this.ts=n,this.serializer=i,this.ns=new wc(Kl),this.rs=new Qf((function(e){return Nf(e)}),If),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}return At(e,[{key:"_s",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yd(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ns)}))}}]),e}();function hp(e,t,n,r){return new fp(e,t,n,r)}function dp(e,t){return pp.apply(this,arguments)}function pp(){return pp=tr(Zn().mark((function e(t,n){var r;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ol(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r._s(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=ih(),u=ir(t);try{for(u.s();!(i=u.n()).done;){var l=i.value;a.push(l.batchId);var c,f=ir(l.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=ir(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=ir(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{us:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),pp.apply(this,arguments)}function vp(e,t){var n=Ol(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=cc.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Pl(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=ih(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function mp(e){var t=Ol(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Qr.getLastRemoteSnapshotVersion(e)}))}function yp(e,t){var n=Ol(e),r=t.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Qr.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Qr.addMatchingKeys(e,a.addedDocuments,s)})));var l=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?l=l.withResumeToken(Ic.EMPTY_BYTE_STRING,$l.min()).withLastLimboFreeSnapshotVersion($l.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(s,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,a)&&o.push(n.Qr.updateTargetData(e,l))}}));var s=$f(),u=ih();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(gp(e,a,t.documentUpdates).next((function(e){s=e.cs,u=e.ls}))),!r.isEqual($l.min())){var l=n.Qr.getLastRemoteSnapshotVersion(e).next((function(t){return n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(l)}return cc.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.ns=i,e}))}function gp(e,t,n){var r=ih(),i=ih();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=$f();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual($l.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Sl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{cs:r,ls:i}}))}function kp(e,t){var n=Ol(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function bp(e,t){var n=Ol(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Qr.getTargetData(e,t).next((function(i){return i?(r=i,cc.resolve(r)):n.Qr.allocateTargetId(e).next((function(i){return r=new Vd(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}function _p(e,t,n){return wp.apply(this,arguments)}function wp(){return wp=tr(Zn().mark((function e(t,n,r){var i,a,o;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ol(t),a=i.ns.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),fc(e.t1)){e.next=12;break}throw e.t1;case 12:Sl("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ns=i.ns.remove(n),i.rs.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),wp.apply(this,arguments)}function Ep(e,t,n){var r=Ol(e),i=$l.min(),a=ih();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=Ol(e),i=r.rs.get(n);return void 0!==i?cc.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Ff(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ts.getDocumentsMatchingQuery(e,t,n?i:$l.min(),n?a:ih())})).next((function(e){return xp(r,Wf(t),e),{documents:e,hs:a}}))}))}function xp(e,t,n){var r=e.ss.get(t)||$l.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}var Cp=function(){function e(){Ot(this,e),this.activeTargetIds=oh()}return At(e,[{key:"As",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Rs",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ds",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Sp=function(){function e(){Ot(this,e),this.no=new Cp,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return At(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.no.As(e),this.ro[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.ro[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.no.Rs(e)}},{key:"isLocalQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.ro[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.no.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"start",value:function(){return this.no=new Cp,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Tp=function(){function e(){Ot(this,e)}return At(e,[{key:"io",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Np=function(){function e(){var t=this;Ot(this,e),this.so=function(){return t.oo()},this._o=function(){return t.ao()},this.uo=[],this.co()}return At(e,[{key:"io",value:function(e){this.uo.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}},{key:"co",value:function(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}},{key:"oo",value:function(){Sl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ir(this.uo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"ao",value:function(){Sl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ir(this.uo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Ip=null;function Rp(){return null===Ip?Ip=268435456+Math.round(2147483648*Math.random()):Ip++,"0x"+Ip.toString(16)}var Pp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Op=function(){function e(t){Ot(this,e),this.lo=t.lo,this.ho=t.ho}return At(e,[{key:"Po",value:function(e){this.Io=e}},{key:"To",value:function(e){this.Eo=e}},{key:"onMessage",value:function(e){this.Ao=e}},{key:"close",value:function(){this.ho()}},{key:"send",value:function(e){this.lo(e)}},{key:"Ro",value:function(){this.Io()}},{key:"Vo",value:function(e){this.Eo(e)}},{key:"mo",value:function(e){this.Ao(e)}}]),e}(),Dp="WebChannelConnection",Ap=function(e){In(n,e);var t=On(n);function n(e){var r;return Ot(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return At(n,[{key:"Co",value:function(e,t,n,r){var i=Rp();return new Promise((function(a,o){var s=new gl;s.setWithCredentials(!0),s.listenOnce(pl.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case dl.NO_ERROR:var t=s.getResponseJson();Sl(Dp,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case dl.TIMEOUT:Sl(Dp,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Al(Dl.DEADLINE_EXCEEDED,"Request time out"));break;case dl.HTTP_ERROR:var n=s.getStatus();if(Sl(Dp,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var l=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Dl).indexOf(t)>=0?t:Dl.UNKNOWN}(u.status);o(new Al(l,u.message))}else o(new Al(Dl.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Al(Dl.UNAVAILABLE,"Connection failed."));break;default:Rl()}}finally{Sl(Dp,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);Sl(Dp,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Fo",value:function(e,t,n){var r=Rp(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=fl(),o=hl(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Do(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var l=i.join("");Sl(Dp,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),s);var c=a.createWebChannel(l,s),f=!1,h=!1,d=new Op({lo:function(t){h?Sl(Dp,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(Sl(Dp,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),f=!0),Sl(Dp,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},ho:function(){return c.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(c,yl.EventType.OPEN,(function(){h||Sl(Dp,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(c,yl.EventType.CLOSE,(function(){h||(h=!0,Sl(Dp,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Vo())})),p(c,yl.EventType.ERROR,(function(t){h||(h=!0,Nl(Dp,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Vo(new Al(Dl.UNAVAILABLE,"The operation could not be completed")))})),p(c,yl.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];Pl(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Sl(Dp,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=Fh[e];if(void 0!==t)return Kh(t)}(s),l=o.message;void 0===u&&(u=Dl.INTERNAL,l="Unknown error status: "+s+" with message "+o.message),h=!0,d.Vo(new Al(u,l)),c.close()}else Sl(Dp,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.mo(i)}})),p(o,vl.STAT_EVENT,(function(t){t.stat===ml.PROXY?Sl(Dp,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ml.NOPROXY&&Sl(Dp,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Ro()}),0),d}}]),n}(function(){function e(t){Ot(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=n+"://"+t.host,this.po="projects/".concat(r,"/databases/").concat(i),this.yo="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return At(e,[{key:"wo",get:function(){return!1}},{key:"So",value:function(e,t,n,r,i){var a=Rp(),o=this.bo(e,t);Sl("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(s,r,i),this.Co(e,o,s,n).then((function(t){return Sl("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Nl("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.So(e,t,n,r,i)}},{key:"Do",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+El,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"bo",value:function(e,t){var n=Pp[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}}]),e}());function Lp(){return"undefined"!=typeof document?document:null}function Mp(e){return new hd(e,!0)}var Fp=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Ot(this,e),this.oi=t,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=a,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}return At(e,[{key:"reset",value:function(){this.No=0}},{key:"ko",value:function(){this.No=this.Oo}},{key:"qo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&Sl("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,(function(){return t.Lo=Date.now(),e()})),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}},{key:"Ko",value:function(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}},{key:"cancel",value:function(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Qo",value:function(){return(Math.random()-.5)*this.No}}]),e}(),jp=function(){function e(t,n,r,i,a,o,s,u){Ot(this,e),this.oi=t,this.$o=r,this.Uo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Fp(t,n)}return At(e,[{key:"Ho",value:function(){return 1===this.state||5===this.state||this.Jo()}},{key:"Jo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Yo()}},{key:"stop",value:function(){var e=tr(Zn().mark((function e(){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Ho(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zo",value:function(){this.state=0,this.jo.reset()}},{key:"Xo",value:function(){var e=this;this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(function(){return e.e_()})))}},{key:"t_",value:function(e){this.n_(),this.stream.send(e)}},{key:"e_",value:function(){var e=tr(Zn().mark((function e(){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Jo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"n_",value:function(){this.Go&&(this.Go.cancel(),this.Go=null)}},{key:"r_",value:function(){this.zo&&(this.zo.cancel(),this.zo=null)}},{key:"close",value:function(){var e=tr(Zn().mark((function e(t,n){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==t?this.jo.reset():n&&n.code===Dl.RESOURCE_EXHAUSTED?(Tl(n.toString()),Tl("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===Dl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.To(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"i_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=D(t,2),i=r[0],a=r[1];e.Wo===n&&e.o_(i,a)}),(function(n){t((function(){var t=new Al(Dl.UNKNOWN,"Fetching auth token failed: "+n.message);return e.__(t)}))}))}},{key:"o_",value:function(e,t){var n=this,r=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((function(){r((function(){return n.state=2,n.zo=n.oi.enqueueAfterDelay(n.Uo,1e4,(function(){return n.Jo()&&(n.state=3),Promise.resolve()})),n.listener.Po()}))})),this.stream.To((function(e){r((function(){return n.__(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Yo",value:function(){var e=this;this.state=5,this.jo.qo(tr(Zn().mark((function t(){return Zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"__",value:function(e){return Sl("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"s_",value:function(e){var t=this;return function(n){t.oi.enqueueAndForget((function(){return t.Wo===e?n():(Sl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Up=function(e){In(n,e);var t=On(n);function n(e,r,i,a,o,s){var u;return Ot(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return At(n,[{key:"a_",value:function(e,t){return this.connection.Fo("Listen",e,t)}},{key:"onMessage",value:function(e){this.jo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Rl()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Pl(void 0===t||"string"==typeof t),Ic.fromBase64String(t||"")):(Pl(void 0===t||t instanceof Uint8Array),Ic.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Dl.UNKNOWN:Kh(e.code);return new Al(t,e.message||"")}(o);n=new id(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var l=_d(e,u.document.name),c=yd(u.document.updateTime),f=u.document.createTime?yd(u.document.createTime):$l.min(),h=new ef({mapValue:{fields:u.document.fields}}),d=nf.newFoundDocument(l,c,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new nd(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=_d(e,m.document),g=m.readTime?yd(m.readTime):$l.min(),k=nf.newNoDocument(y,g),b=m.removedTargetIds||[];n=new nd([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var _=t.documentRemove;_.document;var w=_d(e,_.document),E=_.removedTargetIds||[];n=new nd([],E,w,null)}else{if(!("filter"in t))return Rl();t.filter;var x=t.filter;x.targetId;var C=x.count,S=void 0===C?0:C,T=x.unchangedNames,N=new Wh(S,T),I=x.targetId;n=new rd(I,N)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return $l.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?$l.min():t.readTime?yd(t.readTime):$l.min()}(e);return this.listener.u_(t,n)}},{key:"c_",value:function(e){var t={};t.database=xd(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=Rf(r)?{documents:Nd(e,r)}:{query:Id(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=vd(e,t.resumeToken);var i=dd(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo($l.min())>0){n.readTime=pd(e,t.snapshotVersion.toTimestamp());var a=dd(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rl()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}},{key:"l_",value:function(e){var t={};t.database=xd(this.serializer),t.removeTarget=e,this.t_(t)}}]),n}(jp),Vp=function(e){In(n,e);var t=On(n);function n(e,r,i,a,o,s){var u;return Ot(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.h_=!1,u}return At(n,[{key:"P_",get:function(){return this.h_}},{key:"start",value:function(){this.h_=!1,this.lastStreamToken=void 0,Nn(Tn(n.prototype),"start",this).call(this)}},{key:"i_",value:function(){this.h_&&this.I_([])}},{key:"a_",value:function(e,t){return this.connection.Fo("Write",e,t)}},{key:"onMessage",value:function(e){if(Pl(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();var t=function(e,t){return e&&e.length>0?(Pl(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?yd(e.updateTime):yd(t);return n.isEqual($l.min())&&(n=yd(t)),new Eh(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=yd(e.commitTime);return this.listener.T_(n,t)}return Pl(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}},{key:"d_",value:function(){var e={};e.database=xd(this.serializer),this.t_(e)}},{key:"I_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Td(t.serializer,e)}))};this.t_(n)}}]),n}(jp),zp=function(e){In(n,e);var t=On(n);function n(e,r,i,a){var o;return Ot(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.A_=!1,o}return At(n,[{key:"R_",value:function(){if(this.A_)throw new Al(Dl.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"So",value:function(e,t,n){var r=this;return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=D(i,2),o=a[0],s=a[1];return r.connection.So(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Dl.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Al(Dl.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=D(a,2),s=o[0],u=o[1];return i.connection.vo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Dl.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Al(Dl.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.A_=!0}}]),n}(At((function e(){Ot(this,e)})));var Bp=function(){function e(t,n){Ot(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}return At(e,[{key:"p_",value:function(){var e=this;0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.f_=null,e.w_("Backend didn't respond within 10 seconds."),e.y_("Offline"),Promise.resolve()})))}},{key:"S_",value:function(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}},{key:"set",value:function(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}},{key:"y_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"w_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(Tl(t),this.g_=!1):Sl("OnlineStateTracker",t)}},{key:"b_",value:function(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}]),e}(),qp=At((function e(t,n,r,i,a){var o=this;Ot(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=a,this.M_.io((function(e){r.enqueueAndForget(tr(Zn().mark((function e(){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ev(o),!e.t0){e.next=5;break}return Sl("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=tr(Zn().mark((function e(t){var n;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ol(t)).v_.add(4),e.next=4,Kp(n);case 4:return n.x_.set("Unknown"),n.v_.delete(4),e.next=8,Wp(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.x_=new Bp(r,i)}));function Wp(e){return Hp.apply(this,arguments)}function Hp(){return(Hp=tr(Zn().mark((function e(t){var n,r,i;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ev(t)){e.next=18;break}n=ir(t.F_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function Kp(e){return Qp.apply(this,arguments)}function Qp(){return(Qp=tr(Zn().mark((function e(t){var n,r,i;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ir(t.F_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function Gp(e,t){var n=Ol(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Zp(n)?Jp(n):Iv(n).Jo()&&Yp(n,t))}function $p(e,t){var n=Ol(e),r=Iv(n);n.C_.delete(t),r.Jo()&&Xp(n,t),0===n.C_.size&&(r.Jo()?r.Xo():ev(n)&&n.x_.set("Unknown"))}function Yp(e,t){if(e.O_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo($l.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Iv(e).c_(t)}function Xp(e,t){e.O_.Ne(t),Iv(e).l_(t)}function Jp(e){e.O_=new od({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ut:function(t){return e.C_.get(t)||null},rt:function(){return e.datastore.serializer.databaseId}}),Iv(e).start(),e.x_.p_()}function Zp(e){return ev(e)&&!Iv(e).Ho()&&e.C_.size>0}function ev(e){return 0===Ol(e).v_.size}function tv(e){e.O_=void 0}function nv(e){return rv.apply(this,arguments)}function rv(){return(rv=tr(Zn().mark((function e(t){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.C_.forEach((function(e,n){Yp(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iv(e,t){return av.apply(this,arguments)}function av(){return(av=tr(Zn().mark((function e(t,n){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:tv(t),Zp(t)?(t.x_.S_(n),Jp(t)):t.x_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ov(e,t,n){return sv.apply(this,arguments)}function sv(){return sv=tr(Zn().mark((function e(t,n,r){var i;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.x_.set("Online"),!(n instanceof id&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=tr(Zn().mark((function e(t,n){var r,i,a,o;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ir(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.C_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.C_.delete(o),t.O_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Sl("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,uv(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof nd?t.O_.Ue(n):n instanceof rd?t.O_.Ye(n):t.O_.ze(n),r.isEqual($l.min())){e.next=29;break}return e.prev=14,e.next=17,mp(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.O_.st(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.C_.get(t);if(r){e.C_.set(t,r.withResumeToken(Ic.EMPTY_BYTE_STRING,r.snapshotVersion)),Xp(e,t);var i=new Vd(r.target,t,n,r.sequenceNumber);Yp(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Sl("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,uv(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),sv.apply(this,arguments)}function uv(e,t,n){return lv.apply(this,arguments)}function lv(){return(lv=tr(Zn().mark((function e(t,n,r){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fc(n)){e.next=2;break}throw n;case 2:return t.v_.add(1),e.next=5,Kp(t);case 5:t.x_.set("Offline"),r||(r=function(){return mp(t.localStore)}),t.asyncQueue.enqueueRetryable(tr(Zn().mark((function e(){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sl("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.v_.delete(1),e.next=6,Wp(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cv(e,t){return t().catch((function(n){return uv(e,n,t)}))}function fv(e){return hv.apply(this,arguments)}function hv(){return hv=tr(Zn().mark((function e(t){var n,r,i,a;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ol(t),r=Rv(n),i=n.D_.length>0?n.D_[n.D_.length-1].batchId:-1;case 2:if(!dv(n)){e.next=19;break}return e.prev=3,e.next=6,kp(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.D_.length&&r.Xo(),e.abrupt("break",19);case 10:i=a.batchId,pv(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,uv(n,e.t0);case 17:e.next=2;break;case 19:vv(n)&&mv(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),hv.apply(this,arguments)}function dv(e){return ev(e)&&e.D_.length<10}function pv(e,t){e.D_.push(t);var n=Rv(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function vv(e){return ev(e)&&!Rv(e).Ho()&&e.D_.length>0}function mv(e){Rv(e).start()}function yv(e){return gv.apply(this,arguments)}function gv(){return(gv=tr(Zn().mark((function e(t){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Rv(t).d_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kv(e){return bv.apply(this,arguments)}function bv(){return(bv=tr(Zn().mark((function e(t){var n,r,i,a;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Rv(t),r=ir(t.D_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.I_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _v(e,t,n){return wv.apply(this,arguments)}function wv(){return wv=tr(Zn().mark((function e(t,n,r){var i,a;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.D_.shift(),a=Bh.from(i,n,r),e.next=3,cv(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,fv(t);case 5:case"end":return e.stop()}}),e)}))),wv.apply(this,arguments)}function Ev(e,t){return xv.apply(this,arguments)}function xv(){return xv=tr(Zn().mark((function e(t,n){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Rv(t).P_,!e.t0){e.next=4;break}return e.next=4,function(){var e=tr(Zn().mark((function e(t,n){var r;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return Hh(e)&&e!==Dl.ABORTED}(n.code)){e.next=7;break}return r=t.D_.shift(),Rv(t).Zo(),e.next=5,cv(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,fv(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:vv(t)&&mv(t);case 5:case"end":return e.stop()}}),e)}))),xv.apply(this,arguments)}function Cv(e,t){return Sv.apply(this,arguments)}function Sv(){return Sv=tr(Zn().mark((function e(t,n){var r,i;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ol(t)).asyncQueue.verifyOperationInProgress(),Sl("RemoteStore","RemoteStore received new credentials"),i=ev(r),r.v_.add(3),e.next=6,Kp(r);case 6:return i&&r.x_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.v_.delete(3),e.next=12,Wp(r);case 12:case"end":return e.stop()}}),e)}))),Sv.apply(this,arguments)}function Tv(e,t){return Nv.apply(this,arguments)}function Nv(){return(Nv=tr(Zn().mark((function e(t,n){var r;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ol(t),!n){e.next=7;break}return r.v_.delete(2),e.next=5,Wp(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.v_.add(2),e.next=12,Kp(r);case 12:r.x_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Iv(e){return e.N_||(e.N_=function(e,t,n){var r=Ol(e);return r.R_(),new Up(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:nv.bind(null,e),To:iv.bind(null,e),u_:ov.bind(null,e)}),e.F_.push(function(){var t=tr(Zn().mark((function t(n){return Zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.N_.Zo(),Zp(e)?Jp(e):e.x_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.N_.stop();case 6:tv(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.N_}function Rv(e){return e.B_||(e.B_=function(e,t,n){var r=Ol(e);return r.R_(),new Vp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:yv.bind(null,e),To:Ev.bind(null,e),E_:kv.bind(null,e),T_:_v.bind(null,e)}),e.F_.push(function(){var t=tr(Zn().mark((function t(n){return Zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.B_.Zo(),t.next=4,fv(e);case 4:t.next=9;break;case 6:return t.next=8,e.B_.stop();case 8:e.D_.length>0&&(Sl("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.B_}var Pv=function(){function e(t,n,r,i,a){Ot(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ll,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return At(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Al(Dl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Ov(e,t){if(Tl("AsyncQueue","".concat(t,": ").concat(e)),fc(e))return new Al(Dl.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Dv=function(){function e(t){Ot(this,e),this.comparator=t?function(e,n){return t(e,n)||ec.comparator(e.key,n.key)}:function(e,t){return ec.comparator(e.key,t.key)},this.keyedMap=Xf(),this.sortedSet=new wc(this.comparator)}return At(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Av=function(){function e(){Ot(this,e),this.L_=new wc(ec.comparator)}return At(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):Rl():this.L_=this.L_.insert(t,e)}},{key:"k_",value:function(){var e=[];return this.L_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Lv=function(){function e(t,n,r,i,a,o,s,u,l){Ot(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=l}return At(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Dv.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Mv=At((function e(){Ot(this,e),this.q_=void 0,this.listeners=[]})),Fv=At((function e(){Ot(this,e),this.queries=new Qf((function(e){return zf(e)}),Vf),this.onlineState="Unknown",this.Q_=new Set}));function jv(e,t){return Uv.apply(this,arguments)}function Uv(){return Uv=tr(Zn().mark((function e(t,n){var r,i,a,o,s;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ol(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Mv),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.q_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Ov(e.t0,"Initialization of query '".concat(Bf(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.K_(r.onlineState),o.q_&&n.U_(o.q_)&&Wv(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Uv.apply(this,arguments)}function Vv(e,t){return zv.apply(this,arguments)}function zv(){return zv=tr(Zn().mark((function e(t,n){var r,i,a,o,s;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ol(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),zv.apply(this,arguments)}function Bv(e,t){var n,r=Ol(e),i=!1,a=ir(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var l,c=ir(u.listeners);try{for(c.s();!(l=c.n()).done;){l.value.U_(o)&&(i=!0)}}catch(f){c.e(f)}finally{c.f()}u.q_=o}}}catch(f){a.e(f)}finally{a.f()}i&&Wv(r)}function qv(e,t,n){var r=Ol(e),i=r.queries.get(t);if(i){var a,o=ir(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Wv(e){e.Q_.forEach((function(e){e.next()}))}var Hv=function(){function e(t,n,r){Ot(this,e),this.query=t,this.W_=n,this.G_=!1,this.z_=null,this.onlineState="Unknown",this.options=r||{}}return At(e,[{key:"U_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ir(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Lv(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.G_?this.j_(e)&&(this.W_.next(e),a=!0):this.H_(e,this.onlineState)&&(this.J_(e),a=!0),this.z_=e,a}},{key:"onError",value:function(e){this.W_.error(e)}},{key:"K_",value:function(e){this.onlineState=e;var t=!1;return this.z_&&!this.G_&&this.H_(this.z_,e)&&(this.J_(this.z_),t=!0),t}},{key:"H_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Y_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"j_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.z_&&this.z_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"J_",value:function(e){e=Lv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.G_=!0,this.W_.next(e)}}]),e}();var Kv=At((function e(t){Ot(this,e),this.key=t})),Qv=At((function e(t){Ot(this,e),this.key=t})),Gv=function(){function e(t,n){Ot(this,e),this.query=t,this.sa=n,this.oa=null,this.hasCachedResults=!1,this.current=!1,this._a=ih(),this.mutatedKeys=ih(),this.aa=Hf(t),this.ua=new Dv(this.aa)}return At(e,[{key:"ca",get:function(){return this.sa}},{key:"la",value:function(e,t){var n=this,r=t?t.ha:new Av,i=t?t.ua:this.ua,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=qf(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Pa(c,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.aa(f,u)>0||l&&n.aa(f,l)<0)&&(s=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{ua:o,ha:r,Xi:s,mutatedKeys:a}}},{key:"Pa",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ua;this.ua=e.ua,this.mutatedKeys=e.mutatedKeys;var a=e.ha.k_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rl()}};return n(e)-n(t)}(e.type,t.type)||r.aa(e.doc,t.doc)})),this.Ia(n);var o=t?this.Ta():[],s=0===this._a.size&&this.current?1:0,u=s!==this.oa;return this.oa=s,0!==a.length||u?{snapshot:new Lv(this.query,e.ua,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}},{key:"K_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ua:this.ua,ha:new Av,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Ea:[]}}},{key:"da",value:function(e){return!this.sa.has(e)&&!!this.ua.has(e)&&!this.ua.get(e).hasLocalMutations}},{key:"Ia",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.sa=t.sa.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.sa=t.sa.delete(e)})),this.current=e.current)}},{key:"Ta",value:function(){var e=this;if(!this.current)return[];var t=this._a;this._a=ih(),this.ua.forEach((function(t){e.da(t.key)&&(e._a=e._a.add(t.key))}));var n=[];return t.forEach((function(t){e._a.has(t)||n.push(new Qv(t))})),this._a.forEach((function(e){t.has(e)||n.push(new Kv(e))})),n}},{key:"Aa",value:function(e){this.sa=e.hs,this._a=ih();var t=this.la(e.documents);return this.applyChanges(t,!0)}},{key:"Ra",value:function(){return Lv.fromInitialDocuments(this.query,this.ua,this.mutatedKeys,0===this.oa,this.hasCachedResults)}}]),e}(),$v=At((function e(t,n,r){Ot(this,e),this.query=t,this.targetId=n,this.view=r})),Yv=At((function e(t){Ot(this,e),this.key=t,this.Va=!1})),Xv=function(){function e(t,n,r,i,a,o){Ot(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.ma={},this.fa=new Qf((function(e){return zf(e)}),Vf),this.ga=new Map,this.pa=new Set,this.ya=new wc(ec.comparator),this.wa=new Map,this.Sa=new Zd,this.ba={},this.Da=new Map,this.Ca=Qd.Bn(),this.onlineState="Unknown",this.va=void 0}return At(e,[{key:"isPrimaryClient",get:function(){return!0===this.va}}]),e}();function Jv(e,t){return Zv.apply(this,arguments)}function Zv(){return Zv=tr(Zn().mark((function e(t,n){var r,i,a,o,s,u;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tm(t),!(o=r.fa.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Ra(),e.next=15;break;case 6:return e.next=8,bp(r.localStore,Ff(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,em(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&Gp(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Zv.apply(this,arguments)}function em(e,t,n,r,i){return tm.apply(this,arguments)}function tm(){return tm=tr(Zn().mark((function e(t,n,r,i,a){var o,s,u,l,c,f;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Fa=function(e,n,r){return function(){var e=tr(Zn().mark((function e(t,n,r,i){var a,o,s;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.la(r),e.t0=a.Xi,!e.t0){e.next=6;break}return e.next=5,Ep(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.la(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(km(t,n.targetId,s.Ea),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Ep(t.localStore,n,!0);case 3:return o=e.sent,s=new Gv(n,o.hs),u=s.la(o.documents),l=td.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),c=s.applyChanges(u,t.isPrimaryClient,l),km(t,r,c.Ea),f=new $v(n,r,s),e.abrupt("return",(t.fa.set(n,f),t.ga.has(r)?t.ga.get(r).push(n):t.ga.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),tm.apply(this,arguments)}function nm(e,t){return rm.apply(this,arguments)}function rm(){return rm=tr(Zn().mark((function e(t,n){var r,i,a;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ol(t),i=r.fa.get(n),!((a=r.ga.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ga.set(i.targetId,a.filter((function(e){return!Vf(e,n)}))),void r.fa.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,_p(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),$p(r.remoteStore,i.targetId),ym(r,i.targetId)})).catch(uc);case 9:e.next=14;break;case 11:return ym(r,i.targetId),e.next=14,_p(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),rm.apply(this,arguments)}function im(e,t,n){return am.apply(this,arguments)}function am(){return am=tr(Zn().mark((function e(t,n,r){var i,a,o;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nm(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Ol(e),a=Gl.now(),o=t.reduce((function(e,t){return e.add(t.key)}),ih());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=$f(),u=ih();return i.os.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=ir(t);try{for(u.s();!(o=u.n()).done;){var l=o.value,c=Rh(l,n.get(l.key).overlayedDocument);null!=c&&s.push(new Dh(l.key,c,tf(c.value.mapValue),xh.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Jf(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ba[e.currentUser.toKey()];r||(r=new wc(Kl)),r=r.insert(t,n),e.ba[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,wm(i,a.changes);case 9:return e.next=11,fv(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Ov(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),am.apply(this,arguments)}function om(e,t){return sm.apply(this,arguments)}function sm(){return sm=tr(Zn().mark((function e(t,n){var r,i;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ol(t),e.prev=1,e.next=4,yp(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.wa.get(t);n&&(Pl(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Va=!0:e.modifiedDocuments.size>0?Pl(n.Va):e.removedDocuments.size>0&&(Pl(n.Va),n.Va=!1))})),e.next=8,wm(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,uc(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),sm.apply(this,arguments)}function um(e,t,n){var r=Ol(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.fa.forEach((function(e,n){var r=n.view.K_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ol(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ir(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.K_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Wv(n)}(r.eventManager,t),i.length&&r.ma.u_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function lm(e,t,n){return cm.apply(this,arguments)}function cm(){return cm=tr(Zn().mark((function e(t,n,r){var i,a,o,s,u,l;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Ol(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.wa.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new wc(ec.comparator)).insert(o,nf.newNoDocument(o,$l.min())),u=ih().add(o),l=new ed($l.min(),new Map,new wc(Kl),s,u),e.next=9,om(i,l);case 9:i.ya=i.ya.remove(o),i.wa.delete(n),_m(i),e.next=16;break;case 14:return e.next=16,_p(i.localStore,n,!1).then((function(){return ym(i,n,r)})).catch(uc);case 16:case"end":return e.stop()}}),e)}))),cm.apply(this,arguments)}function fm(e,t){return hm.apply(this,arguments)}function hm(){return hm=tr(Zn().mark((function e(t,n){var r,i,a;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ol(t),i=n.batch.batchId,e.prev=1,e.next=4,vp(r.localStore,n);case 4:return a=e.sent,mm(r,i,null),vm(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,wm(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,uc(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),hm.apply(this,arguments)}function dm(e,t,n){return pm.apply(this,arguments)}function pm(){return pm=tr(Zn().mark((function e(t,n,r){var i,a;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ol(t),e.prev=1,e.next=4,function(e,t){var n=Ol(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Pl(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,mm(i,n,r),vm(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,wm(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,uc(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),pm.apply(this,arguments)}function vm(e,t){(e.Da.get(t)||[]).forEach((function(e){e.resolve()})),e.Da.delete(t)}function mm(e,t,n){var r=Ol(e),i=r.ba[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ba[r.currentUser.toKey()]=i}}function ym(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ir(e.ga.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.fa.delete(a),n&&e.ma.Ma(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ga.delete(t),e.isPrimaryClient&&e.Sa.Vr(t).forEach((function(t){e.Sa.containsKey(t)||gm(e,t)}))}function gm(e,t){e.pa.delete(t.path.canonicalString());var n=e.ya.get(t);null!==n&&($p(e.remoteStore,n),e.ya=e.ya.remove(t),e.wa.delete(n),_m(e))}function km(e,t,n){var r,i=ir(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Kv?(e.Sa.addReference(a.key,t),bm(e,a)):a instanceof Qv?(Sl("SyncEngine","Document no longer in limbo: "+a.key),e.Sa.removeReference(a.key,t),e.Sa.containsKey(a.key)||gm(e,a.key)):Rl()}}catch(o){i.e(o)}finally{i.f()}}function bm(e,t){var n=t.key,r=n.path.canonicalString();e.ya.get(n)||e.pa.has(r)||(Sl("SyncEngine","New document in limbo: "+n),e.pa.add(r),_m(e))}function _m(e){for(;e.pa.size>0&&e.ya.size<e.maxConcurrentLimboResolutions;){var t=e.pa.values().next().value;e.pa.delete(t);var n=new ec(Xl.fromString(t)),r=e.Ca.next();e.wa.set(r,new Yv(n)),e.ya=e.ya.insert(n,r),Gp(e.remoteStore,new Vd(Ff(Df(n.path)),r,"TargetPurposeLimboResolution",hc.ae))}}function wm(e,t,n){return Em.apply(this,arguments)}function Em(){return Em=tr(Zn().mark((function e(t,n,r){var i,a,o,s;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ol(t),a=[],o=[],s=[],e.t0=i.fa.isEmpty(),e.t0){e.next=9;break}return i.fa.forEach((function(e,t){s.push(i.Fa(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=up.Ki(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.ma.u_(a),e.next=9,function(){var e=tr(Zn().mark((function e(t,n){var r,i,a,o,s,u,l,c;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ol(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return cc.forEach(n,(function(t){return cc.forEach(t.qi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return cc.forEach(t.Qi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),fc(e.t0)){e.next=10;break}throw e.t0;case 10:Sl("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ir(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.ns.get(s),l=u.snapshotVersion,c=u.withLastLimboFreeSnapshotVersion(l),r.ns=r.ns.insert(s,c))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Em.apply(this,arguments)}function xm(e,t){return Cm.apply(this,arguments)}function Cm(){return(Cm=tr(Zn().mark((function e(t,n){var r,i;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Ol(t)).currentUser.isEqual(n)){e.next=11;break}return Sl("SyncEngine","User change. New user:",n.toKey()),e.next=5,dp(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Da.forEach((function(e){e.forEach((function(e){e.reject(new Al(Dl.CANCELLED,t))}))})),e.Da.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,wm(r,i.us);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sm(e,t){var n=Ol(e),r=n.wa.get(t);if(r&&r.Va)return ih().add(r.key);var i=ih(),a=n.ga.get(t);if(!a)return i;var o,s=ir(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=n.fa.get(u);i=i.unionWith(l.view.ca)}}catch(c){s.e(c)}finally{s.f()}return i}function Tm(e){var t=Ol(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=om.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lm.bind(null,t),t.ma.u_=Bv.bind(null,t.eventManager),t.ma.Ma=qv.bind(null,t.eventManager),t}function Nm(e){var t=Ol(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dm.bind(null,t),t}var Im=function(){function e(){Ot(this,e),this.synchronizeTabs=!1}return At(e,[{key:"initialize",value:function(){var e=tr(Zn().mark((function e(t){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Mp(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return hp(this.persistence,new cp,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new ap(sp.Hr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new Sp}},{key:"terminate",value:function(){var e=tr(Zn().mark((function e(){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Rm=function(){function e(){Ot(this,e)}return At(e,[{key:"initialize",value:function(){var e=tr(Zn().mark((function e(t,n){var r=this;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return um(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=xm.bind(null,this.syncEngine),e.next=12,Tv(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Fv}},{key:"createDatastore",value:function(e){var t=Mp(e.databaseInfo.databaseId),n=function(e){return new Ap(e)}(e.databaseInfo);return function(e,t,n,r){return new zp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new qp(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return um(t.syncEngine,e,0)}),Np.C()?new Np:new Tp)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Xv(e,t,n,r,i,a);return o&&(s.va=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=tr(Zn().mark((function e(t){var n;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ol(t),Sl("RemoteStore","RemoteStore shutting down."),n.v_.add(5),e.next=5,Kp(n);case 5:n.M_.shutdown(),n.x_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Pm=function(){function e(t){Ot(this,e),this.observer=t,this.muted=!1}return At(e,[{key:"next",value:function(e){this.observer.next&&this.Na(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Na(this.observer.error,e):Tl("Uncaught Error in snapshot listener:",e.toString())}},{key:"Ba",value:function(){this.muted=!0}},{key:"Na",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Om=function(){function e(t,n,r,i){var a=this;Ot(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=wl.UNAUTHENTICATED,this.clientId=Hl.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=tr(Zn().mark((function e(t){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sl("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Sl("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return At(e,[{key:"getConfiguration",value:function(){var e=tr(Zn().mark((function e(){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Al(Dl.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ll;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(tr(Zn().mark((function n(){var r;return Zn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Ov(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Dm(e,t){return Am.apply(this,arguments)}function Am(){return Am=tr(Zn().mark((function e(t,n){var r,i;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Sl("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=tr(Zn().mark((function e(t){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,dp(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Am.apply(this,arguments)}function Lm(e,t){return Mm.apply(this,arguments)}function Mm(){return Mm=tr(Zn().mark((function e(t,n){var r,i;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,jm(t);case 3:return r=e.sent,Sl("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Cv(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Cv(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Mm.apply(this,arguments)}function Fm(e){return"FirebaseError"===e.name?e.code===Dl.FAILED_PRECONDITION||e.code===Dl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function jm(e){return Um.apply(this,arguments)}function Um(){return(Um=tr(Zn().mark((function e(t){var n;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Sl("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,Dm(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),Fm(n=e.t0)){e.next=13;break}throw n;case 13:return Nl("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,Dm(t,new Im);case 16:e.next=21;break;case 18:return Sl("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,Dm(t,new Im);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function Vm(e){return zm.apply(this,arguments)}function zm(){return(zm=tr(Zn().mark((function e(t){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Sl("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,Lm(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Sl("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,Lm(t,new Rm);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bm(e){return Vm(e).then((function(e){return e.syncEngine}))}function qm(e){return Wm.apply(this,arguments)}function Wm(){return(Wm=tr(Zn().mark((function e(t){var n,r;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vm(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Jv.bind(null,n.syncEngine),r.onUnlisten=nm.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ll;return e.asyncQueue.enqueueAndForget(tr(Zn().mark((function i(){return Zn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Pm({next:function(a){t.enqueueAndForget((function(){return Vv(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Al(Dl.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Al(Dl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Hv(Df(n.path),a,{includeMetadataChanges:!0,Y_:!0});return jv(e,o)},i.next=3,qm(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Km(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ll;return e.asyncQueue.enqueueAndForget(tr(Zn().mark((function i(){return Zn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Pm({next:function(n){t.enqueueAndForget((function(){return Vv(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Al(Dl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Hv(n,a,{includeMetadataChanges:!0,Y_:!0});return jv(e,o)},i.next=3,qm(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Qm(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var Gm=new Map;function $m(e,t,n){if(!n)throw new Al(Dl.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Ym(e){if(!ec.isDocumentKey(e))throw new Al(Dl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Xm(e){if(ec.isDocumentKey(e))throw new Al(Dl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Jm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Rl()}function Zm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Al(Dl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Jm(e);throw new Al(Dl.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var ey=function(){function e(t){var n,r;if(Ot(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Al(Dl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Al(Dl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Al(Dl.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qm(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Al(Dl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Al(Dl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Al(Dl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return At(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),ty=function(){function e(t,n,r,i){Ot(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ey({}),this._settingsFrozen=!1}return At(e,[{key:"app",get:function(){if(!this._app)throw new Al(Dl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Al(Dl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ey(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Fl;switch(e.type){case"firstParty":return new zl(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Al(Dl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Gm.get(e);t&&(Sl("ComponentProvider","Removing Datastore"),Gm.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function ny(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Zm(e,ty))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&Nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=wl.MOCK_USER;else{s=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[pr(JSON.stringify({alg:"none",type:"JWT"})),pr(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new Al(Dl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new wl(l)}e._authCredentials=new jl(new Ml(s,u))}}var ry=function(){function e(t,n,r){Ot(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return At(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),iy=function(){function e(t,n,r){Ot(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return At(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new ay(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),ay=function(e){In(n,e);var t=On(n);function n(e,r,i){var a;return Ot(this,n),(a=t.call(this,e,r,Df(i)))._path=i,a.type="collection",a}return At(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new iy(this.firestore,null,new ec(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(ry);function oy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Br(e),$m("collection","path",t),e instanceof ty){var a=Xl.fromString.apply(Xl,[t].concat(r));return Xm(a),new ay(e,null,a)}if(!(e instanceof iy||e instanceof ay))throw new Al(Dl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Xl.fromString.apply(Xl,[t].concat(r)));return Xm(o),new ay(e.firestore,null,o)}function sy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Br(e),1===arguments.length&&(t=Hl.V()),$m("doc","path",t),e instanceof ty){var a=Xl.fromString.apply(Xl,[t].concat(r));return Ym(a),new iy(e,null,new ec(a))}if(!(e instanceof iy||e instanceof ay))throw new Al(Dl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Xl.fromString.apply(Xl,[t].concat(r)));return Ym(o),new iy(e.firestore,e instanceof ay?e.converter:null,new ec(o))}var uy=function(){function e(){var t=this;Ot(this,e),this.Ya=Promise.resolve(),this.Za=[],this.Xa=!1,this.eu=[],this.tu=null,this.nu=!1,this.ru=!1,this.iu=[],this.jo=new Fp(this,"async_queue_retry"),this.su=function(){var e=Lp();e&&Sl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.jo.Ko()};var n=Lp();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.su)}return At(e,[{key:"isShuttingDown",get:function(){return this.Xa}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ou(),this._u(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Xa){this.Xa=!0,this.ru=e||!1;var t=Lp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.su)}}},{key:"enqueue",value:function(e){var t=this;if(this.ou(),this.Xa)return new Promise((function(){}));var n=new Ll;return this._u((function(){return t.Xa&&t.ru?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Za.push(e),t.au()}))}},{key:"au",value:function(){var e=tr(Zn().mark((function e(){var t=this;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Za.length){e.next=14;break}return e.prev=1,e.next=4,this.Za[0]();case 4:this.Za.shift(),this.jo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),fc(e.t0)){e.next=12;break}throw e.t0;case 12:Sl("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Za.length>0&&this.jo.qo((function(){return t.au()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"_u",value:function(e){var t=this,n=this.Ya.then((function(){return t.nu=!0,e().catch((function(e){t.tu=e,t.nu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Tl("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.nu=!1,e}))}));return this.Ya=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ou(),this.iu.indexOf(e)>-1&&(t=0);var i=Pv.createAndSchedule(this,e,t,n,(function(e){return r.uu(e)}));return this.eu.push(i),i}},{key:"ou",value:function(){this.tu&&Rl()}},{key:"verifyOperationInProgress",value:function(){}},{key:"cu",value:function(){var e=tr(Zn().mark((function e(){var t;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Ya,e.next=3,t;case 3:if(t!==this.Ya){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"lu",value:function(e){var t,n=ir(this.eu);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"hu",value:function(e){var t=this;return this.cu().then((function(){t.eu.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ir(t.eu);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.cu()}))}},{key:"Pu",value:function(e){this.iu.push(e)}},{key:"uu",value:function(e){var t=this.eu.indexOf(e);this.eu.splice(t,1)}}]),e}();var ly=function(e){In(n,e);var t=On(n);function n(e,r,i,a){var o;return Ot(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new uy,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return At(n,[{key:"_terminate",value:function(){return this._firestoreClient||hy(this),this._firestoreClient.terminate()}}]),n}(ty);function cy(e,t){var n="object"==typeof e?e:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xi,t=Si.get(e);if(!t&&e===xi&&_r())return Li();if(!t)throw Oi.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||"(default)",i=Ri(n,"firestore").getImmediate({identifier:r});if(!i._initialized){var a=br("firestore");a&&ny.apply(void 0,[i].concat(Pt(a)))}return i}function fy(e){return e._firestoreClient||hy(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function hy(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Fc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Qm(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Om(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var dy=function(){function e(t){Ot(this,e),this._byteString=t}return At(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Ic.fromBase64String(t))}catch(t){throw new Al(Dl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Ic.fromUint8Array(t))}}]),e}(),py=function(){function e(){Ot(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Al(Dl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zl(n)}return At(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var vy=At((function e(t){Ot(this,e),this._methodName=t})),my=function(){function e(t,n){if(Ot(this,e),!isFinite(t)||t<-90||t>90)throw new Al(Dl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Al(Dl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return At(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Kl(this._lat,e._lat)||Kl(this._long,e._long)}}]),e}(),yy=/^__.*__$/,gy=function(){function e(t,n,r){Ot(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return At(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Dh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Oh(e,this.data,t,this.fieldTransforms)}}]),e}(),ky=function(){function e(t,n,r){Ot(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return At(e,[{key:"toMutation",value:function(e,t){return new Dh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function by(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rl()}}var _y=function(){function e(t,n,r,i,a,o){Ot(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Iu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return At(e,[{key:"path",get:function(){return this.settings.path}},{key:"Tu",get:function(){return this.settings.Tu}},{key:"Eu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"du",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Au:!1});return r.Ru(e),r}},{key:"Vu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Au:!1});return r.Iu(),r}},{key:"mu",value:function(e){return this.Eu({path:void 0,Au:!0})}},{key:"fu",value:function(e){return My(e,this.settings.methodName,this.settings.gu||!1,this.path,this.settings.pu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Iu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ru(this.path.get(e))}},{key:"Ru",value:function(e){if(0===e.length)throw this.fu("Document fields must not be empty");if(by(this.Tu)&&yy.test(e))throw this.fu('Document fields cannot begin and end with "__"')}}]),e}(),wy=function(){function e(t,n,r){Ot(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Mp(t)}return At(e,[{key:"yu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new _y({Tu:e,methodName:t,pu:n,path:Zl.emptyPath(),Au:!1,gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function Ey(e){var t=e._freezeSettings(),n=Mp(e._databaseId);return new wy(e._databaseId,!!t.ignoreUndefinedProperties,n)}function xy(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.yu(a.merge||a.mergeFields?2:0,t,n,i);Oy("Data must be an object, but it was:",o,r);var s,u,l=Ry(r,o);if(a.merge)s=new Tc(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var c,f=[],h=ir(a.mergeFields);try{for(h.s();!(c=h.n()).done;){var d=Dy(t,c.value,n);if(!o.contains(d))throw new Al(Dl.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));Fy(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new Tc(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new gy(new ef(l),s,u)}var Cy=function(e){In(n,e);var t=On(n);function n(){return Ot(this,n),t.apply(this,arguments)}return At(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Tu)throw 1===e.Tu?e.fu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.fu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(vy);var Sy=function(e){In(n,e);var t=On(n);function n(){return Ot(this,n),t.apply(this,arguments)}return At(n,[{key:"_toFieldTransform",value:function(e){return new wh(e.path,new ph)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(vy);function Ty(e,t,n,r){var i=e.yu(1,t,n);Oy("Data must be an object, but it was:",i,r);var a=[],o=ef.empty();bc(r,(function(e,r){var s=Ly(t,e,n);r=Br(r);var u=i.Vu(s);if(r instanceof Cy)a.push(s);else{var l=Iy(r,u);null!=l&&(a.push(s),o.set(s,l))}}));var s=new Tc(a);return new ky(o,s,i.fieldTransforms)}function Ny(e,t,n,r,i,a){var o=e.yu(1,t,n),s=[Dy(t,r,n)],u=[i];if(a.length%2!=0)throw new Al(Dl.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var l=0;l<a.length;l+=2)s.push(Dy(t,a[l])),u.push(a[l+1]);for(var c=[],f=ef.empty(),h=s.length-1;h>=0;--h)if(!Fy(c,s[h])){var d=s[h],p=u[h];p=Br(p);var v=o.Vu(d);if(p instanceof Cy)c.push(d);else{var m=Iy(p,v);null!=m&&(c.push(d),f.set(d,m))}}var y=new Tc(c);return new ky(f,y,o.fieldTransforms)}function Iy(e,t){if(Py(e=Br(e)))return Oy("Unsupported field value:",t,e),Ry(e,t);if(e instanceof vy)return function(e,t){if(!by(t.Tu))throw t.fu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.fu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Au&&4!==t.Tu)throw t.fu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ir(e);try{for(a.s();!(n=a.n()).done;){var o=Iy(n.value,t.mu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Br(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return lh(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Gl.fromDate(e);return{timestampValue:pd(t.serializer,n)}}if(e instanceof Gl){var r=new Gl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:pd(t.serializer,r)}}if(e instanceof my)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof dy)return{bytesValue:vd(t.serializer,e._byteString)};if(e instanceof iy){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.fu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:gd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.fu("Unsupported field value: ".concat(Jm(e)))}(e,t)}function Ry(e,t){var n={};return _c(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):bc(e,(function(e,r){var i=Iy(r,t.du(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Py(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Gl||e instanceof my||e instanceof dy||e instanceof iy||e instanceof vy)}function Oy(e,t,n){if(!Py(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Jm(n);throw"an object"===r?t.fu(e+" a custom object"):t.fu(e+" "+r)}}function Dy(e,t,n){if((t=Br(t))instanceof py)return t._internalPath;if("string"==typeof t)return Ly(e,t);throw My("Field path arguments must be of type string or ",e,!1,void 0,n)}var Ay=new RegExp("[~\\*/\\[\\]]");function Ly(e,t,n){if(t.search(Ay)>=0)throw My("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return nr(py,Pt(t.split(".")))._internalPath}catch(ha){throw My("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function My(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Al(Dl.INVALID_ARGUMENT,s+e+u)}function Fy(e,t){return e.some((function(e){return e.isEqual(t)}))}var jy=function(){function e(t,n,r,i,a){Ot(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return At(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new iy(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Uy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Vy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Uy=function(e){In(n,e);var t=On(n);function n(){return Ot(this,n),t.apply(this,arguments)}return At(n,[{key:"data",value:function(){return Nn(Tn(n.prototype),"data",this).call(this)}}]),n}(jy);function Vy(e,t){return"string"==typeof t?Ly(e,t):t instanceof py?t._internalPath:t._delegate._internalPath}function zy(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Al(Dl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var By=function(){function e(){Ot(this,e)}return At(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Vc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Rl()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return bc(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new my(Oc(e.latitude),Oc(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Lc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Mc(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Pc(e);return new Gl(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Xl.fromString(e);Pl(Ud(n));var r=new jc(n.get(1),n.get(3)),i=new ec(n.popFirst(5));return r.isEqual(t)||Tl("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function qy(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Wy=function(){function e(t,n){Ot(this,e),this.hasPendingWrites=t,this.fromCache=n}return At(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Hy=function(e){In(n,e);var t=On(n);function n(e,r,i,a,o,s){var u;return Ot(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return At(n,[{key:"exists",value:function(){return Nn(Tn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Ky(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Vy("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(jy),Ky=function(e){In(n,e);var t=On(n);function n(){return Ot(this,n),t.apply(this,arguments)}return At(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Nn(Tn(n.prototype),"data",this).call(this,e)}}]),n}(Hy),Qy=function(){function e(t,n,r,i){Ot(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wy(i.hasPendingWrites,i.fromCache),this.query=r}return At(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Ky(n._firestore,n._userDataWriter,r.key,r,new Wy(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Al(Dl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Ky(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Wy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Ky(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Wy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Gy(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function Gy(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rl()}}var $y=function(e){In(n,e);var t=On(n);function n(e){var r;return Ot(this,n),(r=t.call(this)).firestore=e,r}return At(n,[{key:"convertBytes",value:function(e){return new dy(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new iy(this.firestore,null,t)}}]),n}(By);function Yy(e,t,n){e=Zm(e,iy);for(var r=Zm(e.firestore,ly),i=Ey(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return Xy(r,[("string"==typeof(t=Br(t))||t instanceof py?Ny(i,"updateDoc",e._key,t,n,o):Ty(i,"updateDoc",e._key,t)).toMutation(e._key,xh.exists(!0))])}function Xy(e,t){return function(e,t){var n=new Ll;return e.asyncQueue.enqueueAndForget(tr(Zn().mark((function r(){return Zn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=im,r.next=3,Bm(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(fy(e),t)}function Jy(e,t,n){var r=n.docs.get(t._key),i=new $y(e);return new Hy(e,i,t._key,r,new Wy(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){El=e}(Ai),Ii(new qr("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new ly(new Ul(e.getProvider("auth-internal")),new ql(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Al(Dl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jc(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Mi(_l,"4.3.0",e),Mi(_l,"4.3.0","esm2017")}();var Zy,eg=(0,e.createContext)(),tg=function(t){var n=cy(),r=D((0,e.useState)([]),2),i=r[0],a=r[1],o=function(){a([])},s=function(e){return i.some((function(t){return t.id==e}))},l=function(e){var t=i.find((function(t){return t.id===e})),n=t.cantidad;a(i.filter((function(t){return t.id!==e}))),c(n,e,t)},c=function(){var e=tr(Zn().mark((function e(t,r,i){var a;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=sy(n,"Productos",r),e.next=3,Yy(a,{stock:i.stock});case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();console.log(i);var f={carritoItems:i,reintegrarStock:function(){i.forEach((function(e){return l(e.id)})),o()},agregarAlCarrito:function(e,t){s(e.id)?a(i.map((function(n){return n.id===e.id?u(u({},n),{},{cantidad:n.cantidad+t}):n}))):a([].concat(Pt(i),[u(u({},e),{},{cantidad:t})]))},borrarTodo:o,borrarItem:l,carritoCantidad:function(){return i.reduce((function(e,t){return e+t.cantidad}),0)},carritoTotal:function(){return i.reduce((function(e,t){return e+t.precio*t.cantidad}),0)}};return(0,d.jsx)(eg.Provider,{value:f,children:t.children})};function ng(){return ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ng.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Zy||(Zy={}));var rg,ig="popstate";function ag(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function og(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(bT){}}}function sg(e,t){return{usr:e.state,key:e.key,idx:t}}function ug(e,t,n,r){return void 0===n&&(n=null),ng({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?cg(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function lg(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function cg(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function fg(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,l=o.history,c=Zy.Pop,f=null,h=d();function d(){return(l.state||{idx:null}).idx}function p(){c=Zy.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:c,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:lg(e);return ag(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,l.replaceState(ng({},l.state,{idx:h}),""));var m={get action(){return c},get location(){return e(o,l)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(ig,p),f=e,function(){o.removeEventListener(ig,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c=Zy.Push;var r=ug(m.location,e,t);n&&n(r,e);var i=sg(r,h=d()+1),a=m.createHref(r);try{l.pushState(i,"",a)}catch(Vw){if(Vw instanceof DOMException&&"DataCloneError"===Vw.name)throw Vw;o.location.assign(a)}u&&f&&f({action:c,location:m.location,delta:1})},replace:function(e,t){c=Zy.Replace;var r=ug(m.location,e,t);n&&n(r,e);var i=sg(r,h=d()),a=m.createHref(r);l.replaceState(i,"",a),u&&f&&f({action:c,location:m.location,delta:0})},go:function(e){return l.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(rg||(rg={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function hg(e,t,n){void 0===n&&(n="/");var r=Sg(("string"===typeof t?cg(t):t).pathname||"/",n);if(null==r)return null;var i=dg(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Eg(i[o],Cg(r));return a}function dg(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(ag(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=Rg([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(ag(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),dg(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:wg(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=ir(pg(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function pg(e){var t=e.split("/");if(0===t.length)return[];var n,r=I(n=t)||Rt(n)||P(n)||O(),i=r[0],a=r.slice(1),o=i.endsWith("?"),s=i.replace(/\?$/,"");if(0===a.length)return o?[s,""]:[s];var u=pg(a.join("/")),l=[];return l.push.apply(l,Pt(u.map((function(e){return""===e?s:[s,e].join("/")})))),o&&l.push.apply(l,Pt(u)),l.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var vg=/^:\w+$/,mg=3,yg=2,gg=1,kg=10,bg=-2,_g=function(e){return"*"===e};function wg(e,t){var n=e.split("/"),r=n.length;return n.some(_g)&&(r+=bg),t&&(r+=yg),n.filter((function(e){return!_g(e)})).reduce((function(e,t){return e+(vg.test(t)?mg:""===t?gg:kg)}),r)}function Eg(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=xg({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var f=s.route;a.push({params:r,pathname:Rg([i,c.pathname]),pathnameBase:Pg(Rg([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=Rg([i,c.pathnameBase]))}return a}function xg(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);og("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=D(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1),c=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(Vw){return og(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+Vw+")."),e}}(l[n]||"",t),e}),{});return{params:c,pathname:s,pathnameBase:u,pattern:e}}function Cg(e){try{return decodeURI(e)}catch(Vw){return og(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+Vw+")."),e}}function Sg(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Tg(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Ng(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function Ig(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=cg(e):(ag(!(i=ng({},e)).pathname||!i.pathname.includes("?"),Tg("?","pathname","search",i)),ag(!i.pathname||!i.pathname.includes("#"),Tg("#","pathname","hash",i)),ag(!i.search||!i.search.includes("#"),Tg("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var l=s.split("/");".."===l[0];)l.shift(),u-=1;i.pathname=l.join("/")}a=u>=0?t[u]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?cg(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:Og(a),hash:Dg(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!f&&!h||(c.pathname+="/"),c}var Rg=function(e){return e.join("/").replace(/\/\/+/g,"/")},Pg=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Og=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Dg=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},Ag=function(e){In(n,e);var t=On(n);function n(){return Ot(this,n),t.apply(this,arguments)}return At(n)}(rr(Error));function Lg(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Mg=["post","put","patch","delete"],Fg=(new Set(Mg),["get"].concat(Mg));new Set(Fg),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jg.apply(this,arguments)}var Ug=e.createContext(null);var Vg=e.createContext(null);var zg=e.createContext(null);var Bg=e.createContext(null);var qg=e.createContext(null);var Wg=e.createContext({outlet:null,matches:[],isDataRoute:!1});var Hg=e.createContext(null);function Kg(){return null!=e.useContext(qg)}function Qg(){return Kg()||ag(!1),e.useContext(qg).location}function Gg(t){e.useContext(Bg).static||e.useLayoutEffect(t)}function $g(){return e.useContext(Wg).isDataRoute?function(){var t=ak(rk.UseNavigateStable).router,n=sk(ik.UseNavigateStable),r=e.useRef(!1);Gg((function(){r.current=!0}));var i=e.useCallback((function(e,i){void 0===i&&(i={}),r.current&&("number"===typeof e?t.navigate(e):t.navigate(e,jg({fromRouteId:n},i)))}),[t,n]);return i}():function(){Kg()||ag(!1);var t=e.useContext(Ug),n=e.useContext(Bg),r=n.basename,i=n.navigator,a=e.useContext(Wg).matches,o=Qg().pathname,s=JSON.stringify(Ng(a).map((function(e){return e.pathnameBase}))),u=e.useRef(!1);Gg((function(){u.current=!0}));var l=e.useCallback((function(e,n){if(void 0===n&&(n={}),u.current)if("number"!==typeof e){var a=Ig(e,JSON.parse(s),o,"path"===n.relative);null==t&&"/"!==r&&(a.pathname="/"===a.pathname?r:Rg([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(e)}),[r,i,s,o,t]);return l}()}function Yg(t,n){var r=(void 0===n?{}:n).relative,i=e.useContext(Wg).matches,a=Qg().pathname,o=JSON.stringify(Ng(i).map((function(e){return e.pathnameBase})));return e.useMemo((function(){return Ig(t,JSON.parse(o),a,"path"===r)}),[t,o,a,r])}function Xg(t,n,r){Kg()||ag(!1);var i,a=e.useContext(Bg).navigator,o=e.useContext(Wg).matches,s=o[o.length-1],u=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),c=(s&&s.route,Qg());if(n){var f,h="string"===typeof n?cg(n):n;"/"===l||(null==(f=h.pathname)?void 0:f.startsWith(l))||ag(!1),i=h}else i=c;var d=i.pathname||"/",p=hg(t,{pathname:"/"===l?d:d.slice(l.length)||"/"});var v=nk(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Rg([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:Rg([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&v?e.createElement(qg.Provider,{value:{location:jg({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:Zy.Pop}},v):v}function Jg(){var t=function(){var t,n=e.useContext(Hg),r=ok(ik.UseRouteError),i=sk(ik.UseRouteError);if(n)return n;return null==(t=r.errors)?void 0:t[i]}(),n=Lg(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:a},r):null,null)}var Zg=e.createElement(Jg,null),ek=function(t){In(r,t);var n=On(r);function r(e){var t;return Ot(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return At(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?e.createElement(Wg.Provider,{value:this.props.routeContext},e.createElement(Hg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(e.Component);function tk(t){var n=t.routeContext,r=t.match,i=t.children,a=e.useContext(Ug);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(Wg.Provider,{value:n},i)}function nk(t,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==t){var a;if(null==(a=r)||!a.errors)return null;t=r.matches}var o=t,s=null==(i=r)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||ag(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(t,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,l=null;r&&(l=i.route.errorElement||Zg);var c=n.concat(o.slice(0,a+1)),f=function(){var n;return n=u?l:i.route.Component?e.createElement(i.route.Component,null):i.route.element?i.route.element:t,e.createElement(tk,{match:i,routeContext:{outlet:t,matches:c,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?e.createElement(ek,{location:r.location,revalidation:r.revalidation,component:l,error:u,children:f(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):f()}),null)}var rk=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(rk||{}),ik=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ik||{});function ak(t){var n=e.useContext(Ug);return n||ag(!1),n}function ok(t){var n=e.useContext(Vg);return n||ag(!1),n}function sk(t){var n=function(t){var n=e.useContext(Wg);return n||ag(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||ag(!1),r.route.id}t.startTransition;function uk(e){ag(!1)}function lk(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,a=void 0===i?null:i,o=t.location,s=t.navigationType,u=void 0===s?Zy.Pop:s,l=t.navigator,c=t.static,f=void 0!==c&&c;Kg()&&ag(!1);var h=r.replace(/^\/*/,"/"),d=e.useMemo((function(){return{basename:h,navigator:l,static:f}}),[h,l,f]);"string"===typeof o&&(o=cg(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,_=p.state,w=void 0===_?null:_,E=p.key,x=void 0===E?"default":E,C=e.useMemo((function(){var e=Sg(m,h);return null==e?null:{location:{pathname:e,search:g,hash:b,state:w,key:x},navigationType:u}}),[h,m,g,b,w,x,u]);return null==C?null:e.createElement(Bg.Provider,{value:d},e.createElement(qg.Provider,{children:a,value:C}))}function ck(e){var t=e.children,n=e.location;return Xg(dk(t),n)}var fk=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(fk||{}),hk=new Promise((function(){}));e.Component;function dk(t,n){void 0===n&&(n=[]);var r=[];return e.Children.forEach(t,(function(t,i){if(e.isValidElement(t)){var a=[].concat(Pt(n),[i]);if(t.type!==e.Fragment){t.type!==uk&&ag(!1),t.props.index&&t.props.children&&ag(!1);var o={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=dk(t.props.children,a)),r.push(o)}else r.push.apply(r,dk(t.props.children,a))}})),r}function pk(){return pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pk.apply(this,arguments)}function vk(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var mk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];var yk=t.startTransition;function gk(t){var n=t.basename,r=t.children,i=t.future,a=t.window,o=e.useRef();null==o.current&&(o.current=function(e){return void 0===e&&(e={}),fg((function(e,t){var n=e.location;return ug("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:lg(t)}),null,e)}({window:a,v5Compat:!0}));var s=o.current,u=D(e.useState({action:s.action,location:s.location}),2),l=u[0],c=u[1],f=(i||{}).v7_startTransition,h=e.useCallback((function(e){f&&yk?yk((function(){return c(e)})):c(e)}),[c,f]);return e.useLayoutEffect((function(){return s.listen(h)}),[s,h]),e.createElement(lk,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:s})}var kk="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,bk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_k=e.forwardRef((function(t,n){var r,i=t.onClick,a=t.relative,o=t.reloadDocument,s=t.replace,u=t.state,l=t.target,c=t.to,f=t.preventScrollReset,h=t.unstable_viewTransition,d=vk(t,mk),p=e.useContext(Bg).basename,v=!1;if("string"===typeof c&&bk.test(c)&&(r=c,kk))try{var m=new URL(window.location.href),y=c.startsWith("//")?new URL(m.protocol+c):new URL(c),g=Sg(y.pathname,p);y.origin===m.origin&&null!=g?c=g+y.search+y.hash:v=!0}catch(bT){}var k=function(t,n){var r=(void 0===n?{}:n).relative;Kg()||ag(!1);var i=e.useContext(Bg),a=i.basename,o=i.navigator,s=Yg(t,{relative:r}),u=s.hash,l=s.pathname,c=s.search,f=l;return"/"!==a&&(f="/"===l?a:Rg([a,l])),o.createHref({pathname:f,search:c,hash:u})}(c,{relative:a}),b=function(t,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,l=r.unstable_viewTransition,c=$g(),f=Qg(),h=Yg(t,{relative:u});return e.useCallback((function(e){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,i)){e.preventDefault();var n=void 0!==a?a:lg(f)===lg(h);c(t,{replace:n,state:o,preventScrollReset:s,relative:u,unstable_viewTransition:l})}}),[f,c,h,a,o,i,t,s,u,l])}(c,{replace:s,state:u,target:l,preventScrollReset:f,relative:a,unstable_viewTransition:h});return e.createElement("a",pk({},d,{href:r||k,onClick:v||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:n,target:l}))}));var wk,Ek;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(wk||(wk={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ek||(Ek={}));var xk=function(){var t=(0,e.useContext)(eg),n=(t.carritoItems,t.carritoCantidad);return(0,d.jsxs)(d.Fragment,{children:[n()>0&&(0,d.jsx)("div",{className:"notificacion","current-count":n()}),(0,d.jsx)(_k,{to:"/ProyectoFinalReact_MaximilianoTrochon/cart",children:(0,d.jsx)("img",{className:"cart",src:"/ProyectoFinalReact_MaximilianoTrochon/imagenes/cart.png",alt:""})})]})},Ck=["as","bsPrefix","variant","size","active","disabled","className"],Sk=e.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=void 0===i?"primary":i,o=e.size,s=e.active,l=void 0!==s&&s,f=e.disabled,p=void 0!==f&&f,v=e.className,y=c(e,Ck),g=m(r,"btn"),k=D(Q(u({tagName:n,disabled:p},y)),2),b=k[0],_=k[1].tagName;return(0,d.jsx)(_,u(u(u({},b),y),{},{ref:t,disabled:p,className:h()(v,g,l&&"active",a&&"".concat(g,"-").concat(a),o&&"".concat(g,"-").concat(o),y.href&&p&&"disabled")}))}));Sk.displayName="Button";var Tk=Sk,Nk=function(e){var t,n=e.data,r=n.id,i=n.nombre,a=n.precio,o=n.urlImagen,s=n.categoria,u=n.stock;return t="Remera"===s?"/ProyectoFinalReact_MaximilianoTrochon/".concat(r):"Accesorio"===s?"/ProyectoFinalReact_MaximilianoTrochon/accesorios/".concat(r):"/ProyectoFinalReact_MaximilianoTrochon/calzado/".concat(r),(0,d.jsx)("div",{className:"producto",children:u>0?(0,d.jsxs)("p",{children:[(0,d.jsx)("img",{src:o})," ",s,": ",i," ($",a,")",(0,d.jsx)(Tk,{as:_k,to:t,params:{producto:e.data},className:"boton botondetalle",variant:"primary",children:"Ver detalle"})]}):(0,d.jsxs)("p",{children:[(0,d.jsx)("img",{src:o})," ",(0,d.jsxs)("span",{className:"no-disponible",children:[s,": ",i," (no disponible) "]})," ",(0,d.jsx)(Tk,{as:_k,to:t,className:"boton botondetalle",variant:"primary",children:"Ver detalle"})]})})},Ik=function(t){var n=t.categoria,r=(t.greetings,D((0,e.useState)([]),2)),i=r[0],a=r[1],o=cy();(0,e.useEffect)((function(){(function(e){e=Zm(e,ry);var t=Zm(e.firestore,ly),n=fy(t),r=new $y(t);return zy(e._query),Km(n,e._query).then((function(n){return new Qy(t,r,e,n)}))})(oy(o,"Productos")).then((function(e){a(e.docs.map((function(e){return u({id:e.id},e.data())})))}))}),[]);var s=i.filter((function(e){return e.categoria==n}));return(0,d.jsx)("div",{className:"container itemlist",children:(0,d.jsx)("div",{className:"productos col-10",children:s.map((function(e){return(0,d.jsx)(Nk,{data:e},e.id)}))})})},Rk=function(){return(0,d.jsx)(Ik,{categoria:"Accesorio",greetings:"Bienvenidos!"})},Pk=function(){return(0,d.jsx)(Ik,{categoria:"Remera",greetings:"Bienvenidos!"})},Ok=function(){return(0,d.jsx)(Ik,{categoria:"Calzado",greetings:"Bienvenidos!"})};function Dk(t,n,r){var i=(0,e.useRef)(void 0!==t),a=D((0,e.useState)(n),2),o=a[0],s=a[1],u=void 0!==t,l=i.current;return i.current=u,!u&&l&&o!==n&&s(n),[u?t:o,(0,e.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0],a=t.slice(1),o=null==r?void 0:r.apply(void 0,[i].concat(Pt(a)));return s(i),o}),[r])]}var Ak=e.createContext(null),Lk=Object.prototype.hasOwnProperty;function Mk(e,t,n){var r,i=ir(e.keys());try{for(i.s();!(r=i.n()).done;)if(Fk(n=r.value,t))return n}catch(a){i.e(a)}finally{i.f()}}function Fk(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Fk(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;var a,o=ir(e);try{for(o.s();!(a=o.n()).done;){if((i=r=a.value)&&"object"===typeof i&&!(i=Mk(t,i)))return!1;if(!t.has(i))return!1}}catch(l){o.e(l)}finally{o.f()}return!0}if(n===Map){if(e.size!==t.size)return!1;var s,u=ir(e);try{for(u.s();!(s=u.n()).done;){if((i=(r=s.value)[0])&&"object"===typeof i&&!(i=Mk(t,i)))return!1;if(!Fk(r[1],t.get(i)))return!1}}catch(l){u.e(l)}finally{u.f()}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(Lk.call(e,n)&&++r&&!Lk.call(t,n))return!1;if(!(n in t)||!Fk(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}var jk=function(t){var n=he();return[t[0],(0,e.useCallback)((function(e){if(n())return t[1](e)}),[n,t[1]])]};function Uk(e){return e.split("-")[0]}function Vk(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function zk(e){return e instanceof Vk(e).Element||e instanceof Element}function Bk(e){return e instanceof Vk(e).HTMLElement||e instanceof HTMLElement}function qk(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Vk(e).ShadowRoot||e instanceof ShadowRoot)}var Wk=Math.max,Hk=Math.min,Kk=Math.round;function Qk(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Gk(){return!/^((?!chrome|android).)*safari/i.test(Qk())}function $k(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,a=1;t&&Bk(e)&&(i=e.offsetWidth>0&&Kk(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Kk(r.height)/e.offsetHeight||1);var o=(zk(e)?Vk(e):window).visualViewport,s=!Gk()&&n,u=(r.left+(s&&o?o.offsetLeft:0))/i,l=(r.top+(s&&o?o.offsetTop:0))/a,c=r.width/i,f=r.height/a;return{width:c,height:f,top:l,right:u+c,bottom:l+f,left:u,x:u,y:l}}function Yk(e){var t=$k(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Xk(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&qk(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Jk(e){return e?(e.nodeName||"").toLowerCase():null}function Zk(e){return Vk(e).getComputedStyle(e)}function eb(e){return["table","td","th"].indexOf(Jk(e))>=0}function tb(e){return((zk(e)?e.ownerDocument:e.document)||window.document).documentElement}function nb(e){return"html"===Jk(e)?e:e.assignedSlot||e.parentNode||(qk(e)?e.host:null)||tb(e)}function rb(e){return Bk(e)&&"fixed"!==Zk(e).position?e.offsetParent:null}function ib(e){for(var t=Vk(e),n=rb(e);n&&eb(n)&&"static"===Zk(n).position;)n=rb(n);return n&&("html"===Jk(n)||"body"===Jk(n)&&"static"===Zk(n).position)?t:n||function(e){var t=/firefox/i.test(Qk());if(/Trident/i.test(Qk())&&Bk(e)&&"fixed"===Zk(e).position)return null;var n=nb(e);for(qk(n)&&(n=n.host);Bk(n)&&["html","body"].indexOf(Jk(n))<0;){var r=Zk(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function ab(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ob(e,t,n){return Wk(e,Hk(t,n))}function sb(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ub(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var lb="top",cb="bottom",fb="right",hb="left",db="auto",pb=[lb,cb,fb,hb],vb="start",mb="end",yb="clippingParents",gb="viewport",kb="popper",bb="reference",_b=pb.reduce((function(e,t){return e.concat([t+"-"+vb,t+"-"+mb])}),[]),wb=[].concat(pb,[db]).reduce((function(e,t){return e.concat([t,t+"-"+vb,t+"-"+mb])}),[]),Eb=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];var xb={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=Uk(n.placement),u=ab(s),l=[hb,fb].indexOf(s)>=0?"height":"width";if(a&&o){var c=function(e,t){return sb("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:ub(e,pb))}(i.padding,n),f=Yk(a),h="y"===u?lb:hb,d="y"===u?cb:fb,p=n.rects.reference[l]+n.rects.reference[u]-o[u]-n.rects.popper[l],v=o[u]-n.rects.reference[u],m=ib(a),y=m?"y"===u?m.clientHeight||0:m.clientWidth||0:0,g=p/2-v/2,k=c[h],b=y-f[l]-c[d],_=y/2-f[l]/2+g,w=ob(k,_,b),E=u;n.modifiersData[r]=((t={})[E]=w,t.centerOffset=w-_,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Xk(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Cb(e){return e.split("-")[1]}var Sb={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Tb(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,u=e.gpuAcceleration,l=e.adaptive,c=e.roundOffsets,f=e.isFixed,h=o.x,d=void 0===h?0:h,p=o.y,v=void 0===p?0:p,m="function"===typeof c?c({x:d,y:v}):{x:d,y:v};d=m.x,v=m.y;var y=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),k=hb,b=lb,_=window;if(l){var w=ib(n),E="clientHeight",x="clientWidth";if(w===Vk(n)&&"static"!==Zk(w=tb(n)).position&&"absolute"===s&&(E="scrollHeight",x="scrollWidth"),i===lb||(i===hb||i===fb)&&a===mb)b=cb,v-=(f&&w===_&&_.visualViewport?_.visualViewport.height:w[E])-r.height,v*=u?1:-1;if(i===hb||(i===lb||i===cb)&&a===mb)k=fb,d-=(f&&w===_&&_.visualViewport?_.visualViewport.width:w[x])-r.width,d*=u?1:-1}var C,S=Object.assign({position:s},l&&Sb),T=!0===c?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Kk(n*i)/i||0,y:Kk(r*i)/i||0}}({x:d,y:v},Vk(n)):{x:d,y:v};return d=T.x,v=T.y,u?Object.assign({},S,((C={})[b]=g?"0":"",C[k]=y?"0":"",C.transform=(_.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",C)):Object.assign({},S,((t={})[b]=g?v+"px":"",t[k]=y?d+"px":"",t.transform="",t))}var Nb={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,u=void 0===s||s,l={placement:Uk(t.placement),variation:Cb(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Tb(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Tb(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Ib={passive:!0};var Rb={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,s=void 0===o||o,u=Vk(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&l.forEach((function(e){e.addEventListener("scroll",n.update,Ib)})),s&&u.addEventListener("resize",n.update,Ib),function(){a&&l.forEach((function(e){e.removeEventListener("scroll",n.update,Ib)})),s&&u.removeEventListener("resize",n.update,Ib)}},data:{}},Pb={left:"right",right:"left",bottom:"top",top:"bottom"};function Ob(e){return e.replace(/left|right|bottom|top/g,(function(e){return Pb[e]}))}var Db={start:"end",end:"start"};function Ab(e){return e.replace(/start|end/g,(function(e){return Db[e]}))}function Lb(e){var t=Vk(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Mb(e){return $k(tb(e)).left+Lb(e).scrollLeft}function Fb(e){var t=Zk(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function jb(e){return["html","body","#document"].indexOf(Jk(e))>=0?e.ownerDocument.body:Bk(e)&&Fb(e)?e:jb(nb(e))}function Ub(e,t){var n;void 0===t&&(t=[]);var r=jb(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=Vk(r),o=i?[a].concat(a.visualViewport||[],Fb(r)?r:[]):r,s=t.concat(o);return i?s:s.concat(Ub(nb(o)))}function Vb(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function zb(e,t,n){return t===gb?Vb(function(e,t){var n=Vk(e),r=tb(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,u=0;if(i){a=i.width,o=i.height;var l=Gk();(l||!l&&"fixed"===t)&&(s=i.offsetLeft,u=i.offsetTop)}return{width:a,height:o,x:s+Mb(e),y:u}}(e,n)):zk(t)?function(e,t){var n=$k(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Vb(function(e){var t,n=tb(e),r=Lb(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=Wk(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Wk(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+Mb(e),u=-r.scrollTop;return"rtl"===Zk(i||n).direction&&(s+=Wk(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:u}}(tb(e)))}function Bb(e,t,n,r){var i="clippingParents"===t?function(e){var t=Ub(nb(e)),n=["absolute","fixed"].indexOf(Zk(e).position)>=0&&Bk(e)?ib(e):e;return zk(n)?t.filter((function(e){return zk(e)&&Xk(e,n)&&"body"!==Jk(e)})):[]}(e):[].concat(t),a=[].concat(i,[n]),o=a[0],s=a.reduce((function(t,n){var i=zb(e,n,r);return t.top=Wk(i.top,t.top),t.right=Hk(i.right,t.right),t.bottom=Hk(i.bottom,t.bottom),t.left=Wk(i.left,t.left),t}),zb(e,o,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function qb(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?Uk(i):null,o=i?Cb(i):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(a){case lb:t={x:s,y:n.y-r.height};break;case cb:t={x:s,y:n.y+n.height};break;case fb:t={x:n.x+n.width,y:u};break;case hb:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var l=a?ab(a):null;if(null!=l){var c="y"===l?"height":"width";switch(o){case vb:t[l]=t[l]-(n[c]/2-r[c]/2);break;case mb:t[l]=t[l]+(n[c]/2-r[c]/2)}}return t}function Wb(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.strategy,o=void 0===a?e.strategy:a,s=n.boundary,u=void 0===s?yb:s,l=n.rootBoundary,c=void 0===l?gb:l,f=n.elementContext,h=void 0===f?kb:f,d=n.altBoundary,p=void 0!==d&&d,v=n.padding,m=void 0===v?0:v,y=sb("number"!==typeof m?m:ub(m,pb)),g=h===kb?bb:kb,k=e.rects.popper,b=e.elements[p?g:h],_=Bb(zk(b)?b:b.contextElement||tb(e.elements.popper),u,c,o),w=$k(e.elements.reference),E=qb({reference:w,element:k,strategy:"absolute",placement:i}),x=Vb(Object.assign({},k,E)),C=h===kb?x:w,S={top:_.top-C.top+y.top,bottom:C.bottom-_.bottom+y.bottom,left:_.left-C.left+y.left,right:C.right-_.right+y.right},T=e.modifiersData.offset;if(h===kb&&T){var N=T[i];Object.keys(S).forEach((function(e){var t=[fb,cb].indexOf(e)>=0?1:-1,n=[lb,cb].indexOf(e)>=0?"y":"x";S[e]+=N[n]*t}))}return S}var Hb={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,u=n.fallbackPlacements,l=n.padding,c=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,m=t.options.placement,y=Uk(m),g=u||(y===m||!p?[Ob(m)]:function(e){if(Uk(e)===db)return[];var t=Ob(e);return[Ab(e),t,Ab(t)]}(m)),k=[m].concat(g).reduce((function(e,n){return e.concat(Uk(n)===db?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,l=void 0===u?wb:u,c=Cb(r),f=c?s?_b:_b.filter((function(e){return Cb(e)===c})):pb,h=f.filter((function(e){return l.indexOf(e)>=0}));0===h.length&&(h=f);var d=h.reduce((function(t,n){return t[n]=Wb(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[Uk(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:c,rootBoundary:f,padding:l,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),b=t.rects.reference,_=t.rects.popper,w=new Map,E=!0,x=k[0],C=0;C<k.length;C++){var S=k[C],T=Uk(S),N=Cb(S)===vb,I=[lb,cb].indexOf(T)>=0,R=I?"width":"height",P=Wb(t,{placement:S,boundary:c,rootBoundary:f,altBoundary:h,padding:l}),O=I?N?fb:hb:N?cb:lb;b[R]>_[R]&&(O=Ob(O));var D=Ob(O),A=[];if(a&&A.push(P[T]<=0),s&&A.push(P[O]<=0,P[D]<=0),A.every((function(e){return e}))){x=S,E=!1;break}w.set(S,A)}if(E)for(var L=function(e){var t=k.find((function(t){var n=w.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return x=t,"break"},M=p?3:1;M>0;M--){if("break"===L(M))break}t.placement!==x&&(t.modifiersData[r]._skip=!0,t.placement=x,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Kb(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Qb(e){return[lb,fb,cb,hb].some((function(t){return e[t]>=0}))}var Gb={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=wb.reduce((function(e,n){return e[n]=function(e,t,n){var r=Uk(e),i=[hb,lb].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[hb,fb].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,a),e}),{}),s=o[t.placement],u=s.x,l=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=o}};var $b={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,u=n.boundary,l=n.rootBoundary,c=n.altBoundary,f=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,v=void 0===p?0:p,m=Wb(t,{boundary:u,rootBoundary:l,padding:f,altBoundary:c}),y=Uk(t.placement),g=Cb(t.placement),k=!g,b=ab(y),_="x"===b?"y":"x",w=t.modifiersData.popperOffsets,E=t.rects.reference,x=t.rects.popper,C="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,S="number"===typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if(w){if(a){var I,R="y"===b?lb:hb,P="y"===b?cb:fb,O="y"===b?"height":"width",D=w[b],A=D+m[R],L=D-m[P],M=d?-x[O]/2:0,F=g===vb?E[O]:x[O],j=g===vb?-x[O]:-E[O],U=t.elements.arrow,V=d&&U?Yk(U):{width:0,height:0},z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=z[R],q=z[P],W=ob(0,E[O],V[O]),H=k?E[O]/2-M-W-B-S.mainAxis:F-W-B-S.mainAxis,K=k?-E[O]/2+M+W+q+S.mainAxis:j+W+q+S.mainAxis,Q=t.elements.arrow&&ib(t.elements.arrow),G=Q?"y"===b?Q.clientTop||0:Q.clientLeft||0:0,$=null!=(I=null==T?void 0:T[b])?I:0,Y=D+K-$,X=ob(d?Hk(A,D+H-$-G):A,D,d?Wk(L,Y):L);w[b]=X,N[b]=X-D}if(s){var J,Z="x"===b?lb:hb,ee="x"===b?cb:fb,te=w[_],ne="y"===_?"height":"width",re=te+m[Z],ie=te-m[ee],ae=-1!==[lb,hb].indexOf(y),oe=null!=(J=null==T?void 0:T[_])?J:0,se=ae?re:te-E[ne]-x[ne]-oe+S.altAxis,ue=ae?te+E[ne]+x[ne]-oe-S.altAxis:ie,le=d&&ae?function(e,t,n){var r=ob(e,t,n);return r>n?n:r}(se,te,ue):ob(d?se:re,te,d?ue:ie);w[_]=le,N[_]=le-te}t.modifiersData[r]=N}},requiresIfExists:["offset"]};function Yb(e,t,n){void 0===n&&(n=!1);var r=Bk(t),i=Bk(t)&&function(e){var t=e.getBoundingClientRect(),n=Kk(t.width)/e.offsetWidth||1,r=Kk(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=tb(t),o=$k(e,i,n),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==Jk(t)||Fb(a))&&(s=function(e){return e!==Vk(e)&&Bk(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Lb(e);var t}(t)),Bk(t)?((u=$k(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=Mb(a))),{x:o.left+s.scrollLeft-u.x,y:o.top+s.scrollTop-u.y,width:o.width,height:o.height}}function Xb(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function Jb(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Zb={placement:"bottom",modifiers:[],strategy:"absolute"};function e_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function t_(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?Zb:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Zb,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,u={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;l(),i.options=Object.assign({},a,i.options,s),i.scrollParents={reference:zk(e)?Ub(e):e.contextElement?Ub(e.contextElement):[],popper:Ub(t)};var c=function(e){var t=Xb(e);return Eb.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=c.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var s=a({state:i,name:t,instance:u,options:r}),l=function(){};o.push(s||l)}})),u.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(e_(t,n)){i.rects={reference:Yb(t,ib(n),"fixed"===i.options.strategy),popper:Yk(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,l=a.options,c=void 0===l?{}:l,f=a.name;"function"===typeof o&&(i=o({state:i,options:c,name:f,instance:u})||i)}else i.reset=!1,r=-1}}},update:Jb((function(){return new Promise((function(e){u.forceUpdate(),e(i)}))})),destroy:function(){l(),s=!0}};if(!e_(e,t))return u;function l(){o.forEach((function(e){return e()})),o=[]}return u.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var n_=t_({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=Wb(t,{elementContext:"reference"}),s=Wb(t,{altBoundary:!0}),u=Kb(o,r),l=Kb(s,i,a),c=Qb(u),f=Qb(l);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=qb({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Nb,Rb,Gb,Hb,$b,xb]}),r_=["enabled","placement","strategy","modifiers"];var i_={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:function(){}},a_={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var i=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));i.length?n.setAttribute("aria-describedby",i.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,i=n.reference,a=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===a&&"setAttribute"in i){var o=i.getAttribute("aria-describedby");if(o&&-1!==o.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",o?"".concat(o,",").concat(r.id):r.id)}}},o_=[];var s_=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.enabled,a=void 0===i||i,o=r.placement,s=void 0===o?"bottom":o,u=r.strategy,l=void 0===u?"absolute":u,c=r.modifiers,f=void 0===c?o_:c,h=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(r,r_),d=(0,e.useRef)(f),p=(0,e.useRef)(),v=(0,e.useCallback)((function(){var e;null==(e=p.current)||e.update()}),[]),m=(0,e.useCallback)((function(){var e;null==(e=p.current)||e.forceUpdate()}),[]),y=D(jk((0,e.useState)({placement:s,update:v,forceUpdate:m,attributes:{},styles:{popper:{},arrow:{}}})),2),g=y[0],k=y[1],b=(0,e.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),k({state:t,styles:n,attributes:r,update:v,forceUpdate:m,placement:t.placement})}}}),[v,m,k]),_=(0,e.useMemo)((function(){return Fk(d.current,f)||(d.current=f),d.current}),[f]);return(0,e.useEffect)((function(){p.current&&a&&p.current.setOptions({placement:s,strategy:l,modifiers:[].concat(Pt(_),[b,i_])})}),[l,s,b,a,_]),(0,e.useEffect)((function(){if(a&&null!=t&&null!=n)return p.current=n_(t,n,Object.assign({},h,{placement:s,strategy:l,modifiers:[].concat(Pt(_),[a_,b])})),function(){null!=p.current&&(p.current.destroy(),p.current=void 0,k((function(e){return Object.assign({},e,{attributes:{},styles:{popper:{}}})})))}}),[a,t,n]),g},u_=n(391),l_=n.n(u_),c_=function(){};var f_=function(e){return e&&("current"in e?e.current:e)},h_={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};var d_=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c_,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.disabled,a=r.clickTrigger,o=void 0===a?"click":a,s=(0,e.useRef)(!1),u=(0,e.useRef)(!1),l=(0,e.useCallback)((function(e){var n,r=f_(t);l_()(!!r,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!r||!!((n=e).metaKey||n.altKey||n.ctrlKey||n.shiftKey)||!function(e){return 0===e.button}(e)||!!Nt(r,e.target)||u.current,u.current=!1}),[t]),c=H((function(e){var n=f_(t);n&&Nt(n,e.target)&&(u.current=!0)})),f=H((function(e){s.current||n(e)}));(0,e.useEffect)((function(){var e,n;if(!i&&null!=t){var r=Ne(f_(t)),a=r.defaultView||window,s=null!=(e=a.event)?e:null==(n=a.parent)?void 0:n.event,u=null;h_[o]&&(u=Ze(r,h_[o],c,!0));var h=Ze(r,o,l,!0),d=Ze(r,o,(function(e){e!==s?f(e):s=void 0})),p=[];return"ontouchstart"in r.documentElement&&(p=[].slice.call(r.body.children).map((function(e){return Ze(e,"mousemove",c_)}))),function(){null==u||u(),h(),d(),p.forEach((function(e){return e()}))}}}),[t,i,o,l,c,f])};function p_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t].name=t,e[t]}))}function v_(e){var t,n,r,i,a,o=e.enabled,s=e.enableEvents,u=e.placement,l=e.flip,c=e.offset,f=e.fixed,h=e.containerPadding,d=e.arrowElement,p=e.popperConfig,v=void 0===p?{}:p,m=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(v.modifiers);return Object.assign({},v,{placement:u,enabled:o,strategy:f?"fixed":v.strategy,modifiers:p_(Object.assign({},m,{eventListeners:{enabled:s,options:null==(t=m.eventListeners)?void 0:t.options},preventOverflow:Object.assign({},m.preventOverflow,{options:h?Object.assign({padding:h},null==(n=m.preventOverflow)?void 0:n.options):null==(r=m.preventOverflow)?void 0:r.options}),offset:{options:Object.assign({offset:c},null==(i=m.offset)?void 0:i.options)},arrow:Object.assign({},m.arrow,{enabled:!!d,options:Object.assign({},null==(a=m.arrow)?void 0:a.options,{element:d})}),flip:Object.assign({enabled:!!l},m.flip)}))})}var m_=["children"];var y_=function(){};function g_(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,e.useContext)(Ak),r=D((0,e.useState)(null),2),i=r[0],a=r[1],o=(0,e.useRef)(!1),s=t.flip,u=t.offset,l=t.rootCloseEvent,c=t.fixed,f=void 0!==c&&c,h=t.placement,d=t.popperConfig,p=void 0===d?{}:d,v=t.enableEventListeners,m=void 0===v||v,y=t.usePopper,g=void 0===y?!!n:y,k=null==(null==n?void 0:n.show)?!!t.show:n.show;k&&!o.current&&(o.current=!0);var b=n||{},_=b.placement,w=b.setMenu,E=b.menuElement,x=b.toggleElement,C=s_(x,E,v_({placement:h||_||"bottom-start",enabled:g,enableEvents:null==m?k:m,offset:u,flip:s,fixed:f,arrowElement:i,popperConfig:p})),S=Object.assign({ref:w||y_,"aria-labelledby":null==x?void 0:x.id},C.attributes.popper,{style:C.styles.popper}),T={show:k,placement:_,hasShown:o.current,toggle:null==n?void 0:n.toggle,popper:g?C:null,arrowProps:g?Object.assign({ref:a},C.attributes.arrow,{style:C.styles.arrow}):{}};return d_(E,(function(e){null==n||n.toggle(!1,e)}),{clickTrigger:l,disabled:!k}),[S,T]}function k_(e){var t=e.children,n=D(g_(function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,m_)),2),r=n[0],i=n[1];return(0,d.jsx)(d.Fragment,{children:t(r,i)})}k_.displayName="DropdownMenu",k_.defaultProps={usePopper:!0};var b_=k_,__={prefix:String(Math.round(1e10*Math.random())),current:0},w_=e.createContext(__),E_=e.createContext(!1);var x_=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement),C_=new WeakMap;function S_(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,e.useContext)(w_),r=(0,e.useRef)(null);if(null===r.current&&!t){var i,a,o=null===(i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===i||null===(a=i.ReactCurrentOwner)||void 0===a?void 0:a.current;if(o){var s=C_.get(o);null==s?C_.set(o,{id:n.current,state:o.memoizedState}):o.memoizedState!==s.state&&(n.current=s.id,C_.delete(o))}r.current=++n.current}return r.current}var T_="function"===typeof e.useId?function(t){var n=e.useId(),r=D((0,e.useState)("function"===typeof e.useSyncExternalStore?e.useSyncExternalStore(R_,N_,I_):(0,e.useContext)(E_)),1)[0]?"react-aria":"react-aria".concat(__.prefix);return t||"".concat(r,"-").concat(n)}:function(t){var n=(0,e.useContext)(w_);n!==__||x_||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");var r=S_(!!t),i="react-aria".concat(n.prefix);return t||"".concat(i,"-").concat(r)};function N_(){return!1}function I_(){return!0}function R_(e){return function(){}}var P_=function(e){var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},O_=function(){};function D_(){var t=T_(),n=(0,e.useContext)(Ak)||{},r=n.show,i=void 0!==r&&r,a=n.toggle,o=void 0===a?O_:a,s=n.setToggle,u=n.menuElement,l=(0,e.useCallback)((function(e){o(!i,e)}),[i,o]),c={id:t,ref:s||O_,onClick:l,"aria-expanded":!!i};return u&&P_(u)&&(c["aria-haspopup"]=!0),[c,{show:i,toggle:o}]}function A_(e){var t=e.children,n=D(D_(),2),r=n[0],i=n[1];return(0,d.jsx)(d.Fragment,{children:t(r,i)})}A_.displayName="DropdownToggle";var L_=A_,M_=["eventKey","disabled","onClick","active","as"];function F_(t){var n=t.key,r=t.href,i=t.active,a=t.disabled,s=t.onClick,u=(0,e.useContext)(V),l=((0,e.useContext)(j)||{}).activeKey,c=U(n,r),f=null==i&&null!=n?U(l)===c:i;return[o({onClick:H((function(e){a||(null==s||s(e),u&&!e.isPropagationStopped()&&u(c,e))})),"aria-disabled":a||void 0,"aria-selected":f},q("dropdown-item"),""),{isActive:f}]}var j_=e.forwardRef((function(e,t){var n=e.eventKey,r=e.disabled,i=e.onClick,a=e.active,o=e.as,s=void 0===o?$:o,u=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,M_),l=D(F_({key:n,href:u.href,disabled:r,onClick:i,active:a}),1)[0];return(0,d.jsx)(s,Object.assign({},u,{ref:t},l))}));j_.displayName="DropdownItem";var U_=j_;function V_(){var t=A(),n=(0,e.useRef)(null),r=(0,e.useCallback)((function(e){n.current=e,t()}),[t]);return[n,r]}function z_(t){var n=t.defaultShow,r=t.show,i=t.onSelect,a=t.onToggle,o=t.itemSelector,s=void 0===o?"* [".concat(q("dropdown-item"),"]"):o,u=t.focusFirstItemOnShow,l=t.placement,c=void 0===l?"bottom-start":l,f=t.children,h=Ut(),p=D(Dk(r,n,a),2),v=p[0],m=p[1],y=D(V_(),2),g=y[0],k=y[1],b=g.current,_=D(V_(),2),w=_[0],E=_[1],x=w.current,C=de(v),S=(0,e.useRef)(null),T=(0,e.useRef)(!1),I=(0,e.useContext)(V),R=(0,e.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;m(e,{originalEvent:t,source:n})}),[m]),P=H((function(e,t){null==i||i(e,t),R(!1,t,"select"),t.isPropagationStopped()||null==I||I(e,t)})),O=(0,e.useMemo)((function(){return{toggle:R,placement:c,show:v,menuElement:b,toggleElement:x,setMenu:k,setToggle:E}}),[R,c,v,b,x,k,E]);b&&C&&!v&&(T.current=b.contains(b.ownerDocument.activeElement));var A=H((function(){x&&x.focus&&x.focus()})),L=H((function(){var e=S.current,t=u;if(null==t&&(t=!(!g.current||!P_(g.current))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var n=N(g.current,s)[0];n&&n.focus&&n.focus()}}));(0,e.useEffect)((function(){v?L():T.current&&(T.current=!1,A())}),[v,T,A,L]),(0,e.useEffect)((function(){S.current=null}));var M=function(e,t){if(!g.current)return null;var n=N(g.current,s),r=n.indexOf(e)+t;return n[r=Math.max(0,Math.min(r,n.length))]};return function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=H(r);(0,e.useEffect)((function(){var e="function"===typeof t?t():t;return e.addEventListener(n,a,i),function(){return e.removeEventListener(n,a,i)}}),[t])}((0,e.useCallback)((function(){return h.document}),[h]),"keydown",(function(e){var t,n,r=e.key,i=e.target,a=null==(t=g.current)?void 0:t.contains(i),o=null==(n=w.current)?void 0:n.contains(i);if((!/input|textarea/i.test(i.tagName)||!(" "===r||"Escape"!==r&&a||"Escape"===r&&"search"===i.type))&&(a||o)&&("Tab"!==r||g.current&&v)){S.current=e.type;var s={originalEvent:e,source:e.type};switch(r){case"ArrowUp":var u=M(i,-1);return u&&u.focus&&u.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),v){var l=M(i,1);l&&l.focus&&l.focus()}else m(!0,s);return;case"Tab":Xe(i.ownerDocument,"keyup",(function(e){var t;("Tab"!==e.key||e.target)&&null!=(t=g.current)&&t.contains(e.target)||m(!1,s)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),m(!1,s)}}})),(0,d.jsx)(V.Provider,{value:P,children:(0,d.jsx)(Ak.Provider,{value:O,children:f})})}z_.displayName="Dropdown",z_.Menu=b_,z_.Toggle=L_,z_.Item=U_;var B_=z_,q_=e.createContext({});q_.displayName="DropdownContext";var W_=q_,H_=["className","bsPrefix","as","role"],K_=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,a=void 0===i?"hr":i,o=e.role,s=void 0===o?"separator":o,l=c(e,H_);return r=m(r,"dropdown-divider"),(0,d.jsx)(a,u({ref:t,className:h()(n,r),role:s},l))}));K_.displayName="DropdownDivider";var Q_=K_,G_=["className","bsPrefix","as","role"],$_=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,a=void 0===i?"div":i,o=e.role,s=void 0===o?"heading":o,l=c(e,G_);return r=m(r,"dropdown-header"),(0,d.jsx)(a,u({ref:t,className:h()(n,r),role:s},l))}));$_.displayName="DropdownHeader";var Y_=$_,X_=["bsPrefix","className","eventKey","disabled","onClick","active","as"],J_=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.eventKey,a=e.disabled,o=void 0!==a&&a,s=e.onClick,l=e.active,f=e.as,p=void 0===f?ge:f,v=c(e,X_),y=m(n,"dropdown-item"),g=D(F_({key:i,href:v.href,disabled:o,onClick:s,active:l}),2),k=g[0],b=g[1];return(0,d.jsx)(p,u(u(u({},v),k),{},{ref:t,className:h()(r,y,b.isActive&&"active",o&&"disabled")}))}));J_.displayName="DropdownItem";var Z_=J_,ew=["className","bsPrefix","as"],tw=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,a=void 0===i?"span":i,o=c(e,ew);return r=m(r,"dropdown-item-text"),(0,d.jsx)(a,u({ref:t,className:h()(n,r)},o))}));tw.displayName="DropdownItemText";var nw=tw,rw=e.createContext(null);rw.displayName="InputGroupContext";var iw=rw;function aw(e,t){return e}var ow=["bsPrefix","className","align","rootCloseEvent","flip","show","renderOnMount","as","popperConfig","variant"];function sw(e,t,n){var r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t?r=e?n?"right-end":"left-end":n?"right-start":"left-start":"down-centered"===t?r="bottom":"up-centered"===t&&(r="top"),r}var uw=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,a=t.align,o=t.rootCloseEvent,s=t.flip,l=void 0===s||s,f=t.show,p=t.renderOnMount,v=t.as,y=void 0===v?"div":v,g=t.popperConfig,k=t.variant,b=c(t,ow),_=!1,w=(0,e.useContext)(oe),E=m(r,"dropdown-menu"),x=(0,e.useContext)(W_),C=x.align,S=x.drop,T=x.isRTL;a=a||C;var N=(0,e.useContext)(iw),I=[];if(a)if("object"===typeof a){var R=Object.keys(a);if(R.length){var P=R[0],O=a[P];_="start"===O,I.push("".concat(E,"-").concat(P,"-").concat(O))}}else"end"===a&&(_=!0);var A=sw(_,S,T),L=D(g_({flip:l,rootCloseEvent:o,show:f,usePopper:!w&&0===I.length,offset:[0,2],popperConfig:g,placement:A}),2),F=L[0],j=L[1],U=j.hasShown,V=j.popper,z=j.show,B=j.toggle;if(F.ref=M(aw(n),F.ref),ve((function(){z&&(null==V||V.update())}),[z]),!U&&!p&&!N)return null;"string"!==typeof y&&(F.show=z,F.close=function(){return null==B?void 0:B(!1)},F.align=a);var q=b.style;return null!=V&&V.placement&&(q=u(u({},b.style),F.style),b["x-placement"]=V.placement),(0,d.jsx)(y,u(u(u(u({},b),F),{},{style:q},(I.length||w)&&{"data-bs-popper":"static"}),{},{className:h().apply(void 0,[i,E,z&&"show",_&&"".concat(E,"-end"),k&&"".concat(E,"-").concat(k)].concat(I))}))}));uw.displayName="DropdownMenu";var lw=uw,cw=["bsPrefix","split","className","childBsPrefix","as"],fw=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.split,a=t.className,o=t.childBsPrefix,s=t.as,l=void 0===s?Tk:s,f=c(t,cw),p=m(r,"dropdown-toggle"),v=(0,e.useContext)(Ak);void 0!==o&&(f.bsPrefix=o);var y=D(D_(),1)[0];return y.ref=M(y.ref,aw(n)),(0,d.jsx)(l,u(u({className:h()(a,p,i&&"".concat(p,"-split"),(null==v?void 0:v.show)&&"show")},y),f))}));fw.displayName="DropdownToggle";var hw=fw,dw=["bsPrefix","drop","show","className","align","onSelect","onToggle","focusFirstItemOnShow","as","navbar","autoClose"],pw=e.forwardRef((function(t,n){var r=E(t,{show:"onToggle"}),i=r.bsPrefix,a=r.drop,o=void 0===a?"down":a,s=r.show,l=r.className,f=r.align,p=void 0===f?"start":f,y=r.onSelect,g=r.onToggle,k=r.focusFirstItemOnShow,b=r.as,_=void 0===b?"div":b,w=(r.navbar,r.autoClose),x=void 0===w||w,C=c(r,dw),S=(0,e.useContext)(iw),T=m(i,"dropdown"),N="rtl"===(0,e.useContext)(v).dir,I=H((function(e,t){var n;t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),n=t.source,(!1===x?"click"===n:"inside"===x?"rootClose"!==n:"outside"!==x||"select"!==n)&&(null==g||g(e,t))})),R=sw("end"===p,o,N),P=(0,e.useMemo)((function(){return{align:p,drop:o,isRTL:N}}),[p,o,N]),O={down:T,"down-centered":"".concat(T,"-center"),up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return(0,d.jsx)(W_.Provider,{value:P,children:(0,d.jsx)(B_,{placement:R,show:s,onSelect:y,onToggle:I,focusFirstItemOnShow:k,itemSelector:".".concat(T,"-item:not(.disabled):not(:disabled)"),children:S?C.children:(0,d.jsx)(_,u(u({},C),{},{ref:n,className:h()(l,s&&"show",O[o])}))})})}));pw.displayName="Dropdown";var vw=Object.assign(pw,{Toggle:hw,Menu:lw,Item:Z_,ItemText:nw,Divider:Q_,Header:Y_}),mw=["id","title","children","bsPrefix","className","rootCloseEvent","menuRole","disabled","active","renderMenuOnMount","menuVariant"],yw=e.forwardRef((function(e,t){var n=e.id,r=e.title,i=e.children,a=e.bsPrefix,o=e.className,s=e.rootCloseEvent,l=e.menuRole,f=e.disabled,p=e.active,v=e.renderMenuOnMount,y=e.menuVariant,g=c(e,mw),k=m(void 0,"nav-item");return(0,d.jsxs)(vw,u(u({ref:t},g),{},{className:h()(o,k),children:[(0,d.jsx)(vw.Toggle,{id:n,eventKey:null,active:p,disabled:f,childBsPrefix:a,as:_e,children:r}),(0,d.jsx)(vw.Menu,{role:l,renderOnMount:v,rootCloseEvent:s,variant:y,children:i})]}))}));yw.displayName="NavDropdown";var gw=Object.assign(yw,{Item:vw.Item,ItemText:vw.ItemText,Divider:vw.Divider,Header:vw.Header}),kw=function(e){e.carrito;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Jn,{bg:"dark","data-bs-theme":"dark",className:"Navbar col-12",children:(0,d.jsxs)(k,{children:[(0,d.jsx)(Jn.Brand,{children:"Ventasmania"}),(0,d.jsxs)(xe,{className:"me-auto",children:[(0,d.jsxs)(gw,{title:"Ropa",children:[(0,d.jsx)(gw.Item,{as:_k,to:"/ProyectoFinalReact_MaximilianoTrochon/remeras",children:"Remeras"}),(0,d.jsx)(gw.Item,{as:_k,to:"/ProyectoFinalReact_MaximilianoTrochon/calzado",children:"Calzado"}),(0,d.jsx)(gw.Item,{as:_k,to:"/ProyectoFinalReact_MaximilianoTrochon/accesorios",children:"Accesorios"})]}),(0,d.jsxs)(gw,{title:"Veh\xedculos",children:[(0,d.jsx)(gw.Item,{as:_k,to:"/ProyectoFinalReact_MaximilianoTrochon/motos",children:"Motos"}),(0,d.jsx)(gw.Item,{as:_k,to:"/ProyectoFinalReact_MaximilianoTrochon/autos",children:"Autos"})]}),(0,d.jsxs)(gw,{title:"Electrodom\xe9sticos",children:[(0,d.jsx)(gw.Item,{as:_k,to:"/ProyectoFinalReact_MaximilianoTrochon/televisores",children:"Televisores"}),(0,d.jsx)(gw.Item,{as:_k,to:"/ProyectoFinalReact_MaximilianoTrochon/heladeras",children:"Heladeras"})]})]}),(0,d.jsx)(xk,{})]})}),(0,d.jsx)("div",{})]})},bw=function(){var t=D((0,e.useState)(""),2),n=(t[0],t[1],D((0,e.useState)(!1),2)),r=(n[0],n[1],D((0,e.useState)(),2)),i=(r[0],r[1],D((0,e.useState)([]),2)),a=i[0],o=i[1];return(0,e.useEffect)((function(){fetch("".concat("https://randomuser.me/api/?results=3")).then((function(e){return e.json()})).then((function(e){o(e.results)}))}),[]),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:"Comentarios"}),"undefined"===typeof a?(0,d.jsx)("p",{children:"Cargando..."}):(0,d.jsx)("div",{className:"",children:a.map((function(e,t){return(0,d.jsxs)("div",{className:"randomusers col-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{style:{fontWeight:"bold"},children:[e.name.first," ",e.name.last]}),(0,d.jsx)("img",{src:e.picture.medium})]}),(0,d.jsx)("div",{className:"col-9",children:0===t?(0,d.jsx)("p",{children:"Me interesa"}):1===t?(0,d.jsx)("p",{children:"Hola que tal buenas noches. Sigue disponible?"}):(0,d.jsx)("p",{children:"Ofrecen envios?"})})]},t)}))})]})},_w=function(t){var n=t.stock,r=t.onAdd,i=t.inicial,a=D((0,e.useState)(i),2),o=a[0],s=a[1];return(0,d.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(Tk,{variant:"dark",onClick:function(){o>0&&s(o-1)},children:"-"}),(0,d.jsx)("span",{className:"btn",children:o}),(0,d.jsx)(Tk,{variant:"dark",onClick:function(){o<n&&s(o+1)},children:"+"})]}),(0,d.jsx)(Tk,{className:"mt-2",variant:"dark",disabled:0===o,onClick:function(){return r(o)},children:"Comprar"})]})},ww="@firebase/database",Ew="1.0.1",xw="";function Cw(e){xw=e}var Sw=function(){function e(t){Ot(this,e),this.domStorage_=t,this.prefix_="firebase:"}return At(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Pr(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Rr(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),Tw=function(){function e(){Ot(this,e),this.cache_={},this.isInMemoryStorage=!0}return At(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Dr(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),Nw=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Sw(t)}}catch(bT){}return new Tw},Iw=Nw("localStorage"),Rw=Nw("sessionStorage"),Pw=new ei("@firebase/database"),Ow=function(){var e=1;return function(){return e++}}(),Dw=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,ur(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Ur;n.update(t);var r=n.digest();return fr.encodeByteArray(r)},Aw=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Pr(r):r,t+=" "}return t},Lw=null,Mw=!0,Fw=function(e,t){ur(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Pw.logLevel=Qr.VERBOSE,Lw=Pw.log.bind(Pw),t&&Rw.set("logging_enabled",!0)):"function"===typeof e?Lw=e:(Lw=null,Rw.remove("logging_enabled"))},jw=function(){if(!0===Mw&&(Mw=!1,null===Lw&&!0===Rw.get("logging_enabled")&&Fw(!0)),Lw){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Aw.apply(null,t);Lw(r)}},Uw=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];jw.apply(void 0,[e].concat(n))}},Vw=function(){var e="FIREBASE INTERNAL ERROR: "+Aw.apply(void 0,arguments);Pw.error(e)},zw=function(){var e="FIREBASE FATAL ERROR: ".concat(Aw.apply(void 0,arguments));throw Pw.error(e),new Error(e)},Bw=function(){var e="FIREBASE WARNING: "+Aw.apply(void 0,arguments);Pw.warn(e)},qw=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Ww="[MIN_NAME]",Hw="[MAX_NAME]",Kw=function(e,t){if(e===t)return 0;if(e===Ww||t===Hw)return-1;if(t===Ww||e===Hw)return 1;var n=eE(e),r=eE(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Qw=function(e,t){return e===t?0:e<t?-1:1},Gw=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Pr(t))},$w=function e(t){if("object"!==typeof t||null===t)return Pr(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Pr(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},Yw=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Xw(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Jw=function(e){ur(!qw(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),l="";for(a=0;a<64;a+=8){var c=parseInt(u.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var Zw=new RegExp("^-?(0*)\\d{1,10}$"),eE=function(e){if(Zw.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},tE=function(e){try{e()}catch(bT){setTimeout((function(){var t=bT.stack||"";throw Bw("Exception was thrown by user callback.",t),bT}),Math.floor(0))}},nE=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},rE=function(){function e(t,n){var r=this;Ot(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return At(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){Bw('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),iE=function(){function e(t,n,r){var i=this;Ot(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return At(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(jw("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Bw(e)}}]),e}(),aE=function(){function e(t){Ot(this,e),this.accessToken=t}return At(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();aE.OWNER="owner";var oE="5",sE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,uE="ac",lE="websocket",cE="long_polling",fE=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];Ot(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Iw.get("host:"+t)||this._host}return At(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Iw.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function hE(e,t,n){var r;if(ur("string"===typeof t,"typeof type must == string"),ur("object"===typeof n,"typeof params must == object"),t===lE)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==cE)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return Xw(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var dE=function(){function e(){Ot(this,e),this.counters_={}}return At(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Dr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return mr(this.counters_)}}]),e}(),pE={},vE={};function mE(e){var t=e.toString();return pE[t]||(pE[t]=new dE),pE[t]}var yE=function(){function e(t){Ot(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return At(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&tE((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),1;n.currentResponseNum++};this.pendingResponses[this.currentResponseNum]&&!r(););}}]),e}(),gE="start",kE=function(){function e(t,n,r,i,a,o,s){var u=this;Ot(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Uw(t),this.stats_=mE(n),this.urlFn=function(e){return u.appCheckToken&&(e[uE]=u.appCheckToken),hE(n,cE,e)}}return At(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new yE(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Cr()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new bE((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===gE)n.id=a,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[gE]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=oE,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[uE]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&sE.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Pr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=dr(t),r=Yw(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Cr()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Pr(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Cr()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),bE=function(){function e(t,n,r,i){if(Ot(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Cr())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Ow(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(bT){jw("frame writing exception"),bT.stack&&jw(bT.stack),jw(bT)}}}return At(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Cr()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){jw("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(bT){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||jw("No IE domain setting required")}catch(bT){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),_E=null;"undefined"!==typeof MozWebSocket?_E=MozWebSocket:"undefined"!==typeof WebSocket&&(_E=WebSocket);var wE=function(){function e(t,n,r,i,a,o,s){Ot(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Uw(this.connId),this.stats_=mE(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return At(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Iw.set("previous_websocket_failure",!0);try{var r;if(Cr()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(oE,"/").concat(xw,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/ProyectoFinalReact_MaximilianoTrochon",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new _E(this.connURL,[],r)}catch(bT){this.log_("Error instantiating WebSocket.");var s=bT.message||bT.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Iw.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Rr(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(ur(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Pr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=Yw(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(bT){this.log_("Exception thrown from WebSocket.send():",bT.message||bT.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=oE,!Cr()&&"undefined"!==typeof location&&location.hostname&&sE.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[uE]=r),i&&(a.p=i),hE(e,lE,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==_E&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Iw.isInMemoryStorage||!0===Iw.get("previous_websocket_failure")}}]),e}();wE.responsesRequiredToBeHealthy=2,wE.healthyTimeout=3e4;var EE=function(){function e(t){Ot(this,e),this.initTransports_(t)}return At(e,[{key:"initTransports_",value:function(t){var n=wE&&wE.isAvailable(),r=n&&!wE.previouslyFailed();if(t.webSocketOnly&&(n||Bw("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[wE];else{var i,a=this.transports_=[],o=ir(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[kE,wE]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();EE.globalTransportInitialized_=!1;var xE=function(){function e(t,n,r,i,a,o,s,u,l,c){Ot(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Uw("c:"+this.id+":"),this.transportManager_=new EE(n),this.log_("Connection created"),this.start_()}return At(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=nE((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=Gw("t",e),n=Gw("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=Gw("t",e),n=Gw("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=Gw("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Vw("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Vw("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),oE!==n&&Bw("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),nE((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):nE((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Iw.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),CE=function(){function e(){Ot(this,e)}return At(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),SE=function(){function e(t){Ot(this,e),this.allowedEvents_=t,this.listeners_={},ur(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return At(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=Pt(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){ur(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),TE=function(e){In(n,e);var t=On(n);function n(){var e;return Ot(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||xr()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return At(n,[{key:"getInitialEvent",value:function(e){return ur("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(SE),NE=32,IE=768,RE=function(){function e(t,n){if(Ot(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return At(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function PE(){return new RE("")}function OE(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function DE(e){return e.pieces_.length-e.pieceNum_}function AE(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new RE(e.pieces_,t)}function LE(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ME(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function FE(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new RE(t,0)}function jE(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof RE)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new RE(n,0)}function UE(e){return e.pieceNum_>=e.pieces_.length}function VE(e,t){var n=OE(e),r=OE(t);if(null===n)return t;if(n===r)return VE(AE(e),AE(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function zE(e,t){if(DE(e)!==DE(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function BE(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(DE(e)>DE(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var qE=At((function e(t,n){Ot(this,e),this.errorPrefix_=n,this.parts_=ME(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=zr(this.parts_[r]);WE(this)}));function WE(e){if(e.byteLength_>IE)throw new Error(e.errorPrefix_+"has a key path longer than "+IE+" bytes ("+e.byteLength_+").");if(e.parts_.length>NE)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+NE+") or object contains a cycle "+HE(e))}function HE(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var KE=function(e){In(n,e);var t=On(n);function n(){var e,r,i;return Ot(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return At(n,[{key:"getInitialEvent",value:function(e){return ur("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(SE),QE=1e3,GE=function(e){In(n,e);var t=On(n);function n(e,r,i,a,o,s,u,l){var c;if(Ot(this,n),(c=t.call(this)).repoInfo_=e,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=a,c.onServerInfoUpdate_=o,c.authTokenProvider_=s,c.appCheckTokenProvider_=u,c.authOverride_=l,c.id=n.nextPersistentConnectionId_++,c.log_=Uw("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=QE,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!Cr())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return KE.getInstance().on("visible",c.onVisible_,Pn(c)),-1===e.host.indexOf("fblocal")&&TE.getInstance().on("online",c.onOnline_,Pn(c)),c}return At(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Pr(i)),ur(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new wr,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),ur(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ur(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Or(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Or(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),ur(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Pr(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Vw("Unrecognized action received from server: "+Pr(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;ur(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=QE,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=QE,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=QE),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=tr(Zn().mark((function e(){var t,r,i,a,o,s,u,l,c,f,h,d,p,v,m=this;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,l=function(){u?u.close():(s=!0,i())},c=function(e){ur(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:l,sendRequest:c},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:h=e.sent,d=D(h,2),p=d[0],v=d[1],s?jw("getToken() completed but was canceled"):(jw("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,u=new xE(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){Bw(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&Bw(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){jw("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){jw("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Lr(this.interruptReasons_)&&(this.reconnectDelay_=QE,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return $w(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new RE(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){jw("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){jw("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=ir(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=ir(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Cr()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+xw.replace(/\./g,"-")]=1,xr()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=TE.getInstance().currentlyOnline();return Lr(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Dr(e,"w")){var n=Ar(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();Bw("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(CE);GE.nextPersistentConnectionId_=0,GE.nextConnectionId_=0;var $E,YE=function(){function e(t,n){Ot(this,e),this.name=t,this.node=n}return At(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),XE=function(){function e(){Ot(this,e)}return At(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new YE(Ww,e),r=new YE(Ww,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return YE.MIN}}]),e}(),JE=function(e){In(n,e);var t=On(n);function n(){return Ot(this,n),t.apply(this,arguments)}return At(n,[{key:"compare",value:function(e,t){return Kw(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw lr("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return YE.MIN}},{key:"maxPost",value:function(){return new YE(Hw,$E)}},{key:"makePost",value:function(e,t){return ur("string"===typeof e,"KeyIndex indexValue must always be a string."),new YE(e,$E)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return $E},set:function(e){$E=e}}]),n}(XE),ZE=new JE,ex=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Ot(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return At(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),tx=function(){function e(t,n,r,i,a){Ot(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:ix.EMPTY_NODE,this.right=null!=a?a:ix.EMPTY_NODE}return At(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return ix.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return ix.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();tx.RED=!0,tx.BLACK=!1;var nx,rx=function(){function e(){Ot(this,e)}return At(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new tx(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),ix=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;Ot(this,e),this.comparator_=t,this.root_=n}return At(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,tx.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,tx.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new ex(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new ex(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new ex(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new ex(this.root_,null,this.comparator_,!0,e)}}]),e}();function ax(e,t){return Kw(e.name,t.name)}function ox(e,t){return Kw(e,t)}ix.EMPTY_NODE=new rx;var sx,ux,lx,cx=function(e){return"number"===typeof e?"number:"+Jw(e):"string:"+e},fx=function(e){if(e.isLeafNode()){var t=e.val();ur("string"===typeof t||"number"===typeof t||"object"===typeof t&&Dr(t,".sv"),"Priority must be a string or number.")}else ur(e===nx||e.isEmpty(),"priority of unexpected type.");ur(e===nx||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},hx=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;Ot(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,ur(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),fx(this.priorityNode_)}return At(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return UE(t)?this:".priority"===OE(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=OE(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(ur(".priority"!==r||1===DE(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(AE(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+cx(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?Jw(this.value_):this.value_,this.lazyHash_=Dw(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(ur(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return ur(i>=0,"Unknown leaf type: "+n),ur(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return sx},set:function(e){sx=e}}]),e}();hx.VALUE_TYPE_ORDER=["object","boolean","number","string"];var dx,px,vx=function(e){In(n,e);var t=On(n);function n(){return Ot(this,n),t.apply(this,arguments)}return At(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Kw(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return YE.MIN}},{key:"maxPost",value:function(){return new YE(Hw,new hx("[PRIORITY-POST]",lx))}},{key:"makePost",value:function(e,t){var n=ux(e);return new YE(t,new hx("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(XE),mx=new vx,yx=Math.log(2),gx=function(){function e(t){Ot(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/yx,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return At(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),kx=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new tx(o,a.node,tx.BLACK,null,null);var u=parseInt(s/2,10)+r,l=t(r,u),c=t(u+1,i);return a=e[u],o=n?n(a):a,new tx(o,a.node,tx.BLACK,l,c)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var l=i(a+1,s),c=e[a],f=n?n(c):c;u(new tx(f,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),f=Math.pow(2,t.count-(l+1));c?s(f,tx.BLACK):(s(f,tx.BLACK),s(f,tx.RED))}return a}(new gx(e.length));return new ix(r||t,a)},bx={},_x=function(){function e(t,n){Ot(this,e),this.indexes_=t,this.indexSet_=n}return At(e,[{key:"get",value:function(e){var t=Ar(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ix?t:null}},{key:"hasIndex",value:function(e){return Dr(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){ur(t!==ZE,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(YE.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?kx(i,t.getCompare()):bx;var u=t.toString(),l=Object.assign({},this.indexSet_);l[u]=t;var c=Object.assign({},this.indexes_);return c[u]=r,new e(c,l)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Mr(this.indexes_,(function(e,i){var a=Ar(r.indexSet_,i);if(ur(a,"Missing index implementation for "+i),e===bx){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(YE.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),kx(o,a.getCompare())}return bx}var l=n.get(t.name),c=e;return l&&(c=c.remove(new YE(t.name,l))),c.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Mr(this.indexes_,(function(e){if(e===bx)return e;var r=n.get(t.name);return r?e.remove(new YE(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return ur(bx&&mx,"ChildrenNode.ts has not been loaded"),dx=dx||new e({".priority":bx},{".priority":mx})}}]),e}(),wx=function(){function e(t,n,r){Ot(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&fx(this.priorityNode_),this.children_.isEmpty()&&ur(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return At(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||px}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?px:t}},{key:"getChild",value:function(e){var t=OE(e);return null===t?this:this.getImmediateChild(t).getChild(AE(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(ur(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new YE(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?px:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=OE(e);if(null===n)return t;ur(".priority"!==OE(e)||1===DE(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(AE(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(mx,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+cx(this.getPriority().val())+":"),this.forEachChild(mx,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Dw(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new YE(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new YE(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new YE(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,YE.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,YE.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ex?-1:0}},{key:"withIndex",value:function(t){if(t===ZE||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===ZE||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(mx),r=t.getIterator(mx),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===ZE?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return px||(px=new e(new ix(ox),null,_x.Default))}}]),e}();wx.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Ex=new(function(e){In(n,e);var t=On(n);function n(){return Ot(this,n),t.call(this,new ix(ox),wx.EMPTY_NODE,_x.Default)}return At(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return wx.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(wx));Object.defineProperties(YE,{MIN:{value:new YE(Ww,wx.EMPTY_NODE)},MAX:{value:new YE(Hw,Ex)}}),JE.__EMPTY_NODE=wx.EMPTY_NODE,hx.__childrenNodeConstructor=wx,nx=Ex,function(e){lx=e}(Ex);var xx=!0;function Cx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return wx.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),ur(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new hx(e,Cx(t));if(e instanceof Array||!xx){var n=wx.EMPTY_NODE;return Xw(e,(function(t,r){if(Dr(e,t)&&"."!==t.substring(0,1)){var i=Cx(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(Cx(t))}var r=[],i=!1;if(Xw(e,(function(e,t){if("."!==e.substring(0,1)){var n=Cx(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new YE(e,n)))}})),0===r.length)return wx.EMPTY_NODE;var a=kx(r,ax,(function(e){return e.name}),ox);if(i){var o=kx(r,mx.getCompare());return new wx(a,Cx(t),new _x({".priority":o},{".priority":mx}))}return new wx(a,Cx(t),_x.Default)}!function(e){ux=e}(Cx);var Sx=function(e){In(n,e);var t=On(n);function n(e){var r;return Ot(this,n),(r=t.call(this)).indexPath_=e,ur(!UE(e)&&".priority"!==OE(e),"Can't create PathIndex with empty path or .priority key"),r}return At(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Kw(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Cx(e),r=wx.EMPTY_NODE.updateChild(this.indexPath_,n);return new YE(t,r)}},{key:"maxPost",value:function(){var e=wx.EMPTY_NODE.updateChild(this.indexPath_,Ex);return new YE(Hw,e)}},{key:"toString",value:function(){return ME(this.indexPath_,0).join("/")}}]),n}(XE),Tx=function(e){In(n,e);var t=On(n);function n(){return Ot(this,n),t.apply(this,arguments)}return At(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?Kw(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return YE.MIN}},{key:"maxPost",value:function(){return YE.MAX}},{key:"makePost",value:function(e,t){var n=Cx(e);return new YE(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(XE),Nx=new Tx;function Ix(e){return{type:"value",snapshotNode:e}}function Rx(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Px(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ox(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Dx=function(){function e(){Ot(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=mx}return At(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return ur(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return ur(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ww}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return ur(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return ur(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hw}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return ur(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===mx}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Ax(e){var t,n={};if(e.isDefault())return n;if(e.index_===mx?t="$priority":e.index_===Nx?t="$value":e.index_===ZE?t="$key":(ur(e.index_ instanceof Sx,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Pr(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=Pr(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+Pr(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=Pr(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+Pr(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function Lx(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==mx&&(t.i=e.index_.toString()),t}var Mx=function(e){In(n,e);var t=On(n);function n(e,r,i,a){var o;return Ot(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=Uw("p:rest:"),o.listens_={},o}return At(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var l=Ax(e._queryParams);this.restRequest_(o+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Ar(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Ax(e._queryParams),r=e._path.toString(),i=new wr;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=D(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+function(e){for(var t=[],n=function(){var e=D(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}(n);t.log_("Sending REST request for "+u);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+u+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Rr(l.responseText)}catch(bT){Bw("Failed to parse JSON response for "+u+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&Bw("Got unsuccessful REST response for "+u+" Status: "+l.status),r(l.status);r=null}},l.open("GET",u,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(ur(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(CE),Fx=function(){function e(){Ot(this,e),this.rootNode_=wx.EMPTY_NODE}return At(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function jx(){return{value:null,children:new Map}}function Ux(e,t,n){if(UE(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=OE(t);e.children.has(r)||e.children.set(r,jx()),Ux(e.children.get(r),t=AE(t),n)}}function Vx(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Vx(r,new RE(t.toString()+"/"+e),n)}))}var zx,Bx=function(){function e(t){Ot(this,e),this.collection_=t,this.last_=null}return At(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Xw(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),qx=function(){function e(t,n){Ot(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Bx(t);var r=1e4+2e4*Math.random();nE(this.reportStats_.bind(this),Math.floor(r))}return At(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;Xw(t,(function(t,i){i>0&&Dr(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),nE(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Wx(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(zx||(zx={}));var Hx,Kx=function(){function e(t,n,r){Ot(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=zx.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return At(e,[{key:"operationForChild",value:function(t){if(UE(this.path)){if(null!=this.affectedTree.value)return ur(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new RE(t));return new e(PE(),n,this.revert)}return ur(OE(this.path)===t,"operationForChild called for unrelated child."),new e(AE(this.path),this.affectedTree,this.revert)}}]),e}(),Qx=function(){function e(t,n,r){Ot(this,e),this.source=t,this.path=n,this.snap=r,this.type=zx.OVERWRITE}return At(e,[{key:"operationForChild",value:function(t){return UE(this.path)?new e(this.source,PE(),this.snap.getImmediateChild(t)):new e(this.source,AE(this.path),this.snap)}}]),e}(),Gx=function(){function e(t,n,r){Ot(this,e),this.source=t,this.path=n,this.children=r,this.type=zx.MERGE}return At(e,[{key:"operationForChild",value:function(t){if(UE(this.path)){var n=this.children.subtree(new RE(t));return n.isEmpty()?null:n.value?new Qx(this.source,PE(),n.value):new e(this.source,PE(),n)}return ur(OE(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,AE(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),$x=function(){function e(t,n,r){Ot(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return At(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(UE(e))return this.isFullyInitialized()&&!this.filtered_;var t=OE(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}();function Yx(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw lr("Should only compare child_ events.");var r=new YE(t.childName,t.snapshotNode),i=new YE(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Xx(e,t){return{eventCache:e,serverCache:t}}function Jx(e,t,n,r){return Xx(new $x(t,n,r),e.serverCache)}function Zx(e,t,n,r){return Xx(e.eventCache,new $x(t,n,r))}function eC(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function tC(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var nC=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Hx||(Hx=new ix(Qw)),Hx);Ot(this,e),this.value=t,this.children=n}return At(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:PE(),value:this.value};if(UE(e))return null;var n=OE(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(AE(e),t);return null!=i?{path:jE(new RE(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(UE(t))return this;var n=OE(t),r=this.children.get(n);return null!==r?r.subtree(AE(t)):new e(null)}},{key:"set",value:function(t,n){if(UE(t))return new e(n,this.children);var r=OE(t),i=(this.children.get(r)||new e(null)).set(AE(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(UE(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=OE(t),r=this.children.get(n);if(r){var i,a=r.remove(AE(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(UE(e))return this.value;var t=OE(e),n=this.children.get(t);return n?n.get(AE(e)):null}},{key:"setTree",value:function(t,n){if(UE(t))return n;var r,i=OE(t),a=(this.children.get(i)||new e(null)).setTree(AE(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(PE(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(jE(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,PE(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(UE(e))return null;var i=OE(e),a=this.children.get(i);return a?a.findOnPath_(AE(e),jE(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,PE(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(UE(t))return this;this.value&&r(n,this.value);var i=OE(t),a=this.children.get(i);return a?a.foreachOnPath_(AE(t),jE(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(PE(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(jE(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return Xw(t,(function(e,t){n=n.set(new RE(e),t)})),n}}]),e}(),rC=function(){function e(t){Ot(this,e),this.writeTree_=t}return At(e,null,[{key:"empty",value:function(){return new e(new nC(null))}}]),e}();function iC(e,t,n){if(UE(t))return new rC(new nC(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=VE(i,t);return a=a.updateChild(o,n),new rC(e.writeTree_.set(i,a))}var s=new nC(n),u=e.writeTree_.setTree(t,s);return new rC(u)}function aC(e,t,n){var r=e;return Xw(n,(function(e,n){r=iC(r,jE(t,e),n)})),r}function oC(e,t){if(UE(t))return rC.empty();var n=e.writeTree_.setTree(t,new nC(null));return new rC(n)}function sC(e,t){return null!=uC(e,t)}function uC(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(VE(n.path,t)):null}function lC(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(mx,(function(e,n){t.push(new YE(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new YE(e,n.value))})),t}function cC(e,t){if(UE(t))return e;var n=uC(e,t);return new rC(null!=n?new nC(n):e.writeTree_.subtree(t))}function fC(e){return e.writeTree_.isEmpty()}function hC(e,t){return dC(PE(),e.writeTree_,t)}function dC(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(ur(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=dC(jE(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(jE(e,".priority"),r)),n}function pC(e,t){return TC(t,e)}function vC(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));ur(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&mC(s,r.path)?i=!1:BE(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=gC(e.allWrites,yC,PE()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=oC(e.visibleWrites,r.path):Xw(r.children,(function(t){e.visibleWrites=oC(e.visibleWrites,jE(r.path,t))}));return!0}return!1}function mC(e,t){if(e.snap)return BE(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&BE(jE(e.path,n),t))return!0;return!1}function yC(e){return e.visible}function gC(e,t,n){for(var r=rC.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)BE(n,o)?r=iC(r,s=VE(n,o),a.snap):BE(o,n)&&(s=VE(o,n),r=iC(r,PE(),a.snap.getChild(s)));else{if(!a.children)throw lr("WriteRecord should have .snap or .children");if(BE(n,o))r=aC(r,s=VE(n,o),a.children);else if(BE(o,n))if(UE(s=VE(o,n)))r=aC(r,PE(),a.children);else{var u=Ar(a.children,OE(s));if(u){var l=u.getChild(AE(s));r=iC(r,PE(),l)}}}}}return r}function kC(e,t,n,r,i){if(r||i){var a=cC(e.visibleWrites,t);if(!i&&fC(a))return n;if(i||null!=n||sC(a,PE())){var o=gC(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(BE(e.path,t)||BE(t,e.path))}),t);return hC(o,n||wx.EMPTY_NODE)}return null}var s=uC(e.visibleWrites,t);if(null!=s)return s;var u=cC(e.visibleWrites,t);return fC(u)?n:null!=n||sC(u,PE())?hC(u,n||wx.EMPTY_NODE):null}function bC(e,t,n,r){return kC(e.writeTree,e.treePath,t,n,r)}function _C(e,t){return function(e,t,n){var r=wx.EMPTY_NODE,i=uC(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(mx,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=cC(e.visibleWrites,t);return n.forEachChild(mx,(function(e,t){var n=hC(cC(a,new RE(e)),t);r=r.updateImmediateChild(e,n)})),lC(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return lC(cC(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function wC(e,t,n,r){return function(e,t,n,r,i){ur(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=jE(t,n);if(sC(e.visibleWrites,a))return null;var o=cC(e.visibleWrites,a);return fC(o)?i.getChild(n):hC(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function EC(e,t){return function(e,t){return uC(e.visibleWrites,t)}(e.writeTree,jE(e.treePath,t))}function xC(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=cC(e.visibleWrites,t),l=uC(u,PE());if(null!=l)s=l;else{if(null==n)return[];s=hC(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&c.length<i;)0!==f(d,r)&&c.push(d),d=h.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,a)}function CC(e,t,n){return function(e,t,n,r){var i=jE(t,n),a=uC(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?hC(cC(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function SC(e,t){return TC(jE(e.treePath,t),e.writeTree)}function TC(e,t){return{treePath:e,writeTree:t}}var NC=function(){function e(){Ot(this,e),this.changeMap=new Map}return At(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;ur("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ur(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Ox(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Px(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Rx(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw lr("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Ox(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),IC=new(function(){function e(){Ot(this,e)}return At(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),RC=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Ot(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return At(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new $x(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return CC(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:tC(this.viewCache_),i=xC(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function PC(e,t,n,r,i){var a,o,s=new NC;if(n.type===zx.OVERWRITE){var u=n;u.source.fromUser?a=AC(e,t,u.path,u.snap,r,i,s):(ur(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!UE(u.path),a=DC(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===zx.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var l=jE(n,r);LC(t,OE(l))&&(s=AC(e,s,l,u,i,a,o))})),r.foreach((function(r,u){var l=jE(n,r);LC(t,OE(l))||(s=AC(e,s,l,u,i,a,o))})),s}(e,t,l.path,l.children,r,i,s):(ur(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=FC(e,t,l.path,l.children,r,i,o,s))}else if(n.type===zx.ACK_USER_WRITE){var c=n;a=c.revert?function(e,t,n,r,i,a){var o;if(null!=EC(r,n))return t;var s,u=new RC(r,t,i),l=t.eventCache.getNode();if(UE(n)||".priority"===OE(n)){var c;if(t.serverCache.isFullyInitialized())c=bC(r,tC(t));else{var f=t.serverCache.getNode();ur(f instanceof wx,"serverChildren would be complete if leaf node"),c=_C(r,f)}s=e.filter.updateFullNode(l,c,a)}else{var h=OE(n),d=CC(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=l.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(l,h,d,AE(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(l,h,wx.EMPTY_NODE,AE(n),u,a):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=bC(r,tC(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=EC(r,PE()),Jx(t,s,o,e.filter.filtersNodes())}(e,t,c.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=EC(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(UE(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return DC(e,t,n,u.getNode().getChild(n),i,a,s,o);if(UE(n)){var l=new nC(null);return u.getNode().forEachChild(ZE,(function(e,t){l=l.set(new RE(e),t)})),FC(e,t,n,l,i,a,s,o)}return t}var c=new nC(null);return r.foreach((function(e,t){var r=jE(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),FC(e,t,n,c,i,a,s,o)}(e,t,c.path,c.affectedTree,r,i,s)}else{if(n.type!==zx.LISTEN_COMPLETE)throw lr("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=Zx(t,a.getNode(),a.isFullyInitialized()||UE(n),a.isFiltered());return OC(e,o,n,r,IC,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=eC(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Ix(eC(t)))}}(t,a,f),{viewCache:a,changes:f}}function OC(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=EC(r,n))return t;if(UE(n))if(ur(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=tC(t),c=_C(r,l instanceof wx?l:wx.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{var f=bC(r,tC(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=OE(n);if(".priority"===h){ur(1===DE(n),"Can't have a priority with additional path components");var d=u.getNode(),p=wC(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=AE(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var y=wC(r,n,u.getNode(),s);v=null!=y?u.getNode().getImmediateChild(h).updateChild(m,y):u.getNode().getImmediateChild(h)}else v=CC(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,m,i,a):u.getNode()}}return Jx(t,o,u.isFullyInitialized()||UE(n),e.filter.filtersNodes())}function DC(e,t,n,r,i,a,o,s){var u,l=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(UE(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{var h=OE(n);if(!l.isCompleteForPath(n)&&DE(n)>1)return t;var d=AE(n),p=l.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),h,p,d,IC,null)}var v=Zx(t,u,l.isFullyInitialized()||UE(n),c.filtersNodes());return OC(e,v,n,i,new RC(i,v,a),s)}function AC(e,t,n,r,i,a,o){var s,u,l=t.eventCache,c=new RC(i,t,a);if(UE(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=Jx(t,u,!0,e.filter.filtersNodes());else{var f=OE(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Jx(t,u,l.isFullyInitialized(),l.isFiltered());else{var h,d=AE(n),p=l.getNode().getImmediateChild(f);if(UE(d))h=r;else{var v=c.getCompleteChild(f);h=null!=v?".priority"===LE(d)&&v.getChild(FE(d)).isEmpty()?v:v.updateChild(d,r):wx.EMPTY_NODE}if(p.equals(h))s=t;else s=Jx(t,e.filter.updateChild(l.getNode(),f,h,d,c,o),l.isFullyInitialized(),e.filter.filtersNodes())}}return s}function LC(e,t){return e.eventCache.isCompleteForChild(t)}function MC(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function FC(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=UE(n)?r:new nC(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=MC(0,t.serverCache.getNode().getImmediateChild(n),r);l=DC(e,l,new RE(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!u){var f=MC(0,t.serverCache.getNode().getImmediateChild(n),r);l=DC(e,l,new RE(n),f,i,a,o,s)}})),l}var jC;function UC(e,t){var n=tC(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!UE(t)&&!n.getImmediateChild(OE(t)).isEmpty())?n.getChild(t):null}function VC(e,t,n,r){t.type===zx.MERGE&&null!==t.source.queryId&&(ur(tC(e.viewCache_),"We should always have a full cache before handling merges"),ur(eC(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=PC(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,ur(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),ur(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),ur(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,zC(e,s.changes,s.viewCache.eventCache.getNode(),null)}function zC(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Yx(e,i,"child_removed",t,r,n),Yx(e,i,"child_added",t,r,n),Yx(e,i,"child_moved",a,r,n),Yx(e,i,"child_changed",t,r,n),Yx(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var BC;function qC(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return ur(null!=a,"SyncTree gave us an op for an invalid query."),VC(a,t,n,r)}var o,s=[],u=ir(e.views.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s=s.concat(VC(l,t,n,r))}}catch(c){u.e(c)}finally{u.f()}return s}function WC(e,t){var n,r=null,i=ir(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||UC(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}var HC=At((function e(t){Ot(this,e),this.listenProvider_=t,this.syncPointTree_=new nC(null),this.pendingWriteTree_={visibleWrites:rC.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function KC(e,t,n,r,i){return function(e,t,n,r,i){ur(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=iC(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?XC(e,new Qx({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function QC(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(vC(e.pendingWriteTree_,t)){var i=new nC(null);return null!=r.snap?i=i.set(PE(),!0):Xw(r.children,(function(e){i=i.set(new RE(e),!0)})),XC(e,new Kx(r.path,i,n))}return[]}function GC(e,t,n){return XC(e,new Qx({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function $C(e,t,n,r){var i=eS(e,r);if(null!=i){var a=tS(i),o=a.path,s=a.queryId,u=VE(o,t);return nS(e,o,new Qx(Wx(s),u,n))}return[]}function YC(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=WC(n,VE(e,t));if(r)return r}));return kC(r,t,i,n,!0)}function XC(e,t){return JC(t,e.syncPointTree_,null,pC(e.pendingWriteTree_,PE()))}function JC(e,t,n,r){if(UE(e.path))return ZC(e,t,n,r);var i=t.get(PE());null==n&&null!=i&&(n=WC(i,PE()));var a=[],o=OE(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var l=n?n.getImmediateChild(o):null,c=SC(r,o);a=a.concat(JC(s,u,l,c))}return i&&(a=a.concat(qC(i,e,r,n))),a}function ZC(e,t,n,r){var i=t.get(PE());null==n&&null!=i&&(n=WC(i,PE()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=SC(r,t),u=e.operationForChild(t);u&&(a=a.concat(ZC(u,i,o,s)))})),i&&(a=a.concat(qC(i,e,r,n))),a}function eS(e,t){return e.tagToQueryMap.get(t)}function tS(e){var t=e.indexOf("$");return ur(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new RE(e.substr(0,t))}}function nS(e,t,n){var r=e.syncPointTree_.get(t);return ur(r,"Missing sync point for query tag that we're tracking"),qC(r,n,pC(e.pendingWriteTree_,t),null)}var rS=function(){function e(t){Ot(this,e),this.node_=t}return At(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),iS=function(){function e(t,n){Ot(this,e),this.syncTree_=t,this.path_=n}return At(e,[{key:"getImmediateChild",value:function(t){var n=jE(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return YC(this.syncTree_,this.path_)}}]),e}(),aS=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},oS=function(e,t,n){return e&&"object"===typeof e?(ur(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?sS(e[".sv"],t,n):"object"===typeof e[".sv"]?uS(e[".sv"],t):void ur(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},sS=function(e,t,n){if("timestamp"===e)return n.timestamp;ur(!1,"Unexpected server value: "+e)},uS=function(e,t,n){e.hasOwnProperty("increment")||ur(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&ur(!1,"Unexpected increment value: "+r);var i=t.node();if(ur(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},lS=function(e,t,n,r){return fS(t,new iS(n,e),r)},cS=function(e,t,n){return fS(e,new rS(t),n)};function fS(e,t,n){var r,i=e.getPriority().val(),a=oS(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=oS(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new hx(s,Cx(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new hx(a))),u.forEachChild(mx,(function(e,i){var a=fS(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var hS=At((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};Ot(this,e),this.name=t,this.parent=n,this.node=r}));function dS(e,t){for(var n=t instanceof RE?t:new RE(t),r=e,i=OE(n);null!==i;){var a=Ar(r.node.children,i)||{children:{},childCount:0};r=new hS(i,r,a),i=OE(n=AE(n))}return r}function pS(e){return e.node.value}function vS(e,t){e.node.value=t,bS(e)}function mS(e){return e.node.childCount>0}function yS(e,t){Xw(e.node.children,(function(n,r){t(new hS(n,e,r))}))}function gS(e,t,n,r){n&&!r&&t(e),yS(e,(function(e){gS(e,t,!0,r)})),n&&r&&t(e)}function kS(e){return new RE(null===e.parent?e.name:kS(e.parent)+"/"+e.name)}function bS(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===pS(e)&&!mS(e)}(n),i=Dr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,bS(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,bS(e))}(e.parent,e.name,e)}var _S=/[\[\].#$\/\u0000-\u001F\u007F]/,wS=/[\[\].#$\u0000-\u001F\u007F]/,ES=10485760,xS=function(e){return"string"===typeof e&&0!==e.length&&!_S.test(e)},CS=function(e){return"string"===typeof e&&0!==e.length&&!wS.test(e)},SS=function e(t,n,r){var i=r instanceof RE?new qE(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+HE(i));if("function"===typeof n)throw new Error(t+"contains a function "+HE(i)+" with contents = "+n.toString());if(qw(n))throw new Error(t+"contains "+n.toString()+" "+HE(i));if("string"===typeof n&&n.length>ES/3&&zr(n)>ES)throw new Error(t+"contains a string greater than "+ES+" utf8 bytes "+HE(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(Xw(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!xS(n)))throw new Error(t+" contains an invalid key ("+n+") "+HE(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=zr(u),WE(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=zr(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+HE(i)+" in addition to actual children.")}},TS=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!xS(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),CS(e)}(n))throw new Error(Vr(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},NS=At((function e(){Ot(this,e),this.eventLists_=[],this.recursionDepth_=0}));function IS(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||zE(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function RS(e,t,n){IS(e,n),PS(e,(function(e){return BE(e,t)||BE(t,e)}))}function PS(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(OS(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function OS(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();Lw&&jw("event: "+n.toString()),tE(r)}}}var DS="repo_interrupt",AS=25,LS=function(){function e(t,n,r,i){Ot(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new NS,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jx(),this.transactionQueueTree_=new hS,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return At(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function MS(e,t,n){if(e.stats_=mE(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Mx(e.repoInfo_,(function(t,n,r,i){US(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return VS(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Pr(n)}catch(bT){throw new Error("Invalid authOverride provided: "+bT)}}e.persistentConnection_=new GE(e.repoInfo_,t,(function(t,n,r,i){US(e,t,n,r,i)}),(function(t){VS(e,t)}),(function(t){!function(e,t){Xw(t,(function(t,n){zS(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return vE[n]||(vE[n]=t()),vE[n]}(e.repoInfo_,(function(){return new qx(e.stats_,e.server_)})),e.infoData_=new Fx,e.infoSyncTree_=new HC({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=GC(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),zS(e,"connected",!1),e.serverSyncTree_=new HC({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);RS(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function FS(e){var t=e.infoData_.getNode(new RE(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function jS(e){return aS({timestamp:FS(e)})}function US(e,t,n,r,i){e.dataUpdateCount++;var a=new RE(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=Mr(n,(function(e){return Cx(e)}));o=function(e,t,n,r){var i=eS(e,r);if(i){var a=tS(i),o=a.path,s=a.queryId,u=VE(o,t),l=nC.fromObject(n);return nS(e,o,new Gx(Wx(s),u,l))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=Cx(n);o=$C(e.serverSyncTree_,a,u,i)}else if(r){var l=Mr(n,(function(e){return Cx(e)}));o=function(e,t,n){var r=nC.fromObject(n);return XC(e,new Gx({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var c=Cx(n);o=GC(e.serverSyncTree_,a,c)}var f=a;o.length>0&&(f=QS(e,a)),RS(e.eventQueue_,f,o)}function VS(e,t){zS(e,"connected",t),!1===t&&function(e){WS(e,"onDisconnectEvents");var t=jS(e),n=jx();Vx(e.onDisconnect_,PE(),(function(r,i){var a=lS(r,i,e.serverSyncTree_,t);Ux(n,r,a)}));var r=[];Vx(n,PE(),(function(t,n){r=r.concat(GC(e.serverSyncTree_,t,n));var i=JS(e,t);QS(e,i)})),e.onDisconnect_=jx(),RS(e.eventQueue_,PE(),r)}(e)}function zS(e,t,n){var r=new RE("/.info/"+t),i=Cx(n);e.infoData_.updateSnapshot(r,i);var a=GC(e.infoSyncTree_,r,i);RS(e.eventQueue_,r,a)}function BS(e){return e.nextWriteId_++}function qS(e){e.persistentConnection_&&e.persistentConnection_.interrupt(DS)}function WS(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];jw.apply(void 0,[t].concat(r))}function HS(e,t,n){return YC(e.serverSyncTree_,t,n)||wx.EMPTY_NODE}function KS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||XS(e,t),pS(t)){var n=$S(e,t);ur(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=HS(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];ur(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=VE(t,u.path);a=a.updateChild(l,u.currentOutputSnapshotRaw)}var c=a.val(!0),f=t;e.server_.put(f.toString(),c,(function(r){WS(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(QC(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);XS(e,dS(e.transactionQueueTree_,t)),KS(e,e.transactionQueueTree_),RS(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)tE(a[u])}else{if("datastale"===r)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{Bw("transaction at "+f.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}QS(e,t)}}),o)}(e,kS(t),n)}else mS(t)&&yS(t,(function(t){KS(e,t)}))}function QS(e,t){var n=GS(e,t),r=kS(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u,l=t[a],c=VE(n,l.path),f=!1;if(ur(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)f=!0,s=l.abortReason,i=i.concat(QC(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=AS)f=!0,s="maxretry",i=i.concat(QC(e.serverSyncTree_,l.currentWriteId,!0));else{var h=HS(e,l.path,o);l.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){SS("transaction failed: Data returned ",d,l.path);var p=Cx(d);"object"===typeof d&&null!=d&&Dr(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=l.currentWriteId,m=jS(e),y=cS(p,h,m);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=y,l.currentWriteId=BS(e),o.splice(o.indexOf(v),1),i=(i=i.concat(KC(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat(QC(e.serverSyncTree_,v,!0))}else f=!0,s="nodata",i=i.concat(QC(e.serverSyncTree_,l.currentWriteId,!0))}RS(e.eventQueue_,n,i),i=[],f&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},u=0;u<t.length;u++)s(u);XS(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)tE(r[l]);KS(e,e.transactionQueueTree_)}(e,$S(e,n),r),r}function GS(e,t){var n,r=e.transactionQueueTree_;for(n=OE(t);null!==n&&void 0===pS(r);)r=dS(r,n),n=OE(t=AE(t));return r}function $S(e,t){var n=[];return YS(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function YS(e,t,n){var r=pS(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);yS(t,(function(t){YS(e,t,n)}))}function XS(e,t){var n=pS(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,vS(t,n.length>0?n:void 0)}yS(t,(function(t){XS(e,t)}))}function JS(e,t){var n=kS(GS(e,t)),r=dS(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){ZS(e,t)})),ZS(e,r),gS(r,(function(t){ZS(e,t)})),n}function ZS(e,t){var n=pS(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(ur(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(ur(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(QC(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?vS(t,void 0):n.length=a+1,RS(e.eventQueue_,kS(t),i);for(var s=0;s<r.length;s++)tE(r[s])}}var eT=function(e,t){var n=tT(e),r=n.namespace;"firebase.com"===n.domain&&zw(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||zw("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Bw("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new fE(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new RE(n.pathString)}},tT=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(s=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(c,f)),c<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(bT){}t+="/"+i}return t}(e.substring(c,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=ir(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Bw("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(l+1),10)):l=t.length;var d=t.slice(0,l);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},nT="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",rT=(function(){var e=0,t=[]}(),function(){function e(t,n,r,i){Ot(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return At(e,[{key:"key",get:function(){return UE(this._path)?null:LE(this._path)}},{key:"ref",get:function(){return new iT(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Lx(this._queryParams),t=$w(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Lx(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Br(t))instanceof e))return!1;var n=this._repo===t._repo,r=zE(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}());var iT=function(e){In(n,e);var t=On(n);function n(e,r){return Ot(this,n),t.call(this,e,r,new Dx,!1)}return At(n,[{key:"parent",get:function(){var e=FE(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(rT);!function(e){ur(!jC,"__referenceConstructor has already been defined"),jC=e}(iT),function(e){ur(!BC,"__referenceConstructor has already been defined"),BC=e}(iT);var aT="FIREBASE_DATABASE_EMULATOR_HOST",oT={},sT=!1;function uT(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||zw("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),jw("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=eT(a,i),u=s.repoInfo,l=void 0;"undefined"!==typeof process&&(l={NODE_ENV:"production",PUBLIC_URL:"/ProyectoFinalReact_MaximilianoTrochon",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[aT]),l?(o=!0,a="http://".concat(l,"?ns=").concat(u.namespace),u=(s=eT(a,i)).repoInfo):o=!s.repoInfo.secure;var c=i&&o?new aE(aE.OWNER):new iE(e.name,e.options,t);TS("Invalid Firebase Database URL",s),UE(s.path)||zw("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=oT[t.name];i||(i={},oT[t.name]=i);var a=i[e.toURLString()];a&&zw("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new LS(e,sT,n,r),i[e.toURLString()]=a,a}(u,e,c,new rE(e.name,n));return new lT(f,e)}var lT=function(){function e(t,n){Ot(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return At(e,[{key:"_repo",get:function(){return this._instanceStarted||(MS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new iT(this._repo,PE())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=oT[t];n&&n[e.key]===e||zw("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),qS(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&zw("Cannot call "+e+" on a deleted database.")}}]),e}();GE.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},GE.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Cw(Ai),Ii(new qr("database",(function(e,t){var n=t.instanceIdentifier;return uT(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Mi(ww,Ew,e),Mi(ww,Ew,"esm2017")}();var cT=function(){var t,n=function(){var t=e.useContext(Wg).matches,n=t[t.length-1];return n?n.params:{}}().productId,r=D((0,e.useState)({}),2),i=r[0],a=r[1],o=(0,e.useContext)(eg),s=(o.quitarDeCarrito,o.agregarAlCarrito),l=cy(),c=D((0,e.useState)(""),2),f=c[0],h=c[1],p=D((0,e.useState)(!1),2),v=(p[0],p[1],function(){var e=tr(Zn().mark((function e(t){var r;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sy(l,"Productos",n),e.next=3,Yy(r,{stock:i.stock-t});case 3:a(u(u({},i),{},{stock:i.stock-t}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return console.log(f),(0,e.useEffect)((function(){(function(e){e=Zm(e,iy);var t=Zm(e.firestore,ly);return Hm(fy(t),e._key).then((function(n){return Jy(t,e,n)}))})(sy(oy(l,"Productos"),n)).then((function(e){a(u({id:e.id},e.data()))})).catch((function(e){return console.log(e)}))}),[]),t="Remera"===i.categoria?"/ProyectoFinalReact_MaximilianoTrochon":"Accesorio"===i.categoria?"/ProyectoFinalReact_MaximilianoTrochon/accesorios":"/ProyectoFinalReact_MaximilianoTrochon/calzado",(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsxs)("div",{className:"col-6 py-1 mt-3 mx-auto itemdetail",children:[(0,d.jsxs)("h1",{children:[i.categoria," ",i.nombre]}),(0,d.jsx)("img",{src:i.urlImagen}),i.stock<0&&null!=i?(0,d.jsx)("p",{style:{color:"red"},children:"Sin stock."}):(0,d.jsxs)("p",{children:["Stock: ",i.stock]}),(0,d.jsxs)("p",{children:["Precio: $",i.precio]}),""===f?(0,d.jsx)(_w,{inicial:1,stock:i.stock,onAdd:function(e){h(e),s(i,e),v(e)}}):(0,d.jsx)(_k,{to:"/ProyectoFinalReact_MaximilianoTrochon/cart",className:"btn btn-dark",children:"Ir al Carrito"})]}),(0,d.jsx)(Tk,{className:"boton ",as:_k,to:t,children:"Volver"}),(0,d.jsx)(bw,{})]})},fT=function(t){var n=t.item,r=(0,e.useContext)(eg).borrarItem;return(0,d.jsxs)("div",{className:"d-flex justify-content-around align-items-center",children:[(0,d.jsx)("img",{src:n.urlImagen,alt:n.nombre,width:"150rem"}),(0,d.jsxs)("p",{children:[n.categoria,": ",n.nombre]}),(0,d.jsxs)("p",{children:["$",n.precio]}),(0,d.jsxs)("p",{children:["Cantidad: ",n.cantidad]}),(0,d.jsxs)("p",{children:["Subtotal $",n.cantidad*n.precio]}),(0,d.jsx)(Tk,{className:"btn btn-danger",onClick:function(){return r(n.id)},children:" Eliminar "})]})},hT=function(){var t=(0,e.useContext)(eg),n=t.carritoItems,r=t.reintegrarStock,i=t.carritoTotal;return console.log(n),(0,d.jsx)("div",{children:n.length?(0,d.jsxs)("div",{className:"producto",children:[n.map((function(e){return(0,d.jsx)(fT,{item:e},e.id)})),(0,d.jsxs)("p",{children:["Total a pagar: $",i()]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("button",{className:"btn btn-danger",onClick:function(){return r()},children:"Vaciar Carrito"}),(0,d.jsx)(_k,{className:"btn btn-dark",to:"/ProyectoFinalReact_MaximilianoTrochon/checkout",children:"Terminar compra"})]})]}):(0,d.jsxs)("div",{className:"producto",children:[(0,d.jsx)("h3",{children:"Tu carrito esta vacio."}),(0,d.jsx)(_k,{className:"btn btn-dark",to:"/ProyectoFinalReact_MaximilianoTrochon/",children:"Volver"})]})})},dT=function(){var t=cy(),n=D((0,e.useState)({}),2),r=n[0],i=n[1],a=D((0,e.useState)(""),2),s=a[0],l=a[1],c=D((0,e.useState)(""),2),f=c[0],h=c[1],p=(0,e.useContext)(eg),v=p.carritoItems,m=p.carritoTotal,y=p.borrarTodo,g=function(e){i(u(u({},r),{},o({},e.target.name,e.target.value)))};return(0,d.jsx)("div",{children:""!==f?(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:"Felicitaciones! Tu orden fue generada con exito"}),(0,d.jsxs)("h2",{children:["Su id de compra es: ",f]}),(0,d.jsx)(Tk,{className:"btn btn-primary",as:_k,to:"/ProyectoFinalReact_MaximilianoTrochon/",children:"Volver"})]}):(0,d.jsxs)("div",{className:"formulario",children:[(0,d.jsx)("h3",{children:"Llen\xe1 tus datos por favor."}),(0,d.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={usuario:r,item:v,total:m(),fecha:new Sy("serverTimestamp")};(function(e,t){var n=Zm(e.firestore,ly),r=sy(e),i=qy(e.converter,t);return Xy(n,[xy(Ey(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,xh.exists(!1))]).then((function(){return r}))})(oy(t,"Ordenes"),n).then((function(e){h(e.id),y()})).catch((function(e){return console.log(e)}))},children:[(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("label",{className:"form-label",children:"Nombre completo:"}),(0,d.jsx)("input",{type:"text",onChange:g,className:"form-control",placeholder:"Nombre y apellido",name:"name"})]}),(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("label",{className:"form-label",children:"Tel\xe9fono:"}),(0,d.jsx)("input",{type:"numbre",onChange:g,className:"form-control",placeholder:"Celular o fijo",name:"telefono"})]}),(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("label",{className:"form-label",children:"E-mail:"}),(0,d.jsx)("input",{type:"text",onChange:g,className:"form-control",placeholder:"Correo electr\xf3nico",name:"email"})]}),(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("label",{className:"form-label",children:"Repita su E-mail:"}),(0,d.jsx)("input",{type:"text",onChange:function(e){return l(e.target.value)},className:"form-control",placeholder:"Correo electr\xf3nico",name:"email"})]}),(0,d.jsx)("button",{className:"btn btn-dark",disabled:s!=r.email||null===r.name||0===r.telefono,type:"submit",children:"Generar orden"})]})]})})},pT=function(){return(0,d.jsx)(Ik,{categoria:"Moto",greetings:"Bienvenidos!"})},vT=function(){return(0,d.jsx)(Ik,{categoria:"Auto",greetings:"Bienvenidos!"})},mT=function(){return(0,d.jsx)(Ik,{categoria:"Televisor",greetings:"Bienvenidos!"})},yT=function(){return(0,d.jsx)(Ik,{categoria:"Heladera",greetings:"Bienvenidos!"})};var gT=function(){return(0,d.jsx)("div",{children:(0,d.jsx)(tg,{children:(0,d.jsxs)(gk,{children:[(0,d.jsx)("header",{children:(0,d.jsx)(kw,{})}),(0,d.jsxs)(ck,{children:[(0,d.jsx)(uk,{path:"/ProyectoFinalReact_MaximilianoTrochon/",element:(0,d.jsx)(Pk,{})}),(0,d.jsx)(uk,{path:"/",element:(0,d.jsx)(Pk,{})}),(0,d.jsx)(uk,{path:"/ProyectoFinalReact_MaximilianoTrochon/cart",element:(0,d.jsx)(hT,{})}),(0,d.jsx)(uk,{path:"/ProyectoFinalReact_MaximilianoTrochon/checkout",element:(0,d.jsx)(dT,{})}),(0,d.jsx)(uk,{path:"/ProyectoFinalReact_MaximilianoTrochon/remeras",element:(0,d.jsx)(Pk,{})}),(0,d.jsx)(uk,{path:"/ProyectoFinalReact_MaximilianoTrochon/calzado",element:(0,d.jsx)(Ok,{})}),(0,d.jsx)(uk,{path:"/ProyectoFinalReact_MaximilianoTrochon/accesorios",element:(0,d.jsx)(Rk,{})}),(0,d.jsx)(uk,{path:"/ProyectoFinalReact_MaximilianoTrochon/motos",element:(0,d.jsx)(pT,{})}),(0,d.jsx)(uk,{path:"/ProyectoFinalReact_MaximilianoTrochon/autos",element:(0,d.jsx)(vT,{})}),(0,d.jsx)(uk,{path:"/ProyectoFinalReact_MaximilianoTrochon/televisores",element:(0,d.jsx)(mT,{})}),(0,d.jsx)(uk,{path:"/ProyectoFinalReact_MaximilianoTrochon/heladeras",element:(0,d.jsx)(yT,{})}),(0,d.jsx)(uk,{path:"/ProyectoFinalReact_MaximilianoTrochon/:productId",element:(0,d.jsx)(cT,{})}),(0,d.jsx)(uk,{path:"/ProyectoFinalReact_MaximilianoTrochon/calzado/:productId",element:(0,d.jsx)(cT,{})}),(0,d.jsx)(uk,{path:"/ProyectoFinalReact_MaximilianoTrochon/accesorios/:productId",element:(0,d.jsx)(cT,{})})]})]})})})},kT=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};Mi("firebase","10.5.0","app");Li({apiKey:"AIzaSyAXXRILb3nQPn5qX3m1-Ce5daCkUJkvHyk",authDomain:"finalreact-maximilianotrochon.firebaseapp.com",projectId:"finalreact-maximilianotrochon",storageBucket:"finalreact-maximilianotrochon.appspot.com",messagingSenderId:"742065397373",appId:"1:742065397373:web:491713df9769793e65db14"}),r.createRoot(document.getElementById("root")).render((0,d.jsx)(e.StrictMode,{children:(0,d.jsx)(gT,{})})),kT()}()}();
//# sourceMappingURL=main.dc207e40.js.map